angular.module("myNetwork",["ui.bootstrap","ui.router","angularUtils.directives.dirPagination","myNetwork.config.stateProvider","myNetwork.config.pusherProvider","myNetwork.constants","myNetwork.filters","myNetwork.auth.service","myNetwork.auth.controller","myNetwork.post.service","myNetwork.post.viewcomments.controller","myNetwork.home.viewposts.controller","myNetwork.home.nav.controller","myNetwork.user.service","myNetwork.user.viewposts.controller","myNetwork.user.find.controller"]),angular.module("myNetwork.auth.controller",[]).controller("AuthCtrl",["$scope","$state","auth","REGEXPS",function(e,t,n,r){e.user={},e.messages={};var s=r.VALID_USER,o=r.VALID_PASSWORD;e.register=function(){e.user.username?s.test(e.user.username)?e.user.password?o.test(e.user.password)?e.user.verifyPass?e.user.password!=e.user.verifyPass?e.messages.error="Mật khẩu chưa khớp!":n.register(e.user).error(function(t){e.messages=t}).then(function(){t.go("home")}):e.messages.error="Bạn chưa nhập lại mật khẩu!":e.messages.error="Mật khẩu cần ít nhất 8 kí tự!":e.messages.error="Bạn chưa nhập mật khẩu (ít nhất 8 kí tự)!":e.messages.error="Tên người dùng từ 5 đến 20 kí tự, không chứa khoảng trắng và kí tự đặc biệt (\\ / ` \" ' # ~)!":e.messages.error="Bạn chưa nhập Tên người dùng!"},e.logIn=function(){e.user.username||e.user.password?n.logIn(e.user).error(function(t){e.messages=t}).then(function(){t.go("home")}):e.messages.error="Bạn chưa nhập tên người dùng hoặc mật khẩu!"},e.changePassword=function(){e.user.username=n.currentUser(),e.user.currentPassword&&e.user.newPassword&&e.user.verifyNewPassword?o.test(e.user.newPassword)?e.user.newPassword!=e.user.verifyNewPassword?e.messages.error="Mật khẩu chưa khớp!":n.changePassword(e.user).error(function(t){e.messages=t}).then(function(){e.messages={},e.user={},e.messages.success="Đã cập nhật mật khẩu!"}):e.messages.error="Mật khẩu cần ít nhất 8 kí tự!":e.messages.error="Bạn chưa nhập tên người dùng hoặc mật khẩu!"}}]),angular.module("myNetwork.auth.service",[]).factory("auth",["$http","$window","$state",function(e,t,n){var r={};return r.saveToken=function(e){t.localStorage["my-social-token"]=e},r.getToken=function(){return t.localStorage["my-social-token"]},r.isLoggedIn=function(){var e=r.getToken();if(e){var n=JSON.parse(t.atob(e.split(".")[1]));return n.exp>Date.now()/1e3}return!1},r.currentUser=function(){if(r.isLoggedIn()){var e=r.getToken(),n=JSON.parse(t.atob(e.split(".")[1]));return n.username}},r.isAdmin=function(){if(r.isLoggedIn()){var e=r.getToken(),n=JSON.parse(t.atob(e.split(".")[1]));return n.isAdmin}},r.register=function(t){return e.post("/users/register",t).success(function(e){r.saveToken(e.token)})},r.logIn=function(t){return e.post("/users/login",t).success(function(e){r.saveToken(e.token)})},r.logOut=function(){t.localStorage.removeItem("my-social-token"),n.go("home")},r.changePassword=function(t){return e.put("/users/changePassword",t).success(function(e){r.saveToken(e.token)})},r}]),angular.module("myNetwork.config.pusherProvider",["doowb.angular-pusher"]).config(["PusherServiceProvider",function(e){e.setToken("864c814b8f54479e5d71").setOptions({})}]),angular.module("myNetwork.config.stateProvider",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("home",{url:"/home",templateUrl:"templates/home.html",controller:"ViewPostsCtrl",resolve:{postPromise:["posts",function(e){return e.getAll()}]}}).state("posts",{url:"/posts/{id}",templateUrl:"templates/posts.html",controller:"ViewCommentsCtrl",resolve:{post:["$stateParams","posts",function(e,t){return t.get(e.id)}]}}).state("login",{url:"/login",templateUrl:"templates/login.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()&&e.go("home")}]}).state("register",{url:"/register",templateUrl:"templates/register.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()&&e.go("home")}]}).state("user",{url:"/users/{username}",templateUrl:"templates/user.html",controller:"ViewUserPostsCtrl",onEnter:["$state","$stateParams",function(e,t){t.username||e.go("home")}],resolve:{userPosts:["posts","$stateParams",function(e,t){return e.getPostsByUser(t.username)}]}}).state("findUser",{url:"/findUser",templateUrl:"templates/findUser.html",controller:"FindUserCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()||e.go("home")}]}).state("listUser",{url:"/listUser",templateUrl:"templates/listUser.html",controller:"FindUserCtrl",resolve:{userPromise:["user",function(e){return e.getAllUser()}]},onEnter:["$state","auth",function(e,t){(!t.isLoggedIn()||t.isLoggedIn()&&!t.isAdmin())&&e.go("home")}]}).state("changePassword",{url:"/changePassword",templateUrl:"templates/changePassword.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()||e.go("home")}]}),t.otherwise("home")}]),angular.module("myNetwork.constants",[]).constant("REGEXPS",{VALID_LINK_REQUIRED_PROTOCOL:/^((https|http|ftp)\:\/\/)([w|W]{3}\.)?[a-zA-Z0-9\-\.]{3,}\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?((\/[a-zA-Z0-9]*)+(\.[a-zA-Z0-9]{2,4}))?/,VALID_LINK_NOT_REQUIRED_PROTOCOL:/^((https|http|ftp)\:\/\/)?([w|W]{3}\.)?[a-zA-Z0-9\-\.]{3,}\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?((\/[a-zA-Z0-9]*)+(\.[a-zA-Z0-9]{2,4}))?/,VALID_USER:/^[a-zA-Z0-9_\.]{5,20}$/,VALID_PASSWORD:/^.{8,}$/,VALID_EMAIL:/^[a-zA-Z]+[\.0-9_]+@[a-z0-9]+\.[a-z]{2,4}$/}),angular.module("myNetwork.filters",[]).filter("link",["REGEXPS",function(e){return function(t){var n=e.VALID_LINK_REQUIRED_PROTOCOL;return n.test(t)?t:"https://"+t}}]),angular.module("myNetwork.home.viewposts.controller",[]).controller("ViewPostsCtrl",["$scope","$window","posts","auth","REGEXPS","Pusher",function(e,t,n,r,s,o){e.isLoggedIn=r.isLoggedIn,e.currentUser=r.currentUser,e.logOut=r.logOut,e.isAdmin=r.isAdmin,e.allposts=n.posts,e.sortOrder="-date",e.sortOptions=[{name:"Mới nhất",order:"-date"},{name:"Nhiều like nhất",order:"-usersLiked.length"},{name:"Nhiều bình luận nhất",order:"-comments.length"}],e.postsPerPage=10,e.currentPage=1,e.error="",e.editing={},e.currentLike=!1;var i=s.VALID_LINK_NOT_REQUIRED_PROTOCOL;e.setOrder=function(t){e.sortOrder=t},e.addPost=function(){e.newtitle?e.newlink&&!i.test(e.newlink)?e.error="Link không hợp lệ!":(n.create({title:e.newtitle,link:e.newlink,date:new Date}),e.newtitle="",e.newlink="",e.error=""):e.error="Bạn chưa nhập nội dung!"},e.moveToTop=function(){t.scrollTo(0,0)},e.like_unlike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersLiked.indexOf(t))n.like(e),e.usersLiked.push(t),e.points+=2;else{n.unlike(e);var s=e.usersLiked.indexOf(t);e.usersLiked.splice(s,1),e.points-=2}}},e.dislike_undislike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersDisliked.indexOf(t))n.dislike(e),e.usersDisliked.push(t),e.points--;else{n.undislike(e);var s=e.usersDisliked.indexOf(t);e.usersDisliked.splice(s,1),e.points++}}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Đăng nhập để thích bài viết!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Đăng nhập để không thích bài viết!"},e.edit=function(t){e.editing.current=[t,!0],e.title=e.editing.current[0].title,e.link=e.editing.current[0].link,e.moveToTop()},e.save=function(){if(e.title||e.link)if(e.title)if(e.link&&!i.test(e.link))e.error="Link không hợp lệ!";else{var r={_id:e.editing.current[0]._id,title:e.title,link:e.link,date:new Date};n.save(r),e.editing={},e.error=""}else e.error="Bạn chưa nhập nội dung!";else t.confirm("Có phải bạn muốn xóa bài viết này?")&&(n["delete"](e.editing.current[0]),e.editing={},e.error="")},e.reset=function(){e.editing={}},e["delete"]=function(e){t.confirm("Bạn có chắc chắn muốn xóa không?")&&n["delete"](e)}}]),angular.module("myNetwork.home.nav.controller",[]).controller("NavCtrl",["$scope","auth",function(e,t){e.isLoggedIn=t.isLoggedIn,e.currentUser=t.currentUser,e.logOut=t.logOut}]),angular.module("myNetwork.post.viewcomments.controller",[]).controller("ViewCommentsCtrl",["$scope","posts","post","auth","$window","Pusher",function(e,t,n,r,s,o){e.post=n,e.error="",e.button={name:"Comment"},e.currentComment={},e.currentUser=r.currentUser,e.currentPage=1,e.isLoggedIn=r.isLoggedIn,o.subscribe("comments","addComment",function(t){e.post.comments.splice(0,0,t)}),o.subscribe("comments","deleteComment",function(t){var n=e.post.comments.map(function(e){return e._id}).indexOf(t.comment);e.post.comments.splice(n,1)}),e.addComment=function(){e.body?(t.addComment(n._id,{body:e.body,date:new Date}),e.error=null):e.error="Bạn chưa nhập nội dung bình luận!",e.body=""},e.like_unlikeComment=function(e,n){var s=r.currentUser();if(-1===n.usersLiked.indexOf(s))t.likeComment(e,n),n.usersLiked.push(s);else{t.unlikeComment(e,n);var o=n.usersLiked.indexOf(s);n.usersLiked.splice(o,1)}},e.dislike_undislikeComment=function(e,n){var s=r.currentUser();if(-1===n.usersDisliked.indexOf(s))t.dislikeComment(e,n),n.usersDisliked.push(s);else{t.undislikeComment(e,n);var o=n.usersDisliked.indexOf(s);n.usersDisliked.splice(o,1)}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Đăng nhập để thích bình luận!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Đăng nhập để không thích bình luận!"},e.deleteComment=function(e,n){s.confirm("Bạn có chắc chắn muốn xóa không?")&&t.deleteComment(e,n)},e.editComment=function(t,n){e.button.name="Save",e.body=n.body,e.currentComment=n;var r=angular.element(document.body.scrollHeight).toString(),o=parseInt(r.substr(1,r.length-2));s.scrollTo(0,o),document.querySelector("#commentInput").select()},e.save=function(n,r){e.body?t.saveComment(n,{_id:e.currentComment._id,body:e.body,date:new Date}):s.confirm("Bạn có chắc chắn muốn xóa không?")&&t.deleteComment(n,e.currentComment),e.button.name="Comment",e.body=""},e.reset=function(){e.body="",e.button.name="Comment"},e.moveToTop=function(){s.scrollTo(0,0)}}]),angular.module("myNetwork.post.service",[]).factory("posts",["$http","auth","Pusher",function(e,t,n){var r={posts:[]};return n.subscribe("posts","addPost",function(e){r.posts.splice(0,0,e)}),n.subscribe("posts","deletePost",function(e){var t=r.getAllPostIds().indexOf(e.post);r.posts.splice(t,1)}),r.getAll=function(){return e.get("/posts").success(function(e){angular.copy(e,r.posts)})},r.getPostsByUser=function(t){return e.get("/posts/user/"+t).then(function(e){return e.data})},r.getAllPostIds=function(){return r.posts.map(function(e){return e._id})},r.create=function(n){return e.post("/posts",n,{headers:{Authorization:"Bearer "+t.getToken()}})},r.get=function(t){return e.get("/posts/"+t).then(function(e){return e.data})},r.addComment=function(n,r){return e.post("/posts/"+n+"/comments",r,{headers:{Authorization:"Bearer "+t.getToken()}})},r.like=function(n){return e.put("/posts/"+n._id+"/like",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.unlike=function(n){return e.put("/posts/"+n._id+"/unlike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.dislike=function(n){return e.put("/posts/"+n._id+"/dislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.undislike=function(n){return e.put("/posts/"+n._id+"/undislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.save=function(n){return e.put("/posts/"+n._id+"/save",n,{headers:{Authorization:"Bearer "+t.getToken()}}).success(function(e){var t=r.getAllPostIds().indexOf(e._id);r.posts[t]=e})},r.saveComment=function(n,s){return e.put("/posts/"+n._id+"/comments/"+s._id+"/save",s,{headers:{Authorization:"Bearer "+t.getToken()}}).success(function(e){var t=(r.getAllPostIds().indexOf(n._id),n.comments.map(function(e){return e._id}).indexOf(e._id));n.comments[t]=e})},r["delete"]=function(n){return e["delete"]("/posts/"+n._id,null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.deleteComment=function(n,s){var o=r.getAllPostIds().indexOf(n._id),i=n.comments.indexOf(s);return n.comments.splice(i,1),r.posts[o]=n,e["delete"]("/posts/"+n._id+"/comments/"+s._id,null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.likeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/like",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.unlikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/unlike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.dislikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/dislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.undislikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/undislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r}]),angular.module("myNetwork.user.find.controller",[]).controller("FindUserCtrl",["$scope","user","$state","$window",function(e,t,n,r){e.users=t.users,e.messages={},e.findUser=function(e){return t.findUser(e).then(function(e){return e.data.map(function(e){return e.username})})},e["goto"]=function(t){t?n.go("user",{username:t}):e.messages.error="Bạn chưa nhập tên người dùng cần tìm!"},e.deleteUser=function(e){r.confirm("Bạn có chắc chắn muốn xóa người dùng này ra khỏi hệ thống?")&&t.deleteUser(e)}}]),angular.module("myNetwork.user.viewposts.controller",[]).controller("ViewUserPostsCtrl",["$scope","$stateParams","$state","auth","posts","userPosts","$window","REGEXPS",function(e,t,n,r,s,o,i,u){e.isLoggedIn=r.isLoggedIn,e.currentUser=r.currentUser,e.logOut=r.logOut,e.allposts=o,e.username=t.username,e.currentPage=1,e.postsPerPage=10,e.editing={};var l=u.VALID_LINK_NOT_REQUIRED_PROTOCOL;e.like_unlike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersLiked.indexOf(t))s.like(e),e.usersLiked.push(t),e.points+=2;else{s.unlike(e);var n=e.usersLiked.indexOf(t);e.usersLiked.splice(n,1),e.points-=2}}},e.dislike_undislike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersDisliked.indexOf(t))s.dislike(e),e.usersDisliked.push(t),e.points--;else{s.undislike(e);var n=e.usersDisliked.indexOf(t);e.usersDisliked.splice(n,1),e.points++}}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Bạn cần đăng nhập!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Bạn cần đăng nhập!"},e.edit=function(t){e.editing.current=[t,!0],e.title=e.editing.current[0].title,e.link=e.editing.current[0].link,i.scrollTo(0,0)},e.save=function(){if(e.title||e.link)if(e.title)if(e.link&&!l.test(e.link))e.error="Link không hợp lệ!";else{var t={_id:e.editing.current[0]._id,title:e.title,link:e.link,date:new Date};s.save(t);var n=e.allposts.map(function(e){return e._id}).indexOf(e.editing.current[0]._id);e.allposts[n].title=t.title,e.allposts[n].link=t.link,e.allposts[n].date=t.date,e.editing={},e.error=""}else e.error="Bạn chưa nhập nội dung!";else i.confirm("Bạn có chắc chắn muốn xóa không?")&&(s["delete"](e.editing.current[0]),e.editing={},e.error="")},e.reset=function(){e.editing={}},e["delete"]=function(t){if(i.confirm("Có phải bạn muốn xóa bài viết này?")){s["delete"](t);var n=e.allposts.map(function(e){return e._id}).indexOf(t._id);e.allposts.splice(n,1)}}}]),angular.module("myNetwork.user.service",[]).factory("user",["$http","auth",function(e,t){var n={users:[]};return n.findUser=function(t){return e({method:"GET",url:"/users/findUser/"+t})},n.getAllUser=function(){return e({method:"GET",url:"/users/all"}).success(function(e){angular.copy(e,n.users)})},n.deleteUser=function(r){var s=n.users.map(function(e){return e.username}).indexOf(r.username);return n.users.splice(s,1),e["delete"]("/users/delete/"+r.username,null,{headers:{Authorization:"Bearer "+t.getToken()}})},n}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXJBcHAuanMiLCJhdXRoQ29udHJvbGxlci5qcyIsImF1dGhTZXJ2aWNlLmpzIiwicHVzaGVyUHJvdmlkZXIuanMiLCJzdGF0ZVByb3ZpZGVyLmpzIiwiY29uc3RhbnRzLmpzIiwiZmlsdGVycy5qcyIsIm1haW5Db250cm9sbGVyLmpzIiwibmF2Q29udHJvbGxlci5qcyIsInBvc3RDb250cm9sbGVyLmpzIiwicG9zdFNlcnZpY2UuanMiLCJmaW5kVXNlckNvbnRyb2xsZXIuanMiLCJ1c2VyQ29udHJvbGxlci5qcyIsInVzZXJTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJHN0YXRlIiwiYXV0aCIsInJlZ2V4IiwidXNlciIsIm1lc3NhZ2VzIiwiVVNFUl9SRUdFWCIsIlZBTElEX1VTRVIiLCJQQVNTX1JFR0VYIiwiVkFMSURfUEFTU1dPUkQiLCJyZWdpc3RlciIsInVzZXJuYW1lIiwidGVzdCIsInBhc3N3b3JkIiwidmVyaWZ5UGFzcyIsImVycm9yIiwiZXJyIiwidGhlbiIsImdvIiwibG9nSW4iLCJjaGFuZ2VQYXNzd29yZCIsImN1cnJlbnRVc2VyIiwiY3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJ2ZXJpZnlOZXdQYXNzd29yZCIsInN1Y2Nlc3MiLCJmYWN0b3J5IiwiJGh0dHAiLCIkd2luZG93IiwiYXV0aFNlcnZpY2UiLCJzYXZlVG9rZW4iLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldFRva2VuIiwiaXNMb2dnZWRJbiIsInBheWxvYWQiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwic3BsaXQiLCJleHAiLCJEYXRlIiwibm93IiwiaXNBZG1pbiIsInBvc3QiLCJkYXRhIiwibG9nT3V0IiwicmVtb3ZlSXRlbSIsInB1dCIsImNvbmZpZyIsIlB1c2hlclNlcnZpY2VQcm92aWRlciIsInNldFRva2VuIiwic2V0T3B0aW9ucyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsInJlc29sdmUiLCJwb3N0UHJvbWlzZSIsInBvc3RzIiwiZ2V0QWxsIiwiJHN0YXRlUGFyYW1zIiwiZ2V0IiwiaWQiLCJvbkVudGVyIiwidXNlclBvc3RzIiwiZ2V0UG9zdHNCeVVzZXIiLCJ1c2VyUHJvbWlzZSIsImdldEFsbFVzZXIiLCJvdGhlcndpc2UiLCJjb25zdGFudCIsIlZBTElEX0xJTktfUkVRVUlSRURfUFJPVE9DT0wiLCJWQUxJRF9MSU5LX05PVF9SRVFVSVJFRF9QUk9UT0NPTCIsIlZBTElEX0VNQUlMIiwiZmlsdGVyIiwibGluayIsIlZBTElEX0xJTksiLCJQdXNoZXIiLCJhbGxwb3N0cyIsInNvcnRPcmRlciIsInNvcnRPcHRpb25zIiwibmFtZSIsIm9yZGVyIiwicG9zdHNQZXJQYWdlIiwiY3VycmVudFBhZ2UiLCJlZGl0aW5nIiwiY3VycmVudExpa2UiLCJzZXRPcmRlciIsImFkZFBvc3QiLCJuZXd0aXRsZSIsIm5ld2xpbmsiLCJjcmVhdGUiLCJ0aXRsZSIsImRhdGUiLCJtb3ZlVG9Ub3AiLCJzY3JvbGxUbyIsImxpa2VfdW5saWtlIiwidXNlcnNMaWtlZCIsImluZGV4T2YiLCJsaWtlIiwicHVzaCIsInBvaW50cyIsInVubGlrZSIsImluZGV4Iiwic3BsaWNlIiwiZGlzbGlrZV91bmRpc2xpa2UiLCJ1c2Vyc0Rpc2xpa2VkIiwiZGlzbGlrZSIsInVuZGlzbGlrZSIsImxpa2VUb29sdGlwVGV4dCIsImRpc2xpa2VUb29sdGlwVGV4dCIsImVkaXQiLCJjdXJyZW50Iiwic2F2ZSIsInVwZGF0ZWRQb3N0IiwiX2lkIiwiY29uZmlybSIsInJlc2V0IiwiYnV0dG9uIiwiY3VycmVudENvbW1lbnQiLCJzdWJzY3JpYmUiLCJjb21tZW50IiwiY29tbWVudHMiLCJtYXAiLCJpdGVtIiwiYWRkQ29tbWVudCIsImJvZHkiLCJsaWtlX3VubGlrZUNvbW1lbnQiLCJsaWtlQ29tbWVudCIsInVubGlrZUNvbW1lbnQiLCJkaXNsaWtlX3VuZGlzbGlrZUNvbW1lbnQiLCJkaXNsaWtlQ29tbWVudCIsInVuZGlzbGlrZUNvbW1lbnQiLCJkZWxldGVDb21tZW50IiwiZWRpdENvbW1lbnQiLCJoZWlnaHRTdHIiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJzY3JvbGxIZWlnaHQiLCJ0b1N0cmluZyIsImhlaWdodCIsInBhcnNlSW50Iiwic3Vic3RyIiwibGVuZ3RoIiwicXVlcnlTZWxlY3RvciIsInNlbGVjdCIsInNhdmVDb21tZW50IiwicG9zdFNlcnZpY2UiLCJnZXRBbGxQb3N0SWRzIiwiY29weSIsInJlc3BvbnNlIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJyZXMiLCJwb3N0SW5kZXgiLCJjb21tZW50SW5kZXgiLCJ1c2VycyIsImZpbmRVc2VyIiwidXNyIiwiZGVsZXRlVXNlciIsInVzZXJTZXJ2aWNlIiwibWV0aG9kIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBQUMsT0FBQSxhQUNBLGVBQ0EsWUFDQSx3Q0FDQSxpQ0FDQSxrQ0FDQSxzQkFDQSxvQkFDQSx5QkFDQSw0QkFDQSx5QkFDQSx5Q0FDQSxzQ0FDQSxnQ0FDQSx5QkFDQSxzQ0FDQSxtQ0NoQkFELFFBQUFDLE9BQUEsZ0NBQ0FDLFdBQUEsWUFBQSxTQUFBLFNBQUEsT0FBQSxVQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FILEVBQUFJLFFBQ0FKLEVBQUFLLFdBQ0EsSUFBQUMsR0FBQUgsRUFBQUksV0FDQUMsRUFBQUwsRUFBQU0sY0FFQVQsR0FBQVUsU0FBQSxXQUNBVixFQUFBSSxLQUFBTyxTQUdBTCxFQUFBTSxLQUFBWixFQUFBSSxLQUFBTyxVQUdBWCxFQUFBSSxLQUFBUyxTQUdBTCxFQUFBSSxLQUFBWixFQUFBSSxLQUFBUyxVQUdBYixFQUFBSSxLQUFBVSxXQUdBZCxFQUFBSSxLQUFBUyxVQUFBYixFQUFBSSxLQUFBVSxXQUNBZCxFQUFBSyxTQUFBVSxNQUFBLHNCQUdBYixFQUNBUSxTQUFBVixFQUFBSSxNQUNBVyxNQUFBLFNBQUFDLEdB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QUF5RixRQUFBLHNDQUNBekQsRUFBQUEsVUFBQTVELEVBQUFzRixRQUFBMkIsUUFBQSxJQUNBakgsRUFBQXNGLFdBQ0F0RixFQUFBZSxNQUFBLEtBMkJBZixFQUFBc0gsTUFBQSxXQUNBdEgsRUFBQXNGLFlBSUF0RixFQUFBQSxVQUFBLFNBQUE0QyxHQUNBLEdBQUFoQixFQUFBeUYsUUFBQSxzQ0FBQSxDQUNBekQsRUFBQUEsVUFBQWhCLEVBQ0EsSUFBQTRELEdBQUF4RyxFQUFBK0UsU0FBQTZDLElBQUEsU0FBQUMsR0FDQSxNQUFBQSxHQUFBVCxNQUNBakIsUUFBQXZELEVBQUF3RSxJQUNBcEgsR0FBQStFLFNBQUEwQixPQUFBRCxFQUFBLFFDekhBM0csUUFBQUMsT0FBQSw2QkFDQTRCLFFBQUEsUUFBQSxRQUFBLE9BQUEsU0FBQUMsRUFBQXpCLEdBQ0EsR0FBQStKLElBQ0FKLFNBK0JBLE9BNUJBSSxHQUFBSCxTQUFBLFNBQUFDLEdBQ0EsTUFBQXBJLElBQ0F1SSxPQUFBLE1BQ0ExRyxJQUFBLG1CQUFBdUcsS0FJQUUsRUFBQTVGLFdBQUEsV0FDQSxNQUFBMUMsSUFDQXVJLE9BQUEsTUFDQTFHLElBQUEsZUFDQS9CLFFBQUEsU0FBQW9JLEdBQ0FoSyxRQUFBeUosS0FBQU8sRUFBQUksRUFBQUosVUFJQUksRUFBQUQsV0FBQSxTQUFBRCxHQUNBLEdBQUF2RCxHQUFBeUQsRUFBQUosTUFBQWpDLElBQUEsU0FBQUMsR0FDQSxNQUFBQSxHQUFBbEgsV0FDQXdGLFFBQUE0RCxFQUFBcEosU0FHQSxPQUZBc0osR0FBQUosTUFBQXBELE9BQUFELEVBQUEsR0FFQTdFLEVBQUFBLFVBQUEsaUJBQUFvSSxFQUFBcEosU0FBQSxNQUNBNkksU0FBQUMsY0FBQSxVQUFBdkosRUFBQStCLGVBS0FnSSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29ya1wiLCBbXHJcblx0J3VpLmJvb3RzdHJhcCcsXHJcblx0J3VpLnJvdXRlcicsXHJcblx0XCJhbmd1bGFyVXRpbHMuZGlyZWN0aXZlcy5kaXJQYWdpbmF0aW9uXCIsXHJcblx0XCJteU5ldHdvcmsuY29uZmlnLnN0YXRlUHJvdmlkZXJcIixcclxuXHRcIm15TmV0d29yay5jb25maWcucHVzaGVyUHJvdmlkZXJcIixcclxuXHRcIm15TmV0d29yay5jb25zdGFudHNcIixcclxuXHRcIm15TmV0d29yay5maWx0ZXJzXCIsXHJcblx0XCJteU5ldHdvcmsuYXV0aC5zZXJ2aWNlXCIsXHJcblx0XCJteU5ldHdvcmsuYXV0aC5jb250cm9sbGVyXCIsXHJcblx0XCJteU5ldHdvcmsucG9zdC5zZXJ2aWNlXCIsXHJcblx0XCJteU5ldHdvcmsucG9zdC52aWV3Y29tbWVudHMuY29udHJvbGxlclwiLFxyXG5cdFwibXlOZXR3b3JrLmhvbWUudmlld3Bvc3RzLmNvbnRyb2xsZXJcIixcclxuXHRcIm15TmV0d29yay5ob21lLm5hdi5jb250cm9sbGVyXCIsXHJcblx0XCJteU5ldHdvcmsudXNlci5zZXJ2aWNlXCIsXHJcblx0XCJteU5ldHdvcmsudXNlci52aWV3cG9zdHMuY29udHJvbGxlclwiLFxyXG5cdFwibXlOZXR3b3JrLnVzZXIuZmluZC5jb250cm9sbGVyXCJcclxuXHRdKTtcclxuXHRcclxuXHRcclxuXHJcblx0XHJcblxyXG5cdFxyXG5cclxuXHRcclxuXHJcblx0XHJcblxyXG5cdCIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLmF1dGguY29udHJvbGxlclwiLCBbXSlcclxuXHQuY29udHJvbGxlcignQXV0aEN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnYXV0aCcsICdSRUdFWFBTJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUsIGF1dGgsIHJlZ2V4KXtcclxuXHRcdCRzY29wZS51c2VyID0ge307XHJcblx0XHQkc2NvcGUubWVzc2FnZXMgPSB7fTtcclxuICAgICAgdmFyIFVTRVJfUkVHRVggPSByZWdleC5WQUxJRF9VU0VSO1xyXG4gICAgICB2YXIgUEFTU19SRUdFWCA9IHJlZ2V4LlZBTElEX1BBU1NXT1JEO1xyXG5cclxuXHRcdCRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgIGlmICghJHNjb3BlLnVzZXIudXNlcm5hbWUpIHtcclxuICAgICAgICAgXHQkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSBcIkLhuqFuIGNoxrBhIG5o4bqtcCBUw6puIG5nxrDhu51pIGTDuW5nIVwiO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIGlmICghVVNFUl9SRUdFWC50ZXN0KCRzY29wZS51c2VyLnVzZXJuYW1lKSkge1xyXG4gICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSBcIlTDqm4gbmfGsOG7nWkgZMO5bmcgdOG7qyA1IMSR4bq/biAyMCBrw60gdOG7sSwga2jDtG5nIGNo4bupYSBraG/huqNuZyB0cuG6r25nIHbDoCBrw60gdOG7sSDEkeG6t2MgYmnhu4d0IChcXFxcIC8gYCBcXFwiICcgIyB+KSFcIjtcclxuICAgICAgICAgfSBcclxuICAgICAgICAgZWxzZSBpZiAoISRzY29wZS51c2VyLnBhc3N3b3JkKSB7XHJcbiAgICAgICAgIFx0JHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gXCJC4bqhbiBjaMawYSBuaOG6rXAgbeG6rXQga2jhuql1ICjDrXQgbmjhuqV0IDgga8OtIHThu7EpIVwiO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIGlmICghUEFTU19SRUdFWC50ZXN0KCRzY29wZS51c2VyLnBhc3N3b3JkKSkge1xyXG4gICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSBcIk3huq10IGto4bqpdSBj4bqnbiDDrXQgbmjhuqV0IDgga8OtIHThu7EhXCI7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2UgaWYgKCEkc2NvcGUudXNlci52ZXJpZnlQYXNzKSB7XHJcbiAgICAgICAgIFx0JHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gXCJC4bqhbiBjaMawYSBuaOG6rXAgbOG6oWkgbeG6rXQga2jhuql1IVwiO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIGlmICgkc2NvcGUudXNlci5wYXNzd29yZCAhPSAkc2NvcGUudXNlci52ZXJpZnlQYXNzKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5lcnJvciA9IFwiTeG6rXQga2jhuql1IGNoxrBhIGto4bubcCFcIjtcclxuICAgICAgICAgfSBcclxuICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGF1dGhcclxuICAgICAgICAgXHRcdC5yZWdpc3Rlcigkc2NvcGUudXNlcilcclxuICAgICAgICAgXHRcdC5lcnJvcihmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICBcdFx0XHQkc2NvcGUubWVzc2FnZXMgPSBlcnI7XHJcbiAgICAgICAgIFx0XHR9KVxyXG4gICAgICAgICBcdFx0LnRoZW4oZnVuY3Rpb24oKXtcclxuXHQgICAgICAgICBcdFx0JHN0YXRlLmdvKFwiaG9tZVwiKTtcclxuXHQgICAgICAgICBcdH0pO1xyXG4gICAgICAgICB9XHJcblxyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0JHNjb3BlLmxvZ0luID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYgKCEkc2NvcGUudXNlci51c2VybmFtZSAmJiAhJHNjb3BlLnVzZXIucGFzc3dvcmQpIHtcclxuXHRcdFx0XHQkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSBcIkLhuqFuIGNoxrBhIG5o4bqtcCB0w6puIG5nxrDhu51pIGTDuW5nIGhv4bq3YyBt4bqtdCBraOG6qXUhXCI7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YXV0aFxyXG5cdFx0XHRcdFx0LmxvZ0luKCRzY29wZS51c2VyKVxyXG5cdFx0XHRcdFx0LmVycm9yKGZ1bmN0aW9uKGVycil7XHJcblx0XHRcdFx0XHRcdCRzY29wZS5tZXNzYWdlcyA9IGVycjtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHQudGhlbihmdW5jdGlvbigpe1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUnKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuICAgICAgJHNjb3BlLmNoYW5nZVBhc3N3b3JkID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgJHNjb3BlLnVzZXIudXNlcm5hbWUgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcbiAgICAgICAgIGlmICghJHNjb3BlLnVzZXIuY3VycmVudFBhc3N3b3JkIHx8ICEkc2NvcGUudXNlci5uZXdQYXNzd29yZCB8fCAhJHNjb3BlLnVzZXIudmVyaWZ5TmV3UGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gJ0LhuqFuIGNoxrBhIG5o4bqtcCB0w6puIG5nxrDhu51pIGTDuW5nIGhv4bq3YyBt4bqtdCBraOG6qXUhJztcclxuICAgICAgICAgfVxyXG4gICAgICAgICBlbHNlIGlmICghUEFTU19SRUdFWC50ZXN0KCRzY29wZS51c2VyLm5ld1Bhc3N3b3JkKSkge1xyXG4gICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSAnTeG6rXQga2jhuql1IGPhuqduIMOtdCBuaOG6pXQgOCBrw60gdOG7sSEnO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIGlmICgkc2NvcGUudXNlci5uZXdQYXNzd29yZCAhPSAkc2NvcGUudXNlci52ZXJpZnlOZXdQYXNzd29yZCkge1xyXG4gICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSAnTeG6rXQga2jhuql1IGNoxrBhIGto4bubcCEnO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYXV0aFxyXG4gICAgICAgICAgICAgICAuY2hhbmdlUGFzc3dvcmQoJHNjb3BlLnVzZXIpXHJcbiAgICAgICAgICAgICAgIC5lcnJvcihmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMgPSBlcnI7XHJcbiAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUudXNlciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMuc3VjY2VzcyA9IFwixJDDoyBj4bqtcCBuaOG6rXQgbeG6rXQga2jhuql1IVwiO1xyXG4gICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgfVxyXG4gICAgICAgICBcclxuICAgICAgfTtcclxuXHR9XSk7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuYXV0aC5zZXJ2aWNlXCIsIFtdKVxyXG5cdC5mYWN0b3J5KCdhdXRoJywgWyckaHR0cCcsICckd2luZG93JywgJyRzdGF0ZScsIGZ1bmN0aW9uKCRodHRwLCAkd2luZG93LCAkc3RhdGUpe1xyXG5cdFx0dmFyIGF1dGhTZXJ2aWNlID0ge307XHJcblx0XHRcclxuXHRcdGF1dGhTZXJ2aWNlLnNhdmVUb2tlbiA9IGZ1bmN0aW9uKHRva2VuKXtcclxuXHRcdFx0JHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ215LXNvY2lhbC10b2tlbiddID0gdG9rZW47XHJcblx0XHR9O1xyXG5cclxuXHRcdGF1dGhTZXJ2aWNlLmdldFRva2VuID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0cmV0dXJuICR3aW5kb3cubG9jYWxTdG9yYWdlWydteS1zb2NpYWwtdG9rZW4nXTtcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGF1dGhTZXJ2aWNlLmlzTG9nZ2VkSW4gPSBmdW5jdGlvbigpe1xyXG5cdFx0XHR2YXIgdG9rZW4gPSBhdXRoU2VydmljZS5nZXRUb2tlbigpO1xyXG5cclxuXHRcdFx0aWYgKHRva2VuKSB7XHJcblx0XHRcdFx0dmFyIHBheWxvYWQgPSBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYih0b2tlbi5zcGxpdCgnLicpWzFdKSk7XHJcblx0XHRcdFx0cmV0dXJuIChwYXlsb2FkLmV4cCA+IERhdGUubm93KCkvMTAwMCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGF1dGhTZXJ2aWNlLmN1cnJlbnRVc2VyID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYgKGF1dGhTZXJ2aWNlLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB0b2tlbiA9IGF1dGhTZXJ2aWNlLmdldFRva2VuKCk7XHJcblx0XHRcdFx0dmFyIHBheWxvYWQgPSBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYih0b2tlbi5zcGxpdCgnLicpWzFdKSk7XHJcblx0XHRcdFx0cmV0dXJuIHBheWxvYWQudXNlcm5hbWU7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0YXV0aFNlcnZpY2UuaXNBZG1pbiA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdGlmIChhdXRoU2VydmljZS5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHR2YXIgdG9rZW4gPSBhdXRoU2VydmljZS5nZXRUb2tlbigpO1xyXG5cdFx0XHRcdHZhciBwYXlsb2FkID0gSlNPTi5wYXJzZSgkd2luZG93LmF0b2IodG9rZW4uc3BsaXQoJy4nKVsxXSkpO1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHJldHVybiBwYXlsb2FkLmlzQWRtaW47XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0YXV0aFNlcnZpY2UucmVnaXN0ZXIgPSBmdW5jdGlvbih1c2VyKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvdXNlcnMvcmVnaXN0ZXInLCB1c2VyKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdGF1dGhTZXJ2aWNlLnNhdmVUb2tlbihkYXRhLnRva2VuKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRhdXRoU2VydmljZS5sb2dJbiA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy91c2Vycy9sb2dpbicsIHVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdFx0YXV0aFNlcnZpY2Uuc2F2ZVRva2VuKGRhdGEudG9rZW4pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0YXV0aFNlcnZpY2UubG9nT3V0ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0JHdpbmRvdy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnbXktc29jaWFsLXRva2VuJyk7XHJcblx0XHRcdCRzdGF0ZS5nbygnaG9tZScpO1xyXG5cdFx0fTtcclxuXHJcblx0XHRhdXRoU2VydmljZS5jaGFuZ2VQYXNzd29yZCA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3VzZXJzL2NoYW5nZVBhc3N3b3JkJywgdXNlcikuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0XHRhdXRoU2VydmljZS5zYXZlVG9rZW4oZGF0YS50b2tlbik7XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coZGF0YS50b2tlbik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gYXV0aFNlcnZpY2U7XHJcblx0fV0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLmNvbmZpZy5wdXNoZXJQcm92aWRlclwiLCBbJ2Rvb3diLmFuZ3VsYXItcHVzaGVyJ10pXHJcblx0LmNvbmZpZyhbJ1B1c2hlclNlcnZpY2VQcm92aWRlcicsIGZ1bmN0aW9uKFB1c2hlclNlcnZpY2VQcm92aWRlcikge1xyXG5cdFx0UHVzaGVyU2VydmljZVByb3ZpZGVyXHJcblx0XHRcdC5zZXRUb2tlbignODY0YzgxNGI4ZjU0NDc5ZTVkNzEnKVxyXG5cdFx0XHQuc2V0T3B0aW9ucyh7fSk7XHJcblx0fV0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLmNvbmZpZy5zdGF0ZVByb3ZpZGVyXCIsIFsndWkucm91dGVyJ10pXHJcblx0LmNvbmZpZyhbXCIkc3RhdGVQcm92aWRlclwiLCBcIiR1cmxSb3V0ZXJQcm92aWRlclwiLCBmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKXtcclxuXHRcdCRzdGF0ZVByb3ZpZGVyXHJcblx0XHRcdC5zdGF0ZSgnaG9tZScsIHtcclxuXHRcdFx0XHR1cmw6IFwiL2hvbWVcIixcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvaG9tZS5odG1sXCIsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogXCJWaWV3UG9zdHNDdHJsXCIsXHJcblx0XHRcdFx0XHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0cG9zdFByb21pc2U6IFsncG9zdHMnLCBmdW5jdGlvbihwb3N0cyl7XHJcblx0XHRcdFx0XHRcdHJldHVybiBwb3N0cy5nZXRBbGwoKTtcclxuXHRcdFx0XHRcdH1dXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0XHJcblx0XHRcdC5zdGF0ZSgncG9zdHMnLCB7XHJcblx0XHRcdFx0dXJsOiBcIi9wb3N0cy97aWR9XCIsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL3Bvc3RzLmh0bWxcIixcclxuXHRcdFx0XHRjb250cm9sbGVyOiBcIlZpZXdDb21tZW50c0N0cmxcIixcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRwb3N0OiBbJyRzdGF0ZVBhcmFtcycsICdwb3N0cycsIGZ1bmN0aW9uKCRzdGF0ZVBhcmFtcywgcG9zdHMpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gcG9zdHMuZ2V0KCRzdGF0ZVBhcmFtcy5pZCk7XHJcblx0XHRcdFx0XHR9XVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdC5zdGF0ZSgnbG9naW4nLCB7XHJcblx0XHRcdFx0dXJsOiBcIi9sb2dpblwiLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2xvZ2luLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdBdXRoQ3RybCcsXHJcblx0XHRcdFx0b25FbnRlcjogWyckc3RhdGUnLCAnYXV0aCcsIGZ1bmN0aW9uKCRzdGF0ZSwgYXV0aCl7XHJcblx0XHRcdFx0XHRpZiAoYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHRcdFx0JHN0YXRlLmdvKCdob21lJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fV1cclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdC5zdGF0ZSgncmVnaXN0ZXInLCB7XHJcblx0XHRcdFx0dXJsOiAnL3JlZ2lzdGVyJywgXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvcmVnaXN0ZXIuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0F1dGhDdHJsJyxcclxuXHRcdFx0XHRvbkVudGVyOiBbJyRzdGF0ZScsICdhdXRoJywgZnVuY3Rpb24oJHN0YXRlLCBhdXRoKXtcclxuXHRcdFx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0LnN0YXRlKCd1c2VyJywge1xyXG5cdFx0XHRcdHVybDogJy91c2Vycy97dXNlcm5hbWV9JyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy91c2VyLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdWaWV3VXNlclBvc3RzQ3RybCcsXHJcblx0XHRcdFx0b25FbnRlcjogW1wiJHN0YXRlXCIsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbigkc3RhdGUsICRzdGF0ZVBhcmFtcyl7XHJcblx0XHRcdFx0XHRpZiAoISRzdGF0ZVBhcmFtcy51c2VybmFtZSkge1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oXCJob21lXCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1dLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdHVzZXJQb3N0czogWydwb3N0cycsICckc3RhdGVQYXJhbXMnLCBmdW5jdGlvbihwb3N0cywgJHN0YXRlUGFyYW1zKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHBvc3RzLmdldFBvc3RzQnlVc2VyKCRzdGF0ZVBhcmFtcy51c2VybmFtZSk7XHJcblx0XHRcdFx0XHR9XVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdC5zdGF0ZSgnZmluZFVzZXInLCB7XHJcblx0XHRcdFx0dXJsOiAnL2ZpbmRVc2VyJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9maW5kVXNlci5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnRmluZFVzZXJDdHJsJyxcclxuXHRcdFx0XHRvbkVudGVyOiBbJyRzdGF0ZScsICdhdXRoJywgZnVuY3Rpb24oJHN0YXRlLCBhdXRoKXtcclxuXHRcdFx0XHRcdGlmICghYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHRcdFx0JHN0YXRlLmdvKFwiaG9tZVwiKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XVxyXG5cclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdC5zdGF0ZSgnbGlzdFVzZXInLCB7XHJcblx0XHRcdFx0dXJsOiAnL2xpc3RVc2VyJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9saXN0VXNlci5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnRmluZFVzZXJDdHJsJyxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHR1c2VyUHJvbWlzZTogWyd1c2VyJywgZnVuY3Rpb24odXNlcil7XHJcblx0XHRcdFx0XHRcdHJldHVybiB1c2VyLmdldEFsbFVzZXIoKTtcclxuXHRcdFx0XHRcdH1dXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRvbkVudGVyOiBbJyRzdGF0ZScsICdhdXRoJywgZnVuY3Rpb24oJHN0YXRlLCBhdXRoKXtcclxuXHRcdFx0XHRcdGlmICggIWF1dGguaXNMb2dnZWRJbigpIHx8IChhdXRoLmlzTG9nZ2VkSW4oKSAmJiAhYXV0aC5pc0FkbWluKCkpICkge1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oXCJob21lXCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1dXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHQuc3RhdGUoJ2NoYW5nZVBhc3N3b3JkJywge1xyXG5cdFx0XHRcdHVybDogJy9jaGFuZ2VQYXNzd29yZCcsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvY2hhbmdlUGFzc3dvcmQuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0F1dGhDdHJsJyxcclxuXHRcdFx0XHRvbkVudGVyOiBbJyRzdGF0ZScsICdhdXRoJywgZnVuY3Rpb24oJHN0YXRlLCBhdXRoKXtcclxuXHRcdFx0XHRcdGlmICghYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHRcdFx0JHN0YXRlLmdvKFwiaG9tZVwiKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHQkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiaG9tZVwiKTtcclxuXHR9XSk7XHJcbiIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLmNvbnN0YW50c1wiLCBbXSlcclxuXHQuY29uc3RhbnQoJ1JFR0VYUFMnLCB7XHJcblx0XHRWQUxJRF9MSU5LX1JFUVVJUkVEX1BST1RPQ09MOiAvXigoaHR0cHN8aHR0cHxmdHApXFw6XFwvXFwvKShbd3xXXXszfVxcLik/W2EtekEtWjAtOVxcLVxcLl17Myx9XFwuW2EtekEtWl17Mix9KFxcLlthLXpBLVpdezIsfSk/KChcXC9bYS16QS1aMC05XSopKyhcXC5bYS16QS1aMC05XXsyLDR9KSk/LyxcclxuXHRcdFZBTElEX0xJTktfTk9UX1JFUVVJUkVEX1BST1RPQ09MOiAvXigoaHR0cHN8aHR0cHxmdHApXFw6XFwvXFwvKT8oW3d8V117M31cXC4pP1thLXpBLVowLTlcXC1cXC5dezMsfVxcLlthLXpBLVpdezIsfShcXC5bYS16QS1aXXsyLH0pPygoXFwvW2EtekEtWjAtOV0qKSsoXFwuW2EtekEtWjAtOV17Miw0fSkpPy8sXHJcblx0XHRWQUxJRF9VU0VSOiAvXlthLXpBLVowLTlfXFwuXXs1LDIwfSQvLFxyXG5cdFx0VkFMSURfUEFTU1dPUkQ6IC9eLns4LH0kLyxcclxuXHRcdFZBTElEX0VNQUlMOiAvXlthLXpBLVpdK1tcXC4wLTlfXStAW2EtejAtOV0rXFwuW2Etel17Miw0fSQvXHJcblx0fSk7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuZmlsdGVyc1wiLCBbXSlcclxuXHQuZmlsdGVyKCdsaW5rJywgWydSRUdFWFBTJywgZnVuY3Rpb24ocmVnZXgpe1xyXG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGxpbmspe1xyXG5cdFx0XHR2YXIgVkFMSURfTElOSyA9IHJlZ2V4LlZBTElEX0xJTktfUkVRVUlSRURfUFJPVE9DT0w7XHJcblx0XHRcdGlmIChWQUxJRF9MSU5LLnRlc3QobGluaykpIHtcclxuXHRcdFx0XHRyZXR1cm4gbGluaztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gJ2h0dHBzOi8vJyArIGxpbms7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fV0pXHJcblx0OyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLmhvbWUudmlld3Bvc3RzLmNvbnRyb2xsZXJcIiwgW10pXHJcblx0LmNvbnRyb2xsZXIoXCJWaWV3UG9zdHNDdHJsXCIsIFtcIiRzY29wZVwiLCBcIiR3aW5kb3dcIiwgXCJwb3N0c1wiLCAnYXV0aCcsICdSRUdFWFBTJywgXCJQdXNoZXJcIiwgZnVuY3Rpb24oJHNjb3BlLCAkd2luZG93LCBwb3N0cywgYXV0aCwgcmVnZXgsIFB1c2hlcil7XHJcblx0XHRcclxuXHRcdCRzY29wZS5pc0xvZ2dlZEluID0gYXV0aC5pc0xvZ2dlZEluO1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRVc2VyID0gYXV0aC5jdXJyZW50VXNlcjtcclxuXHRcdCRzY29wZS5sb2dPdXQgPSBhdXRoLmxvZ091dDtcclxuXHRcdCRzY29wZS5pc0FkbWluID0gYXV0aC5pc0FkbWluO1xyXG5cdFx0JHNjb3BlLmFsbHBvc3RzID0gcG9zdHMucG9zdHM7XHJcblx0XHQkc2NvcGUuc29ydE9yZGVyID0gJy1kYXRlJztcclxuXHRcdCRzY29wZS5zb3J0T3B0aW9ucyA9IFtcclxuXHRcdFx0eyBuYW1lOiAnTeG7m2kgbmjhuqV0Jywgb3JkZXI6ICctZGF0ZScgfSxcclxuXHRcdFx0eyBuYW1lOiAnTmhp4buBdSBsaWtlIG5o4bqldCcsIG9yZGVyOiAnLXVzZXJzTGlrZWQubGVuZ3RoJ30sXHJcblx0XHRcdHsgbmFtZTogJ05oaeG7gXUgYsOsbmggbHXhuq1uIG5o4bqldCcsIG9yZGVyOiAnLWNvbW1lbnRzLmxlbmd0aCd9XHRcdFxyXG5cdFx0XTtcclxuXHRcdCRzY29wZS5wb3N0c1BlclBhZ2UgPSAxMDtcclxuXHRcdCRzY29wZS5jdXJyZW50UGFnZSA9IDE7XHJcblx0XHRcclxuXHRcdCRzY29wZS5lcnJvciA9ICcnO1xyXG5cdFx0JHNjb3BlLmVkaXRpbmcgPSB7fTtcclxuXHRcdCRzY29wZS5jdXJyZW50TGlrZSA9IGZhbHNlO1xyXG5cdFx0dmFyIFZBTElEX0xJTksgPSByZWdleC5WQUxJRF9MSU5LX05PVF9SRVFVSVJFRF9QUk9UT0NPTDtcclxuXHJcblx0XHQvKlB1c2hlci5zdWJzY3JpYmUoXCJwb3N0c1wiLCBcImFkZFBvc3RcIiwgZnVuY3Rpb24ocG9zdCl7XHJcblx0XHRcdCRzY29wZS5hbGxwb3N0cy5wdXNoKHBvc3QpO1xyXG5cdFx0fSk7XHJcbiovXHJcblx0XHQkc2NvcGUuc2V0T3JkZXIgPSBmdW5jdGlvbihvcmRlcikge1xyXG5cdFx0XHQkc2NvcGUuc29ydE9yZGVyID0gb3JkZXI7XHJcblx0XHR9O1xyXG5cdFx0JHNjb3BlLmFkZFBvc3QgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZiAoISRzY29wZS5uZXd0aXRsZSkge1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICdC4bqhbiBjaMawYSBuaOG6rXAgbuG7mWkgZHVuZyEnO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCRzY29wZS5uZXdsaW5rICYmICFWQUxJRF9MSU5LLnRlc3QoJHNjb3BlLm5ld2xpbmspKSB7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gJ0xpbmsga2jDtG5nIGjhu6NwIGzhu4chJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKFwidmFsaWQgcG9zdFwiKTtcclxuXHRcdFx0XHRwb3N0cy5jcmVhdGUoe1xyXG5cdFx0XHRcdFx0dGl0bGU6ICRzY29wZS5uZXd0aXRsZSxcclxuXHRcdFx0XHRcdGxpbms6ICRzY29wZS5uZXdsaW5rLFxyXG5cdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdCRzY29wZS5uZXd0aXRsZSA9ICcnO1xyXG5cdFx0XHRcdCRzY29wZS5uZXdsaW5rID0gJyc7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLm1vdmVUb1RvcCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQkd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUubGlrZV91bmxpa2UgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRcdHBvc3RzLmxpa2UocG9zdCk7XHJcblx0XHRcdFx0XHRwb3N0LnVzZXJzTGlrZWQucHVzaCh1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QucG9pbnRzKz0yO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwb3N0cy51bmxpa2UocG9zdCk7XHJcblx0XHRcdFx0XHR2YXIgaW5kZXggPSBwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNMaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMtPTI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kaXNsaWtlX3VuZGlzbGlrZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpID09PSAtMSkge1xyXG5cdFx0XHRcdFx0cG9zdHMuZGlzbGlrZShwb3N0KTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNEaXNsaWtlZC5wdXNoKHVzZXIpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMtLTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cG9zdHMudW5kaXNsaWtlKHBvc3QpO1xyXG5cdFx0XHRcdFx0dmFyIGluZGV4ID0gcG9zdC51c2Vyc0Rpc2xpa2VkLmluZGV4T2YodXNlcik7XHJcblx0XHRcdFx0XHRwb3N0LnVzZXJzRGlzbGlrZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdHBvc3QucG9pbnRzKys7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5saWtlVG9vbHRpcFRleHQgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIkLhu48gdGjDrWNoXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIlRow61jaFwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gXCLEkMSDbmcgbmjhuq1wIMSR4buDIHRow61jaCBiw6BpIHZp4bq/dCFcIjtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZGlzbGlrZVRvb2x0aXBUZXh0ID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRpZiAoYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHR2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuXHRcdFx0XHRpZiAocG9zdC51c2Vyc0Rpc2xpa2VkLmluZGV4T2YodXNlcikgIT09IC0xKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJC4buPIGtow7RuZyB0aMOtY2hcIjtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiS2jDtG5nIHRow61jaFwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gXCLEkMSDbmcgbmjhuq1wIMSR4buDIGtow7RuZyB0aMOtY2ggYsOgaSB2aeG6v3QhXCI7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmVkaXQgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdCRzY29wZS5lZGl0aW5nLmN1cnJlbnQgPSBbcG9zdCwgdHJ1ZV07XHJcblx0XHRcdCRzY29wZS50aXRsZSA9ICRzY29wZS5lZGl0aW5nLmN1cnJlbnRbMF0udGl0bGU7XHJcblx0XHRcdCRzY29wZS5saW5rID0gJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS5saW5rO1xyXG5cdFx0XHQkc2NvcGUubW92ZVRvVG9wKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0XHJcblx0XHRcdGlmICghJHNjb3BlLnRpdGxlICYmICEkc2NvcGUubGluaykge1xyXG5cdFx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJDw7MgcGjhuqNpIGLhuqFuIG114buRbiB4w7NhIGLDoGkgdmnhur90IG7DoHk/XCIpKSB7XHJcblx0XHRcdFx0XHRwb3N0cy5kZWxldGUoJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXSk7XHJcblx0XHRcdFx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0XHRcdFx0JHNjb3BlLmVycm9yID0gJyc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKCEkc2NvcGUudGl0bGUpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnQuG6oW4gY2jGsGEgbmjhuq1wIG7hu5lpIGR1bmchJztcclxuXHRcdFx0fSBlbHNlIGlmICgkc2NvcGUubGluayAmJiAhVkFMSURfTElOSy50ZXN0KCRzY29wZS5saW5rKSkge1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICdMaW5rIGtow7RuZyBo4bujcCBs4buHISc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJHNjb3BlLnRpdGxlKTtcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZygkc2NvcGUubGluayk7XHJcblx0XHRcdFx0dmFyIHVwZGF0ZWRQb3N0ID0ge1xyXG5cdFx0XHRcdFx0X2lkOiAkc2NvcGUuZWRpdGluZy5jdXJyZW50WzBdLl9pZCxcclxuXHRcdFx0XHRcdHRpdGxlOiAkc2NvcGUudGl0bGUsXHJcblx0XHRcdFx0XHRsaW5rOiAkc2NvcGUubGluayxcclxuXHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKClcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKHVwZGF0ZWRQb3N0KTtcclxuXHRcdFx0XHRwb3N0cy5zYXZlKHVwZGF0ZWRQb3N0KTtcclxuXHRcdFx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICcnO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0XHJcblxyXG5cclxuXHRcdCRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdCRzY29wZS5lZGl0aW5nID0ge307XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kZWxldGUgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSBraMO0bmc/XCIpKSB7XHJcblx0XHRcdFx0cG9zdHMuZGVsZXRlKHBvc3QpO1xyXG5cdFx0XHR9XHRcdFx0XHJcblx0XHR9O1xyXG5cclxuXHJcblxyXG5cdH1dKTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5ob21lLm5hdi5jb250cm9sbGVyXCIsIFtdKVxyXG5cdC5jb250cm9sbGVyKCdOYXZDdHJsJywgWyckc2NvcGUnLCAnYXV0aCcsIGZ1bmN0aW9uKCRzY29wZSwgYXV0aCl7XHJcblx0XHQkc2NvcGUuaXNMb2dnZWRJbiA9IGF1dGguaXNMb2dnZWRJbjtcclxuXHRcdCRzY29wZS5jdXJyZW50VXNlciA9IGF1dGguY3VycmVudFVzZXI7XHJcblx0XHQkc2NvcGUubG9nT3V0ID0gYXV0aC5sb2dPdXQ7XHJcblx0fV0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLnBvc3Qudmlld2NvbW1lbnRzLmNvbnRyb2xsZXJcIiwgW10pXHJcblx0LmNvbnRyb2xsZXIoXCJWaWV3Q29tbWVudHNDdHJsXCIsIFtcIiRzY29wZVwiLCBcInBvc3RzXCIsIFwicG9zdFwiLCAnYXV0aCcsICckd2luZG93JywgJ1B1c2hlcicsIGZ1bmN0aW9uKCRzY29wZSwgcG9zdHMsIHBvc3QsIGF1dGgsICR3aW5kb3csIFB1c2hlcil7XHJcblx0XHQkc2NvcGUucG9zdCA9IHBvc3Q7XHJcblx0XHQkc2NvcGUuZXJyb3IgPSAnJztcclxuXHRcdCRzY29wZS5idXR0b24gPSB7IG5hbWU6ICdDb21tZW50JyB9O1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRDb21tZW50ID0ge307XHJcblx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRQYWdlID0gMTtcclxuXHRcdCRzY29wZS5pc0xvZ2dlZEluID0gYXV0aC5pc0xvZ2dlZEluO1xyXG5cclxuXHRcdFB1c2hlci5zdWJzY3JpYmUoXCJjb21tZW50c1wiLCBcImFkZENvbW1lbnRcIiwgZnVuY3Rpb24oY29tbWVudCl7XHJcblx0XHRcdCRzY29wZS5wb3N0LmNvbW1lbnRzLnNwbGljZSgwLCAwLCBjb21tZW50KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdFB1c2hlci5zdWJzY3JpYmUoXCJjb21tZW50c1wiLCBcImRlbGV0ZUNvbW1lbnRcIiwgZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdHZhciBpbmRleCA9ICRzY29wZS5wb3N0LmNvbW1lbnRzLm1hcChmdW5jdGlvbihpdGVtKXtcclxuXHRcdFx0XHRyZXR1cm4gaXRlbS5faWQ7XHJcblx0XHRcdH0pLmluZGV4T2YoZGF0YS5jb21tZW50KTtcclxuXHRcdFx0JHNjb3BlLnBvc3QuY29tbWVudHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdCRzY29wZS5hZGRDb21tZW50ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYgKCRzY29wZS5ib2R5KSB7XHJcblx0XHRcdFx0cG9zdHMuYWRkQ29tbWVudChwb3N0Ll9pZCwge1xyXG5cdFx0XHRcdFx0Ym9keTogJHNjb3BlLmJvZHksXHJcblx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gbnVsbDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnQuG6oW4gY2jGsGEgbmjhuq1wIG7hu5lpIGR1bmcgYsOsbmggbHXhuq1uISc7XHJcblx0XHRcdH1cclxuXHRcdFx0JHNjb3BlLmJvZHkgPSAnJztcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmxpa2VfdW5saWtlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdGlmIChjb21tZW50LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRwb3N0cy5saWtlQ29tbWVudChwb3N0LCBjb21tZW50KTtcclxuXHRcdFx0XHRjb21tZW50LnVzZXJzTGlrZWQucHVzaCh1c2VyKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwb3N0cy51bmxpa2VDb21tZW50KHBvc3QsIGNvbW1lbnQpO1xyXG5cdFx0XHRcdHZhciBpbmRleCA9IGNvbW1lbnQudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpO1xyXG5cdFx0XHRcdGNvbW1lbnQudXNlcnNMaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kaXNsaWtlX3VuZGlzbGlrZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRpZiAoY29tbWVudC51c2Vyc0Rpc2xpa2VkLmluZGV4T2YodXNlcikgPT09IC0xKSB7XHJcblx0XHRcdFx0cG9zdHMuZGlzbGlrZUNvbW1lbnQocG9zdCwgY29tbWVudCk7XHJcblx0XHRcdFx0Y29tbWVudC51c2Vyc0Rpc2xpa2VkLnB1c2godXNlcik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cG9zdHMudW5kaXNsaWtlQ29tbWVudChwb3N0LCBjb21tZW50KTtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSBjb21tZW50LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKTtcclxuXHRcdFx0XHRjb21tZW50LnVzZXJzRGlzbGlrZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUubGlrZVRvb2x0aXBUZXh0ID0gZnVuY3Rpb24oY29tbWVudCkge1xyXG5cdFx0XHRpZiAoYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHR2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuXHRcdFx0XHRpZiAoY29tbWVudC51c2Vyc0xpa2VkLmluZGV4T2YodXNlcikgIT09IC0xKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJC4buPIHRow61jaFwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJUaMOtY2hcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIFwixJDEg25nIG5o4bqtcCDEkeG7gyB0aMOtY2ggYsOsbmggbHXhuq1uIVwiO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kaXNsaWtlVG9vbHRpcFRleHQgPSBmdW5jdGlvbihjb21tZW50KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChjb21tZW50LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIkLhu48ga2jDtG5nIHRow61jaFwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJLaMO0bmcgdGjDrWNoXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBcIsSQxINuZyBuaOG6rXAgxJHhu4Mga2jDtG5nIHRow61jaCBiw6xuaCBsdeG6rW4hXCI7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRlbGV0ZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSBraMO0bmc/XCIpKSB7XHJcblx0XHRcdFx0cG9zdHMuZGVsZXRlQ29tbWVudChwb3N0LCBjb21tZW50KTtcdFxyXG5cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZWRpdENvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdCRzY29wZS5idXR0b24ubmFtZSA9ICdTYXZlJztcclxuXHRcdFx0JHNjb3BlLmJvZHkgPSBjb21tZW50LmJvZHk7XHJcblx0XHRcdCRzY29wZS5jdXJyZW50Q29tbWVudCA9IGNvbW1lbnQ7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgaGVpZ2h0U3RyID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KS50b1N0cmluZygpO1xyXG5cdFx0XHR2YXIgaGVpZ2h0ID0gcGFyc2VJbnQoaGVpZ2h0U3RyLnN1YnN0cigxLCBoZWlnaHRTdHIubGVuZ3RoIC0gMikpO1xyXG5cdFx0XHQkd2luZG93LnNjcm9sbFRvKDAsIGhlaWdodCk7XHJcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb21tZW50SW5wdXQnKS5zZWxlY3QoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KXtcclxuXHRcdFx0aWYgKCRzY29wZS5ib2R5KSB7XHJcblx0XHRcdFx0cG9zdHMuc2F2ZUNvbW1lbnQocG9zdCwge1xyXG5cdFx0XHRcdFx0X2lkOiAkc2NvcGUuY3VycmVudENvbW1lbnQuX2lkLFxyXG5cdFx0XHRcdFx0Ym9keTogJHNjb3BlLmJvZHksXHJcblx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKCR3aW5kb3cuY29uZmlybShcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB4w7NhIGtow7RuZz9cIikpIHtcclxuXHRcdFx0XHRcdHBvc3RzLmRlbGV0ZUNvbW1lbnQocG9zdCwgJHNjb3BlLmN1cnJlbnRDb21tZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0JHNjb3BlLmJ1dHRvbi5uYW1lID0gJ0NvbW1lbnQnO1xyXG5cdFx0XHQkc2NvcGUuYm9keSA9ICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQkc2NvcGUuYm9keSA9ICcnO1xyXG5cdFx0XHQkc2NvcGUuYnV0dG9uLm5hbWUgPSAnQ29tbWVudCc7XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5tb3ZlVG9Ub3AgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0JHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuXHRcdH07XHJcblx0XHRcclxuXHR9XSk7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsucG9zdC5zZXJ2aWNlXCIsIFtdKVxyXG5cdC5mYWN0b3J5KFwicG9zdHNcIiwgW1wiJGh0dHBcIiwgXCJhdXRoXCIsIFwiUHVzaGVyXCIsIGZ1bmN0aW9uKCRodHRwLCBhdXRoLCBQdXNoZXIpe1xyXG5cdFx0dmFyIHBvc3RTZXJ2aWNlID0ge1xyXG5cdFx0XHRwb3N0czogW11cclxuXHRcdH07XHJcblxyXG5cdFx0UHVzaGVyLnN1YnNjcmliZShcInBvc3RzXCIsIFwiYWRkUG9zdFwiLCBmdW5jdGlvbihwb3N0KXtcclxuXHRcdFx0cG9zdFNlcnZpY2UucG9zdHMuc3BsaWNlKDAsIDAsIHBvc3QpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0UHVzaGVyLnN1YnNjcmliZShcInBvc3RzXCIsIFwiZGVsZXRlUG9zdFwiLCBmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0dmFyIGluZGV4ID0gcG9zdFNlcnZpY2UuZ2V0QWxsUG9zdElkcygpLmluZGV4T2YoZGF0YS5wb3N0KTtcclxuXHRcdFx0cG9zdFNlcnZpY2UucG9zdHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmdldEFsbCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvcG9zdHMnKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdGFuZ3VsYXIuY29weShkYXRhLCBwb3N0U2VydmljZS5wb3N0cyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5nZXRQb3N0c0J5VXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9wb3N0cy91c2VyLycgKyB1c2VybmFtZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5nZXRBbGxQb3N0SWRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiBwb3N0U2VydmljZS5wb3N0cy5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0cmV0dXJuIGl0ZW0uX2lkO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuY3JlYXRlID0gZnVuY3Rpb24ocG9zdCl7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvcG9zdHMnLCBwb3N0LCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KS8qLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdFx0cG9zdFNlcnZpY2UucG9zdHMuc3BsaWNlKDAsIDAsIGRhdGEpO1xyXG5cdFx0XHR9KSovO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5nZXQgPSBmdW5jdGlvbihpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvcG9zdHMvJyArIGlkKS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuYWRkQ29tbWVudCA9IGZ1bmN0aW9uKGlkLCBjb21tZW50KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvcG9zdHMvJyArIGlkICsgJy9jb21tZW50cycsIGNvbW1lbnQsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5saWtlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9saWtlJywgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSlcclxuXHRcdFx0Lyouc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0XHRwb3N0LnVzZXJzTGlrZWQucHVzaChkYXRhKTtcclxuXHRcdFx0fSkqL1xyXG5cdFx0XHQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLnVubGlrZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvdW5saWtlJywgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSlcclxuXHRcdFx0Lyouc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSBwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZihkYXRhKTtcclxuXHRcdFx0XHRwb3N0LnVzZXJzTGlrZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0fSkqL1xyXG5cdFx0XHQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmRpc2xpa2UgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2Rpc2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UudW5kaXNsaWtlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy91bmRpc2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2Uuc2F2ZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvc2F2ZScsIHBvc3QsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24ocG9zdCl7XHJcblx0XHRcdFx0dmFyIHBvc3RJbmRleCA9IHBvc3RTZXJ2aWNlLmdldEFsbFBvc3RJZHMoKS5pbmRleE9mKHBvc3QuX2lkKTtcclxuXHRcdFx0XHRwb3N0U2VydmljZS5wb3N0c1twb3N0SW5kZXhdID0gcG9zdDtcclxuXHRcdFx0fSlcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2Uuc2F2ZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2NvbW1lbnRzLycgKyBjb21tZW50Ll9pZCArICcvc2F2ZScsIGNvbW1lbnQsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24oY29tbWVudCl7XHJcblx0XHRcdFx0dmFyIHBvc3RJbmRleCA9IHBvc3RTZXJ2aWNlLmdldEFsbFBvc3RJZHMoKS5pbmRleE9mKHBvc3QuX2lkKTtcclxuXHRcdFx0XHR2YXIgY29tbWVudEluZGV4ID0gcG9zdC5jb21tZW50cy5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gaXRlbS5faWQ7XHJcblx0XHRcdFx0fSkuaW5kZXhPZihjb21tZW50Ll9pZCk7XHJcblx0XHRcdFx0cG9zdC5jb21tZW50c1tjb21tZW50SW5kZXhdID0gY29tbWVudDtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmRlbGV0ZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0Ly8gdmFyIGluZGV4ID0gcG9zdFNlcnZpY2UucG9zdHMuaW5kZXhPZihwb3N0KTtcclxuXHRcdFx0Ly8gcG9zdFNlcnZpY2UucG9zdHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUoJy9wb3N0cy8nICsgcG9zdC5faWQsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5kZWxldGVDb21tZW50ID0gZnVuY3Rpb24ocG9zdCxjb21tZW50KSB7XHJcblx0XHRcdHZhciBwb3N0SW5kZXggPSBwb3N0U2VydmljZS5nZXRBbGxQb3N0SWRzKCkuaW5kZXhPZihwb3N0Ll9pZCk7XHJcblx0XHRcdHZhciBjb21tZW50SW5kZXggPSBwb3N0LmNvbW1lbnRzLmluZGV4T2YoY29tbWVudCk7XHJcblx0XHRcdHBvc3QuY29tbWVudHMuc3BsaWNlKGNvbW1lbnRJbmRleCwgMSk7XHJcblx0XHRcdHBvc3RTZXJ2aWNlLnBvc3RzW3Bvc3RJbmRleF0gPSBwb3N0O1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZGVsZXRlKCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9jb21tZW50cy8nICsgY29tbWVudC5faWQsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5saWtlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvY29tbWVudHMvJyArIGNvbW1lbnQuX2lkICsgJy9saWtlJywgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLnVubGlrZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2NvbW1lbnRzLycgKyBjb21tZW50Ll9pZCArICcvdW5saWtlJywgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmRpc2xpa2VDb21tZW50ID0gZnVuY3Rpb24ocG9zdCwgY29tbWVudCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9jb21tZW50cy8nICsgY29tbWVudC5faWQgKyAnL2Rpc2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UudW5kaXNsaWtlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvY29tbWVudHMvJyArIGNvbW1lbnQuX2lkICsgJy91bmRpc2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHBvc3RTZXJ2aWNlO1xyXG5cdH1dKVxyXG5cdDsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay51c2VyLmZpbmQuY29udHJvbGxlclwiLCBbXSlcclxuXHQuY29udHJvbGxlcignRmluZFVzZXJDdHJsJywgWyckc2NvcGUnLCAndXNlcicsICckc3RhdGUnLCAnJHdpbmRvdycsIGZ1bmN0aW9uKCRzY29wZSwgdXNlciwgJHN0YXRlLCAkd2luZG93KXtcclxuXHRcdCRzY29wZS51c2VycyA9IHVzZXIudXNlcnM7XHJcblx0XHQkc2NvcGUubWVzc2FnZXMgPSB7fTtcclxuXHRcdCRzY29wZS5maW5kVXNlciA9IGZ1bmN0aW9uKHVzcikge1xyXG5cdFx0XHRyZXR1cm4gdXNlci5maW5kVXNlcih1c3IpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGEubWFwKGZ1bmN0aW9uKGl0ZW0pe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW0udXNlcm5hbWU7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZ290byA9IGZ1bmN0aW9uKHVzcikge1xyXG5cdFx0XHRpZiAodXNyKSB7XHJcblx0XHRcdFx0JHN0YXRlLmdvKFwidXNlclwiLCB7dXNlcm5hbWU6IHVzcn0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCRzY29wZS5tZXNzYWdlcy5lcnJvciA9ICdC4bqhbiBjaMawYSBuaOG6rXAgdMOqbiBuZ8aw4budaSBkw7luZyBj4bqnbiB0w6xtISc7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kZWxldGVVc2VyID0gZnVuY3Rpb24odXNyKSB7XHJcblx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSBuZ8aw4budaSBkw7luZyBuw6B5IHJhIGto4buPaSBo4buHIHRo4buRbmc/XCIpKSB7XHJcblx0XHRcdFx0dXNlci5kZWxldGVVc2VyKHVzcik7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdH1dKTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay51c2VyLnZpZXdwb3N0cy5jb250cm9sbGVyXCIsIFtdKVxyXG5cdC5jb250cm9sbGVyKCdWaWV3VXNlclBvc3RzQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICckc3RhdGUnLCAnYXV0aCcsICdwb3N0cycsICd1c2VyUG9zdHMnLCAnJHdpbmRvdycsICdSRUdFWFBTJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgYXV0aCwgcG9zdHMsIHVzZXJQb3N0cywgJHdpbmRvdywgcmVnZXgpe1xyXG5cdFx0JHNjb3BlLmlzTG9nZ2VkSW4gPSBhdXRoLmlzTG9nZ2VkSW47XHJcblx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xyXG5cdFx0JHNjb3BlLmxvZ091dCA9IGF1dGgubG9nT3V0O1xyXG5cdFx0JHNjb3BlLmFsbHBvc3RzID0gdXNlclBvc3RzO1xyXG5cdFx0JHNjb3BlLnVzZXJuYW1lID0gJHN0YXRlUGFyYW1zLnVzZXJuYW1lO1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRQYWdlID0gMTtcclxuXHRcdCRzY29wZS5wb3N0c1BlclBhZ2UgPSAxMDtcclxuXHJcblx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0dmFyIFZBTElEX0xJTksgPSByZWdleC5WQUxJRF9MSU5LX05PVF9SRVFVSVJFRF9QUk9UT0NPTDtcclxuXHJcblx0XHQkc2NvcGUubGlrZV91bmxpa2UgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRcdHBvc3RzLmxpa2UocG9zdCk7XHJcblx0XHRcdFx0XHRwb3N0LnVzZXJzTGlrZWQucHVzaCh1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QucG9pbnRzKz0yO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwb3N0cy51bmxpa2UocG9zdCk7XHJcblx0XHRcdFx0XHR2YXIgaW5kZXggPSBwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNMaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMtPTI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kaXNsaWtlX3VuZGlzbGlrZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpID09PSAtMSkge1xyXG5cdFx0XHRcdFx0cG9zdHMuZGlzbGlrZShwb3N0KTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNEaXNsaWtlZC5wdXNoKHVzZXIpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMtLTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cG9zdHMudW5kaXNsaWtlKHBvc3QpO1xyXG5cdFx0XHRcdFx0dmFyIGluZGV4ID0gcG9zdC51c2Vyc0Rpc2xpa2VkLmluZGV4T2YodXNlcik7XHJcblx0XHRcdFx0XHRwb3N0LnVzZXJzRGlzbGlrZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdHBvc3QucG9pbnRzKys7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5saWtlVG9vbHRpcFRleHQgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIkLhu48gdGjDrWNoXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIlRow61jaFwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gXCJC4bqhbiBj4bqnbiDEkcSDbmcgbmjhuq1wIVwiO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kaXNsaWtlVG9vbHRpcFRleHQgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIkLhu48ga2jDtG5nIHRow61jaFwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJLaMO0bmcgdGjDrWNoXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBcIkLhuqFuIGPhuqduIMSRxINuZyBuaOG6rXAhXCI7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmVkaXQgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdCRzY29wZS5lZGl0aW5nLmN1cnJlbnQgPSBbcG9zdCwgdHJ1ZV07XHJcblx0XHRcdCRzY29wZS50aXRsZSA9ICRzY29wZS5lZGl0aW5nLmN1cnJlbnRbMF0udGl0bGU7XHJcblx0XHRcdCRzY29wZS5saW5rID0gJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS5saW5rO1xyXG5cdFx0XHQkd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoISRzY29wZS50aXRsZSAmJiAhJHNjb3BlLmxpbmspIHtcclxuXHRcdFx0XHRpZiAoJHdpbmRvdy5jb25maXJtKFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHjDs2Ega2jDtG5nP1wiKSkge1xyXG5cdFx0XHRcdFx0cG9zdHMuZGVsZXRlKCRzY29wZS5lZGl0aW5nLmN1cnJlbnRbMF0pO1xyXG5cdFx0XHRcdFx0JHNjb3BlLmVkaXRpbmcgPSB7fTtcclxuXHRcdFx0XHRcdCRzY29wZS5lcnJvciA9ICcnO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmICghJHNjb3BlLnRpdGxlKSB7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gJ0LhuqFuIGNoxrBhIG5o4bqtcCBu4buZaSBkdW5nISc7XHJcblx0XHRcdH0gZWxzZSBpZiAoJHNjb3BlLmxpbmsgJiYgIVZBTElEX0xJTksudGVzdCgkc2NvcGUubGluaykpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnTGluayBraMO0bmcgaOG7o3AgbOG7hyEnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciB1cGRhdGVkUG9zdCA9IHtcclxuXHRcdFx0XHRcdF9pZDogJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS5faWQsXHJcblx0XHRcdFx0XHR0aXRsZTogJHNjb3BlLnRpdGxlLFxyXG5cdFx0XHRcdFx0bGluazogJHNjb3BlLmxpbmssXHJcblx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRwb3N0cy5zYXZlKHVwZGF0ZWRQb3N0KTtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSAkc2NvcGUuYWxscG9zdHMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW0uX2lkO1xyXG5cdFx0XHRcdH0pLmluZGV4T2YoJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS5faWQpO1xyXG5cdFx0XHRcdCRzY29wZS5hbGxwb3N0c1tpbmRleF0udGl0bGUgPSB1cGRhdGVkUG9zdC50aXRsZTtcclxuXHRcdFx0XHQkc2NvcGUuYWxscG9zdHNbaW5kZXhdLmxpbmsgPSB1cGRhdGVkUG9zdC5saW5rO1xyXG5cdFx0XHRcdCRzY29wZS5hbGxwb3N0c1tpbmRleF0uZGF0ZSA9IHVwZGF0ZWRQb3N0LmRhdGU7XHJcblx0XHRcdFx0JHNjb3BlLmVkaXRpbmcgPSB7fTtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnJztcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdCRzY29wZS5lZGl0aW5nID0ge307XHJcblx0XHR9O1xyXG5cclxuXHJcblx0XHQkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRpZiAoJHdpbmRvdy5jb25maXJtKFwiQ8OzIHBo4bqjaSBi4bqhbiBtdeG7kW4geMOzYSBiw6BpIHZp4bq/dCBuw6B5P1wiKSkge1xyXG5cdFx0XHRcdHBvc3RzLmRlbGV0ZShwb3N0KTtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSAkc2NvcGUuYWxscG9zdHMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW0uX2lkO1xyXG5cdFx0XHRcdH0pLmluZGV4T2YocG9zdC5faWQpO1xyXG5cdFx0XHRcdCRzY29wZS5hbGxwb3N0cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHR9XHRcdFx0XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0fV0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLnVzZXIuc2VydmljZVwiLCBbXSlcclxuXHQuZmFjdG9yeSgndXNlcicsIFsnJGh0dHAnLCAnYXV0aCcsIGZ1bmN0aW9uKCRodHRwLCBhdXRoKXtcclxuXHRcdHZhciB1c2VyU2VydmljZSA9IHtcclxuXHRcdFx0dXNlcnM6IFtdLFxyXG5cdFx0fTtcclxuXHJcblx0XHR1c2VyU2VydmljZS5maW5kVXNlciA9IGZ1bmN0aW9uKHVzcikge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0dXJsOiAnL3VzZXJzL2ZpbmRVc2VyLycgKyB1c3JcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHVzZXJTZXJ2aWNlLmdldEFsbFVzZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwKHtcclxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHRcdHVybDogJy91c2Vycy9hbGwnXHJcblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24odXNlcnMpe1xyXG5cdFx0XHRcdGFuZ3VsYXIuY29weSh1c2VycywgdXNlclNlcnZpY2UudXNlcnMpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0dXNlclNlcnZpY2UuZGVsZXRlVXNlciA9IGZ1bmN0aW9uKHVzcikge1xyXG5cdFx0XHR2YXIgaW5kZXggPSB1c2VyU2VydmljZS51c2Vycy5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0cmV0dXJuIGl0ZW0udXNlcm5hbWU7XHJcblx0XHRcdH0pLmluZGV4T2YodXNyLnVzZXJuYW1lKTtcclxuXHRcdFx0dXNlclNlcnZpY2UudXNlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUoJy91c2Vycy9kZWxldGUvJyArIHVzci51c2VybmFtZSwgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHJcblx0XHRyZXR1cm4gdXNlclNlcnZpY2U7XHJcblx0fV0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==