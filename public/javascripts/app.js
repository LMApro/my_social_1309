angular.module("myNetwork",["ui.bootstrap","ui.router","angularUtils.directives.dirPagination","myNetwork.config.stateProvider","myNetwork.config.pusherProvider","myNetwork.constants","myNetwork.filters","myNetwork.auth.service","myNetwork.auth.controller","myNetwork.post.service","myNetwork.post.viewcomments.controller","myNetwork.home.viewposts.controller","myNetwork.home.nav.controller","myNetwork.user.service","myNetwork.user.viewposts.controller","myNetwork.user.find.controller"]),angular.module("myNetwork.auth.controller",[]).controller("AuthCtrl",["$scope","$state","auth","REGEXPS",function(e,t,n,r){e.user={},e.messages={};var s=r.VALID_USER,o=r.VALID_PASSWORD;e.register=function(){e.user.username?s.test(e.user.username)?e.user.password?o.test(e.user.password)?e.user.verifyPass?e.user.password!=e.user.verifyPass?e.messages.error="Mật khẩu chưa khớp!":n.register(e.user).error(function(t){e.messages=t}).then(function(){t.go("home")}):e.messages.error="Bạn chưa nhập lại mật khẩu!":e.messages.error="Mật khẩu cần ít nhất 8 kí tự!":e.messages.error="Bạn chưa nhập mật khẩu (ít nhất 8 kí tự)!":e.messages.error="Tên người dùng từ 5 đến 20 kí tự, không chứa khoảng trắng và kí tự đặc biệt (\\ / ` \" ' # ~)!":e.messages.error="Bạn chưa nhập Tên người dùng!"},e.logIn=function(){e.user.username||e.user.password?n.logIn(e.user).error(function(t){e.messages=t}).then(function(){t.go("home")}):e.messages.error="Bạn chưa nhập tên người dùng hoặc mật khẩu!"},e.changePassword=function(){e.user.username=n.currentUser(),e.user.currentPassword&&e.user.newPassword&&e.user.verifyNewPassword?o.test(e.user.newPassword)?e.user.newPassword!=e.user.verifyNewPassword?e.messages.error="Mật khẩu chưa khớp!":n.changePassword(e.user).error(function(t){e.messages=t}).then(function(){e.messages={},e.user={},e.messages.success="Đã cập nhật mật khẩu!"}):e.messages.error="Mật khẩu cần ít nhất 8 kí tự!":e.messages.error="Bạn chưa nhập tên người dùng hoặc mật khẩu!"}}]),angular.module("myNetwork.auth.service",[]).factory("auth",["$http","$window","$state",function(e,t,n){var r={};return r.saveToken=function(e){t.localStorage["my-social-token"]=e},r.getToken=function(){return t.localStorage["my-social-token"]},r.isLoggedIn=function(){var e=r.getToken();if(e){var n=JSON.parse(t.atob(e.split(".")[1]));return n.exp>Date.now()/1e3}return!1},r.currentUser=function(){if(r.isLoggedIn()){var e=r.getToken(),n=JSON.parse(t.atob(e.split(".")[1]));return n.username}},r.isAdmin=function(){if(r.isLoggedIn()){var e=r.getToken(),n=JSON.parse(t.atob(e.split(".")[1]));return n.isAdmin}},r.register=function(t){return e.post("/users/register",t).success(function(e){r.saveToken(e.token)})},r.logIn=function(t){return e.post("/users/login",t).success(function(e){r.saveToken(e.token)})},r.logOut=function(){t.localStorage.removeItem("my-social-token"),n.go("home")},r.changePassword=function(t){return e.put("/users/changePassword",t).success(function(e){r.saveToken(e.token)})},r}]),angular.module("myNetwork.config.pusherProvider",["doowb.angular-pusher"]).config(["PusherServiceProvider",function(e){e.setToken("864c814b8f54479e5d71").setOptions({})}]),angular.module("myNetwork.config.stateProvider",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("home",{url:"/home",templateUrl:"templates/home.html",controller:"ViewPostsCtrl",resolve:{postPromise:["posts",function(e){return e.getAll()}]}}).state("posts",{url:"/posts/{id}",templateUrl:"templates/posts.html",controller:"ViewCommentsCtrl",resolve:{post:["$stateParams","posts",function(e,t){return t.get(e.id)}]}}).state("login",{url:"/login",templateUrl:"templates/login.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()&&e.go("home")}]}).state("register",{url:"/register",templateUrl:"templates/register.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()&&e.go("home")}]}).state("user",{url:"/users/{username}",templateUrl:"templates/user.html",controller:"ViewUserPostsCtrl",onEnter:["$state","$stateParams",function(e,t){t.username||e.go("home")}],resolve:{userPosts:["posts","$stateParams",function(e,t){return e.getPostsByUser(t.username)}]}}).state("findUser",{url:"/findUser",templateUrl:"templates/findUser.html",controller:"FindUserCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()||e.go("home")}]}).state("listUser",{url:"/listUser",templateUrl:"templates/listUser.html",controller:"FindUserCtrl",resolve:{userPromise:["user",function(e){return e.getAllUser()}]},onEnter:["$state","auth",function(e,t){(!t.isLoggedIn()||t.isLoggedIn()&&!t.isAdmin())&&e.go("home")}]}).state("changePassword",{url:"/changePassword",templateUrl:"templates/changePassword.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()||e.go("home")}]}),t.otherwise("home")}]),angular.module("myNetwork.constants",[]).constant("REGEXPS",{VALID_LINK_REQUIRED_PROTOCOL:/^((https|http|ftp)\:\/\/)([w|W]{3}\.)?[a-zA-Z0-9\-\.]{3,}\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?((\/[a-zA-Z0-9]*)+(\.[a-zA-Z0-9]{2,4}))?/,VALID_LINK_NOT_REQUIRED_PROTOCOL:/^((https|http|ftp)\:\/\/)?([w|W]{3}\.)?[a-zA-Z0-9\-\.]{3,}\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?((\/[a-zA-Z0-9]*)+(\.[a-zA-Z0-9]{2,4}))?/,VALID_USER:/^[a-zA-Z0-9_\.]{5,20}$/,VALID_PASSWORD:/^.{8,}$/,VALID_EMAIL:/^[a-zA-Z]+[\.0-9_]+@[a-z0-9]+\.[a-z]{2,4}$/}),angular.module("myNetwork.filters",[]).filter("link",["REGEXPS",function(e){return function(t){var n=e.VALID_LINK_REQUIRED_PROTOCOL;return n.test(t)?t:"https://"+t}}]),angular.module("myNetwork.home.viewposts.controller",[]).controller("ViewPostsCtrl",["$scope","$window","posts","auth","REGEXPS","Pusher",function(e,t,n,r,s,o){e.isLoggedIn=r.isLoggedIn,e.currentUser=r.currentUser,e.logOut=r.logOut,e.isAdmin=r.isAdmin,e.allposts=n.posts,e.sortOrder="-date",e.sortOptions=[{name:"Mới nhất",order:"-date"},{name:"Nhiều like nhất",order:"-usersLiked.length"},{name:"Nhiều bình luận nhất",order:"-comments.length"}],e.postsPerPage=10,e.currentPage=1,e.error="",e.editing={},e.currentLike=!1;var i=s.VALID_LINK_NOT_REQUIRED_PROTOCOL;e.setOrder=function(t){e.sortOrder=t},e.addPost=function(){e.newtitle?e.newlink&&!i.test(e.newlink)?e.error="Link không hợp lệ!":(n.create({title:e.newtitle,link:e.newlink,date:new Date}),e.newtitle="",e.newlink="",e.error=""):e.error="Bạn chưa nhập nội dung!"},e.moveToTop=function(){t.scrollTo(0,0)},e.like_unlike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersLiked.indexOf(t))n.like(e),e.usersLiked.push(t),e.points+=2;else{n.unlike(e);var s=e.usersLiked.indexOf(t);e.usersLiked.splice(s,1),e.points-=2}}},e.dislike_undislike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersDisliked.indexOf(t))n.dislike(e),e.usersDisliked.push(t),e.points--;else{n.undislike(e);var s=e.usersDisliked.indexOf(t);e.usersDisliked.splice(s,1),e.points++}}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Đăng nhập để thích bài viết!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Đăng nhập để không thích bài viết!"},e.edit=function(t){e.editing.current=[t,!0],e.title=e.editing.current[0].title,e.link=e.editing.current[0].link,e.moveToTop()},e.save=function(){if(e.title||e.link)if(e.title)if(e.link&&!i.test(e.link))e.error="Link không hợp lệ!";else{var r={_id:e.editing.current[0]._id,title:e.title,link:e.link,date:new Date};n.save(r),e.editing={},e.error=""}else e.error="Bạn chưa nhập nội dung!";else t.confirm("Có phải bạn muốn xóa bài viết này?")&&(n["delete"](e.editing.current[0]),e.editing={},e.error="")},e.reset=function(){e.editing={}},e["delete"]=function(e){t.confirm("Bạn có chắc chắn muốn xóa không?")&&n["delete"](e)}}]),angular.module("myNetwork.home.nav.controller",[]).controller("NavCtrl",["$scope","auth",function(e,t){e.isLoggedIn=t.isLoggedIn,e.currentUser=t.currentUser,e.logOut=t.logOut}]),angular.module("myNetwork.post.viewcomments.controller",[]).controller("ViewCommentsCtrl",["$scope","posts","post","auth","$window","Pusher",function(e,t,n,r,s,o){e.post=n,e.error="",e.button={name:"Comment"},e.currentComment={},e.currentUser=r.currentUser,e.currentPage=1,e.isLoggedIn=r.isLoggedIn,o.subscribe("comments","addComment",function(t){e.post.comments.splice(0,0,t)}),e.addComment=function(){e.body?(t.addComment(n._id,{body:e.body,date:new Date}),e.error=null):e.error="Bạn chưa nhập nội dung bình luận!",e.body=""},e.like_unlikeComment=function(e,n){var s=r.currentUser();if(-1===n.usersLiked.indexOf(s))t.likeComment(e,n),n.usersLiked.push(s);else{t.unlikeComment(e,n);var o=n.usersLiked.indexOf(s);n.usersLiked.splice(o,1)}},e.dislike_undislikeComment=function(e,n){var s=r.currentUser();if(-1===n.usersDisliked.indexOf(s))t.dislikeComment(e,n),n.usersDisliked.push(s);else{t.undislikeComment(e,n);var o=n.usersDisliked.indexOf(s);n.usersDisliked.splice(o,1)}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Đăng nhập để thích bình luận!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Đăng nhập để không thích bình luận!"},e.deleteComment=function(e,n){s.confirm("Bạn có chắc chắn muốn xóa không?")&&t.deleteComment(e,n)},e.editComment=function(t,n){e.button.name="Save",e.body=n.body,e.currentComment=n;var r=angular.element(document.body.scrollHeight).toString(),o=parseInt(r.substr(1,r.length-2));s.scrollTo(0,o),document.querySelector("#commentInput").select()},e.save=function(n,r){e.body?t.saveComment(n,{_id:e.currentComment._id,body:e.body,date:new Date}):s.confirm("Bạn có chắc chắn muốn xóa không?")&&t.deleteComment(n,e.currentComment),e.button.name="Comment",e.body=""},e.reset=function(){e.body="",e.button.name="Comment"},e.moveToTop=function(){s.scrollTo(0,0)}}]),angular.module("myNetwork.post.service",[]).factory("posts",["$http","auth","Pusher",function(e,t,n){var r={posts:[]};return n.subscribe("posts","addPost",function(e){r.posts.splice(0,0,e)}),n.subscribe("posts","deletePost",function(e){var t=r.getAllPostIds().indexOf(e.post);r.posts.splice(t,1)}),r.getAll=function(){return e.get("/posts").success(function(e){angular.copy(e,r.posts)})},r.getPostsByUser=function(t){return e.get("/posts/user/"+t).then(function(e){return e.data})},r.getAllPostIds=function(){return r.posts.map(function(e){return e._id})},r.create=function(n){return e.post("/posts",n,{headers:{Authorization:"Bearer "+t.getToken()}})},r.get=function(t){return e.get("/posts/"+t).then(function(e){return e.data})},r.addComment=function(n,r){return e.post("/posts/"+n+"/comments",r,{headers:{Authorization:"Bearer "+t.getToken()}})},r.like=function(n){return e.put("/posts/"+n._id+"/like",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.unlike=function(n){return e.put("/posts/"+n._id+"/unlike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.dislike=function(n){return e.put("/posts/"+n._id+"/dislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.undislike=function(n){return e.put("/posts/"+n._id+"/undislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.save=function(n){return e.put("/posts/"+n._id+"/save",n,{headers:{Authorization:"Bearer "+t.getToken()}}).success(function(e){var t=r.getAllPostIds().indexOf(e._id);r.posts[t]=e})},r.saveComment=function(n,s){return e.put("/posts/"+n._id+"/comments/"+s._id+"/save",s,{headers:{Authorization:"Bearer "+t.getToken()}}).success(function(e){var t=(r.getAllPostIds().indexOf(n._id),n.comments.map(function(e){return e._id}).indexOf(e._id));n.comments[t]=e})},r["delete"]=function(n){return e["delete"]("/posts/"+n._id,null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.deleteComment=function(n,s){var o=r.getAllPostIds().indexOf(n._id),i=n.comments.indexOf(s);return n.comments.splice(i,1),r.posts[o]=n,e["delete"]("/posts/"+n._id+"/comments/"+s._id,null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.likeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/like",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.unlikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/unlike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.dislikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/dislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.undislikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/undislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r}]),angular.module("myNetwork.user.find.controller",[]).controller("FindUserCtrl",["$scope","user","$state","$window",function(e,t,n,r){e.users=t.users,e.messages={},e.findUser=function(e){return t.findUser(e).then(function(e){return e.data.map(function(e){return e.username})})},e["goto"]=function(t){t?n.go("user",{username:t}):e.messages.error="Bạn chưa nhập tên người dùng cần tìm!"},e.deleteUser=function(e){r.confirm("Bạn có chắc chắn muốn xóa người dùng này ra khỏi hệ thống?")&&t.deleteUser(e)}}]),angular.module("myNetwork.user.viewposts.controller",[]).controller("ViewUserPostsCtrl",["$scope","$stateParams","$state","auth","posts","userPosts","$window","REGEXPS",function(e,t,n,r,s,o,i,u){e.isLoggedIn=r.isLoggedIn,e.currentUser=r.currentUser,e.logOut=r.logOut,e.allposts=o,e.username=t.username,e.currentPage=1,e.postsPerPage=10,e.editing={};var l=u.VALID_LINK_NOT_REQUIRED_PROTOCOL;e.like_unlike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersLiked.indexOf(t))s.like(e),e.usersLiked.push(t),e.points+=2;else{s.unlike(e);var n=e.usersLiked.indexOf(t);e.usersLiked.splice(n,1),e.points-=2}}},e.dislike_undislike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersDisliked.indexOf(t))s.dislike(e),e.usersDisliked.push(t),e.points--;else{s.undislike(e);var n=e.usersDisliked.indexOf(t);e.usersDisliked.splice(n,1),e.points++}}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Bạn cần đăng nhập!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Bạn cần đăng nhập!"},e.edit=function(t){e.editing.current=[t,!0],e.title=e.editing.current[0].title,e.link=e.editing.current[0].link,i.scrollTo(0,0)},e.save=function(){if(e.title||e.link)if(e.title)if(e.link&&!l.test(e.link))e.error="Link không hợp lệ!";else{var t={_id:e.editing.current[0]._id,title:e.title,link:e.link,date:new Date};s.save(t);var n=e.allposts.map(function(e){return e._id}).indexOf(e.editing.current[0]._id);e.allposts[n].title=t.title,e.allposts[n].link=t.link,e.allposts[n].date=t.date,e.editing={},e.error=""}else e.error="Bạn chưa nhập nội dung!";else i.confirm("Bạn có chắc chắn muốn xóa không?")&&(s["delete"](e.editing.current[0]),e.editing={},e.error="")},e.reset=function(){e.editing={}},e["delete"]=function(t){if(i.confirm("Có phải bạn muốn xóa bài viết này?")){s["delete"](t);var n=e.allposts.map(function(e){return e._id}).indexOf(t._id);e.allposts.splice(n,1)}}}]),angular.module("myNetwork.user.service",[]).factory("user",["$http","auth",function(e,t){var n={users:[]};return n.findUser=function(t){return e({method:"GET",url:"/users/findUser/"+t})},n.getAllUser=function(){return e({method:"GET",url:"/users/all"}).success(function(e){angular.copy(e,n.users)})},n.deleteUser=function(r){var s=n.users.map(function(e){return e.username}).indexOf(r.username);return n.users.splice(s,1),e["delete"]("/users/delete/"+r.username,null,{headers:{Authorization:"Bearer "+t.getToken()}})},n}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXJBcHAuanMiLCJhdXRoQ29udHJvbGxlci5qcyIsImF1dGhTZXJ2aWNlLmpzIiwicHVzaGVyUHJvdmlkZXIuanMiLCJzdGF0ZVByb3ZpZGVyLmpzIiwiY29uc3RhbnRzLmpzIiwiZmlsdGVycy5qcyIsIm1haW5Db250cm9sbGVyLmpzIiwibmF2Q29udHJvbGxlci5qcyIsInBvc3RDb250cm9sbGVyLmpzIiwicG9zdFNlcnZpY2UuanMiLCJmaW5kVXNlckNvbnRyb2xsZXIuanMiLCJ1c2VyQ29udHJvbGxlci5qcyIsInVzZXJTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJHN0YXRlIiwiYXV0aCIsInJlZ2V4IiwidXNlciIsIm1lc3NhZ2VzIiwiVVNFUl9SRUdFWCIsIlZBTElEX1VTRVIiLCJQQVNTX1JFR0VYIiwiVkFMSURfUEFTU1dPUkQiLCJyZWdpc3RlciIsInVzZXJuYW1lIiwidGVzdCIsInBhc3N3b3JkIiwidmVyaWZ5UGFzcyIsImVycm9yIiwiZXJyIiwidGhlbiIsImdvIiwibG9nSW4iLCJjaGFuZ2VQYXNzd29yZCIsImN1cnJlbnRVc2VyIiwiY3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJ2ZXJpZnlOZXdQYXNzd29yZCIsInN1Y2Nlc3MiLCJmYWN0b3J5IiwiJGh0dHAiLCIkd2luZG93IiwiYXV0aFNlcnZpY2UiLCJzYXZlVG9rZW4iLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldFRva2VuIiwiaXNMb2dnZWRJbiIsInBheWxvYWQiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwic3BsaXQiLCJleHAiLCJEYXRlIiwibm93IiwiaXNBZG1pbiIsInBvc3QiLCJkYXRhIiwibG9nT3V0IiwicmVtb3ZlSXRlbSIsInB1dCIsImNvbmZpZyIsIlB1c2hlclNlcnZpY2VQcm92aWRlciIsInNldFRva2VuIiwic2V0T3B0aW9ucyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsInJlc29sdmUiLCJwb3N0UHJvbWlzZSIsInBvc3RzIiwiZ2V0QWxsIiwiJHN0YXRlUGFyYW1zIiwiZ2V0IiwiaWQiLCJvbkVudGVyIiwidXNlclBvc3RzIiwiZ2V0UG9zdHNCeVVzZXIiLCJ1c2VyUHJvbWlzZSIsImdldEFsbFVzZXIiLCJvdGhlcndpc2UiLCJjb25zdGFudCIsIlZBTElEX0xJTktfUkVRVUlSRURfUFJPVE9DT0wiLCJWQUxJRF9MSU5LX05PVF9SRVFVSVJFRF9QUk9UT0NPTCIsIlZBTElEX0VNQUlMIiwiZmlsdGVyIiwibGluayIsIlZBTElEX0xJTksiLCJQdXNoZXIiLCJhbGxwb3N0cyIsInNvcnRPcmRlciIsInNvcnRPcHRpb25zIiwibmFtZSIsIm9yZGVyIiwicG9zdHNQZXJQYWdlIiwiY3VycmVudFBhZ2UiLCJlZGl0aW5nIiwiY3VycmVudExpa2UiLCJzZXRPcmRlciIsImFkZFBvc3QiLCJuZXd0aXRsZSIsIm5ld2xpbmsiLCJjcmVhdGUiLCJ0aXRsZSIsImRhdGUiLCJtb3ZlVG9Ub3AiLCJzY3JvbGxUbyIsImxpa2VfdW5saWtlIiwidXNlcnNMaWtlZCIsImluZGV4T2YiLCJsaWtlIiwicHVzaCIsInBvaW50cyIsInVubGlrZSIsImluZGV4Iiwic3BsaWNlIiwiZGlzbGlrZV91bmRpc2xpa2UiLCJ1c2Vyc0Rpc2xpa2VkIiwiZGlzbGlrZSIsInVuZGlzbGlrZSIsImxpa2VUb29sdGlwVGV4dCIsImRpc2xpa2VUb29sdGlwVGV4dCIsImVkaXQiLCJjdXJyZW50Iiwic2F2ZSIsInVwZGF0ZWRQb3N0IiwiX2lkIiwiY29uZmlybSIsInJlc2V0IiwiYnV0dG9uIiwiY3VycmVudENvbW1lbnQiLCJzdWJzY3JpYmUiLCJjb21tZW50IiwiY29tbWVudHMiLCJhZGRDb21tZW50IiwiYm9keSIsImxpa2VfdW5saWtlQ29tbWVudCIsImxpa2VDb21tZW50IiwidW5saWtlQ29tbWVudCIsImRpc2xpa2VfdW5kaXNsaWtlQ29tbWVudCIsImRpc2xpa2VDb21tZW50IiwidW5kaXNsaWtlQ29tbWVudCIsImRlbGV0ZUNvbW1lbnQiLCJlZGl0Q29tbWVudCIsImhlaWdodFN0ciIsImVsZW1lbnQiLCJkb2N1bWVudCIsInNjcm9sbEhlaWdodCIsInRvU3RyaW5nIiwiaGVpZ2h0IiwicGFyc2VJbnQiLCJzdWJzdHIiLCJsZW5ndGgiLCJxdWVyeVNlbGVjdG9yIiwic2VsZWN0Iiwic2F2ZUNvbW1lbnQiLCJwb3N0U2VydmljZSIsImdldEFsbFBvc3RJZHMiLCJjb3B5IiwicmVzcG9uc2UiLCJtYXAiLCJpdGVtIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJyZXMiLCJwb3N0SW5kZXgiLCJjb21tZW50SW5kZXgiLCJ1c2VycyIsImZpbmRVc2VyIiwidXNyIiwiZGVsZXRlVXNlciIsInVzZXJTZXJ2aWNlIiwibWV0aG9kIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBQUMsT0FBQSxhQUNBLGVBQ0EsWUFDQSx3Q0FDQSxpQ0FDQSxrQ0FDQSxzQkFDQSxvQkFDQSx5QkFDQSw0QkFDQSx5QkFDQSx5Q0FDQSxzQ0FDQSxnQ0FDQSx5QkFDQSxzQ0FDQSxtQ0NoQkFELFFBQUFDLE9BQUEsZ0NBQ0FDLFdBQUEsWUFBQSxTQUFBLFNBQUEsT0FBQSxVQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FILEVBQUFJLFFBQ0FKLEVBQUFLLFdBQ0EsSUFBQUMsR0FBQUgsRUFBQUksV0FDQUMsRUFBQUwsRUFBQU0sY0FFQVQsR0FBQVUsU0FBQSxXQUNBVixFQUFBSSxLQUFBTyxTQUdBTCxFQUFBTSxLQUFBWixFQUFBSSxLQUFBTyxVQUdBWCxFQUFBSSxLQUFBUyxTQUdBTCxFQUFBSSxLQUFBWixFQUFBSSxLQUFBUyxVQUdBYixFQUFBSSxLQUFBVSxXQUdBZCxFQUFBSSxLQUFBUyxVQUFBYixFQUFBSSxLQUFBVSxXQUNBZCxFQUFBSyxTQUFBVSxNQUFBLHNCQUdBYixFQUNBUSxTQUFBVixFQUFBSSxNQUNBVyxNQUFBLFNBQUFDLEdB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QUFBLHNDQUFBLENBQ0F6RCxFQUFBQSxVQUFBaEIsRUFDQSxJQUFBNEQsR0FBQXhHLEVBQUErRSxTQUFBdUUsSUFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUFuQyxNQUNBakIsUUFBQXZELEVBQUF3RSxJQUNBcEgsR0FBQStFLFNBQUEwQixPQUFBRCxFQUFBLFFDekhBM0csUUFBQUMsT0FBQSw2QkFDQTRCLFFBQUEsUUFBQSxRQUFBLE9BQUEsU0FBQUMsRUFBQXpCLEdBQ0EsR0FBQStKLElBQ0FKLFNBK0JBLE9BNUJBSSxHQUFBSCxTQUFBLFNBQUFDLEdBQ0EsTUFBQXBJLElBQ0F1SSxPQUFBLE1BQ0ExRyxJQUFBLG1CQUFBdUcsS0FJQUUsRUFBQTVGLFdBQUEsV0FDQSxNQUFBMUMsSUFDQXVJLE9BQUEsTUFDQTFHLElBQUEsZUFDQS9CLFFBQUEsU0FBQW9JLEdBQ0FoSyxRQUFBdUosS0FBQVMsRUFBQUksRUFBQUosVUFJQUksRUFBQUQsV0FBQSxTQUFBRCxHQUNBLEdBQUF2RCxHQUFBeUQsRUFBQUosTUFBQVAsSUFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUE1SSxXQUNBd0YsUUFBQTRELEVBQUFwSixTQUdBLE9BRkFzSixHQUFBSixNQUFBcEQsT0FBQUQsRUFBQSxHQUVBN0UsRUFBQUEsVUFBQSxpQkFBQW9JLEVBQUFwSixTQUFBLE1BQ0E2SSxTQUFBQyxjQUFBLFVBQUF2SixFQUFBK0IsZUFLQWdJIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrXCIsIFtcclxuXHQndWkuYm9vdHN0cmFwJyxcclxuXHQndWkucm91dGVyJyxcclxuXHRcImFuZ3VsYXJVdGlscy5kaXJlY3RpdmVzLmRpclBhZ2luYXRpb25cIixcclxuXHRcIm15TmV0d29yay5jb25maWcuc3RhdGVQcm92aWRlclwiLFxyXG5cdFwibXlOZXR3b3JrLmNvbmZpZy5wdXNoZXJQcm92aWRlclwiLFxyXG5cdFwibXlOZXR3b3JrLmNvbnN0YW50c1wiLFxyXG5cdFwibXlOZXR3b3JrLmZpbHRlcnNcIixcclxuXHRcIm15TmV0d29yay5hdXRoLnNlcnZpY2VcIixcclxuXHRcIm15TmV0d29yay5hdXRoLmNvbnRyb2xsZXJcIixcclxuXHRcIm15TmV0d29yay5wb3N0LnNlcnZpY2VcIixcclxuXHRcIm15TmV0d29yay5wb3N0LnZpZXdjb21tZW50cy5jb250cm9sbGVyXCIsXHJcblx0XCJteU5ldHdvcmsuaG9tZS52aWV3cG9zdHMuY29udHJvbGxlclwiLFxyXG5cdFwibXlOZXR3b3JrLmhvbWUubmF2LmNvbnRyb2xsZXJcIixcclxuXHRcIm15TmV0d29yay51c2VyLnNlcnZpY2VcIixcclxuXHRcIm15TmV0d29yay51c2VyLnZpZXdwb3N0cy5jb250cm9sbGVyXCIsXHJcblx0XCJteU5ldHdvcmsudXNlci5maW5kLmNvbnRyb2xsZXJcIlxyXG5cdF0pO1xyXG5cdFxyXG5cdFxyXG5cclxuXHRcclxuXHJcblx0XHJcblxyXG5cdFxyXG5cclxuXHRcclxuXHJcblx0IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuYXV0aC5jb250cm9sbGVyXCIsIFtdKVxyXG5cdC5jb250cm9sbGVyKCdBdXRoQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdhdXRoJywgJ1JFR0VYUFMnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgYXV0aCwgcmVnZXgpe1xyXG5cdFx0JHNjb3BlLnVzZXIgPSB7fTtcclxuXHRcdCRzY29wZS5tZXNzYWdlcyA9IHt9O1xyXG4gICAgICB2YXIgVVNFUl9SRUdFWCA9IHJlZ2V4LlZBTElEX1VTRVI7XHJcbiAgICAgIHZhciBQQVNTX1JFR0VYID0gcmVnZXguVkFMSURfUEFTU1dPUkQ7XHJcblxyXG5cdFx0JHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgaWYgKCEkc2NvcGUudXNlci51c2VybmFtZSkge1xyXG4gICAgICAgICBcdCRzY29wZS5tZXNzYWdlcy5lcnJvciA9IFwiQuG6oW4gY2jGsGEgbmjhuq1wIFTDqm4gbmfGsOG7nWkgZMO5bmchXCI7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2UgaWYgKCFVU0VSX1JFR0VYLnRlc3QoJHNjb3BlLnVzZXIudXNlcm5hbWUpKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5lcnJvciA9IFwiVMOqbiBuZ8aw4budaSBkw7luZyB04burIDUgxJHhur9uIDIwIGvDrSB04buxLCBraMO0bmcgY2jhu6lhIGtob+G6o25nIHRy4bqvbmcgdsOgIGvDrSB04buxIMSR4bq3YyBiaeG7h3QgKFxcXFwgLyBgIFxcXCIgJyAjIH4pIVwiO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIGlmICghJHNjb3BlLnVzZXIucGFzc3dvcmQpIHtcclxuICAgICAgICAgXHQkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSBcIkLhuqFuIGNoxrBhIG5o4bqtcCBt4bqtdCBraOG6qXUgKMOtdCBuaOG6pXQgOCBrw60gdOG7sSkhXCI7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2UgaWYgKCFQQVNTX1JFR0VYLnRlc3QoJHNjb3BlLnVzZXIucGFzc3dvcmQpKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5lcnJvciA9IFwiTeG6rXQga2jhuql1IGPhuqduIMOtdCBuaOG6pXQgOCBrw60gdOG7sSFcIjtcclxuICAgICAgICAgfSBcclxuICAgICAgICAgZWxzZSBpZiAoISRzY29wZS51c2VyLnZlcmlmeVBhc3MpIHtcclxuICAgICAgICAgXHQkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSBcIkLhuqFuIGNoxrBhIG5o4bqtcCBs4bqhaSBt4bqtdCBraOG6qXUhXCI7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2UgaWYgKCRzY29wZS51c2VyLnBhc3N3b3JkICE9ICRzY29wZS51c2VyLnZlcmlmeVBhc3MpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gXCJN4bqtdCBraOG6qXUgY2jGsGEga2jhu5twIVwiO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYXV0aFxyXG4gICAgICAgICBcdFx0LnJlZ2lzdGVyKCRzY29wZS51c2VyKVxyXG4gICAgICAgICBcdFx0LmVycm9yKGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgIFx0XHRcdCRzY29wZS5tZXNzYWdlcyA9IGVycjtcclxuICAgICAgICAgXHRcdH0pXHJcbiAgICAgICAgIFx0XHQudGhlbihmdW5jdGlvbigpe1xyXG5cdCAgICAgICAgIFx0XHQkc3RhdGUuZ28oXCJob21lXCIpO1xyXG5cdCAgICAgICAgIFx0fSk7XHJcbiAgICAgICAgIH1cclxuXHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQkc2NvcGUubG9nSW4gPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZiAoISRzY29wZS51c2VyLnVzZXJuYW1lICYmICEkc2NvcGUudXNlci5wYXNzd29yZCkge1xyXG5cdFx0XHRcdCRzY29wZS5tZXNzYWdlcy5lcnJvciA9IFwiQuG6oW4gY2jGsGEgbmjhuq1wIHTDqm4gbmfGsOG7nWkgZMO5bmcgaG/hurdjIG3huq10IGto4bqpdSFcIjtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhdXRoXHJcblx0XHRcdFx0XHQubG9nSW4oJHNjb3BlLnVzZXIpXHJcblx0XHRcdFx0XHQuZXJyb3IoZnVuY3Rpb24oZXJyKXtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLm1lc3NhZ2VzID0gZXJyO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnaG9tZScpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG4gICAgICAkc2NvcGUuY2hhbmdlUGFzc3dvcmQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAkc2NvcGUudXNlci51c2VybmFtZSA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuICAgICAgICAgaWYgKCEkc2NvcGUudXNlci5jdXJyZW50UGFzc3dvcmQgfHwgISRzY29wZS51c2VyLm5ld1Bhc3N3b3JkIHx8ICEkc2NvcGUudXNlci52ZXJpZnlOZXdQYXNzd29yZCkge1xyXG4gICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSAnQuG6oW4gY2jGsGEgbmjhuq1wIHTDqm4gbmfGsOG7nWkgZMO5bmcgaG/hurdjIG3huq10IGto4bqpdSEnO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIGVsc2UgaWYgKCFQQVNTX1JFR0VYLnRlc3QoJHNjb3BlLnVzZXIubmV3UGFzc3dvcmQpKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5lcnJvciA9ICdN4bqtdCBraOG6qXUgY+G6p24gw610IG5o4bqldCA4IGvDrSB04buxISc7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2UgaWYgKCRzY29wZS51c2VyLm5ld1Bhc3N3b3JkICE9ICRzY29wZS51c2VyLnZlcmlmeU5ld1Bhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5lcnJvciA9ICdN4bqtdCBraOG6qXUgY2jGsGEga2jhu5twISc7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhdXRoXHJcbiAgICAgICAgICAgICAgIC5jaGFuZ2VQYXNzd29yZCgkc2NvcGUudXNlcilcclxuICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcyA9IGVycjtcclxuICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS51c2VyID0ge307XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5zdWNjZXNzID0gXCLEkMOjIGPhuq1wIG5o4bqtdCBt4bqtdCBraOG6qXUhXCI7XHJcbiAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIFxyXG4gICAgICB9O1xyXG5cdH1dKTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5hdXRoLnNlcnZpY2VcIiwgW10pXHJcblx0LmZhY3RvcnkoJ2F1dGgnLCBbJyRodHRwJywgJyR3aW5kb3cnLCAnJHN0YXRlJywgZnVuY3Rpb24oJGh0dHAsICR3aW5kb3csICRzdGF0ZSl7XHJcblx0XHR2YXIgYXV0aFNlcnZpY2UgPSB7fTtcclxuXHRcdFxyXG5cdFx0YXV0aFNlcnZpY2Uuc2F2ZVRva2VuID0gZnVuY3Rpb24odG9rZW4pe1xyXG5cdFx0XHQkd2luZG93LmxvY2FsU3RvcmFnZVsnbXktc29jaWFsLXRva2VuJ10gPSB0b2tlbjtcclxuXHRcdH07XHJcblxyXG5cdFx0YXV0aFNlcnZpY2UuZ2V0VG9rZW4gPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRyZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ215LXNvY2lhbC10b2tlbiddO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0YXV0aFNlcnZpY2UuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciB0b2tlbiA9IGF1dGhTZXJ2aWNlLmdldFRva2VuKCk7XHJcblxyXG5cdFx0XHRpZiAodG9rZW4pIHtcclxuXHRcdFx0XHR2YXIgcGF5bG9hZCA9IEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKHRva2VuLnNwbGl0KCcuJylbMV0pKTtcclxuXHRcdFx0XHRyZXR1cm4gKHBheWxvYWQuZXhwID4gRGF0ZS5ub3coKS8xMDAwKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0YXV0aFNlcnZpY2UuY3VycmVudFVzZXIgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZiAoYXV0aFNlcnZpY2UuaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHRva2VuID0gYXV0aFNlcnZpY2UuZ2V0VG9rZW4oKTtcclxuXHRcdFx0XHR2YXIgcGF5bG9hZCA9IEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKHRva2VuLnNwbGl0KCcuJylbMV0pKTtcclxuXHRcdFx0XHRyZXR1cm4gcGF5bG9hZC51c2VybmFtZTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRhdXRoU2VydmljZS5pc0FkbWluID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYgKGF1dGhTZXJ2aWNlLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB0b2tlbiA9IGF1dGhTZXJ2aWNlLmdldFRva2VuKCk7XHJcblx0XHRcdFx0dmFyIHBheWxvYWQgPSBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYih0b2tlbi5zcGxpdCgnLicpWzFdKSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0cmV0dXJuIHBheWxvYWQuaXNBZG1pbjtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRhdXRoU2VydmljZS5yZWdpc3RlciA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy91c2Vycy9yZWdpc3RlcicsIHVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdFx0YXV0aFNlcnZpY2Uuc2F2ZVRva2VuKGRhdGEudG9rZW4pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGF1dGhTZXJ2aWNlLmxvZ0luID0gZnVuY3Rpb24odXNlcikge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL3VzZXJzL2xvZ2luJywgdXNlcikuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0XHRhdXRoU2VydmljZS5zYXZlVG9rZW4oZGF0YS50b2tlbik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRhdXRoU2VydmljZS5sb2dPdXQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdteS1zb2NpYWwtdG9rZW4nKTtcclxuXHRcdFx0JHN0YXRlLmdvKCdob21lJyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGF1dGhTZXJ2aWNlLmNoYW5nZVBhc3N3b3JkID0gZnVuY3Rpb24odXNlcikge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvdXNlcnMvY2hhbmdlUGFzc3dvcmQnLCB1c2VyKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdGF1dGhTZXJ2aWNlLnNhdmVUb2tlbihkYXRhLnRva2VuKTtcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhkYXRhLnRva2VuKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBhdXRoU2VydmljZTtcclxuXHR9XSk7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuY29uZmlnLnB1c2hlclByb3ZpZGVyXCIsIFsnZG9vd2IuYW5ndWxhci1wdXNoZXInXSlcclxuXHQuY29uZmlnKFsnUHVzaGVyU2VydmljZVByb3ZpZGVyJywgZnVuY3Rpb24oUHVzaGVyU2VydmljZVByb3ZpZGVyKSB7XHJcblx0XHRQdXNoZXJTZXJ2aWNlUHJvdmlkZXJcclxuXHRcdFx0LnNldFRva2VuKCc4NjRjODE0YjhmNTQ0NzllNWQ3MScpXHJcblx0XHRcdC5zZXRPcHRpb25zKHt9KTtcclxuXHR9XSk7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuY29uZmlnLnN0YXRlUHJvdmlkZXJcIiwgWyd1aS5yb3V0ZXInXSlcclxuXHQuY29uZmlnKFtcIiRzdGF0ZVByb3ZpZGVyXCIsIFwiJHVybFJvdXRlclByb3ZpZGVyXCIsIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpe1xyXG5cdFx0JHN0YXRlUHJvdmlkZXJcclxuXHRcdFx0LnN0YXRlKCdob21lJywge1xyXG5cdFx0XHRcdHVybDogXCIvaG9tZVwiLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9ob21lLmh0bWxcIixcclxuXHRcdFx0XHRjb250cm9sbGVyOiBcIlZpZXdQb3N0c0N0cmxcIixcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRwb3N0UHJvbWlzZTogWydwb3N0cycsIGZ1bmN0aW9uKHBvc3RzKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHBvc3RzLmdldEFsbCgpO1xyXG5cdFx0XHRcdFx0fV1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHRcclxuXHRcdFx0LnN0YXRlKCdwb3N0cycsIHtcclxuXHRcdFx0XHR1cmw6IFwiL3Bvc3RzL3tpZH1cIixcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvcG9zdHMuaHRtbFwiLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6IFwiVmlld0NvbW1lbnRzQ3RybFwiLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdHBvc3Q6IFsnJHN0YXRlUGFyYW1zJywgJ3Bvc3RzJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBwb3N0cyl7XHJcblx0XHRcdFx0XHRcdHJldHVybiBwb3N0cy5nZXQoJHN0YXRlUGFyYW1zLmlkKTtcclxuXHRcdFx0XHRcdH1dXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0LnN0YXRlKCdsb2dpbicsIHtcclxuXHRcdFx0XHR1cmw6IFwiL2xvZ2luXCIsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvbG9naW4uaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0F1dGhDdHJsJyxcclxuXHRcdFx0XHRvbkVudGVyOiBbJyRzdGF0ZScsICdhdXRoJywgZnVuY3Rpb24oJHN0YXRlLCBhdXRoKXtcclxuXHRcdFx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0LnN0YXRlKCdyZWdpc3RlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvcmVnaXN0ZXInLCBcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9yZWdpc3Rlci5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnQXV0aEN0cmwnLFxyXG5cdFx0XHRcdG9uRW50ZXI6IFsnJHN0YXRlJywgJ2F1dGgnLCBmdW5jdGlvbigkc3RhdGUsIGF1dGgpe1xyXG5cdFx0XHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnaG9tZScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1dXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHQuc3RhdGUoJ3VzZXInLCB7XHJcblx0XHRcdFx0dXJsOiAnL3VzZXJzL3t1c2VybmFtZX0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3VzZXIuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ1ZpZXdVc2VyUG9zdHNDdHJsJyxcclxuXHRcdFx0XHRvbkVudGVyOiBbXCIkc3RhdGVcIiwgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zKXtcclxuXHRcdFx0XHRcdGlmICghJHN0YXRlUGFyYW1zLnVzZXJuYW1lKSB7XHJcblx0XHRcdFx0XHRcdCRzdGF0ZS5nbyhcImhvbWVcIik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fV0sXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0dXNlclBvc3RzOiBbJ3Bvc3RzJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uKHBvc3RzLCAkc3RhdGVQYXJhbXMpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gcG9zdHMuZ2V0UG9zdHNCeVVzZXIoJHN0YXRlUGFyYW1zLnVzZXJuYW1lKTtcclxuXHRcdFx0XHRcdH1dXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0LnN0YXRlKCdmaW5kVXNlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvZmluZFVzZXInLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2ZpbmRVc2VyLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdGaW5kVXNlckN0cmwnLFxyXG5cdFx0XHRcdG9uRW50ZXI6IFsnJHN0YXRlJywgJ2F1dGgnLCBmdW5jdGlvbigkc3RhdGUsIGF1dGgpe1xyXG5cdFx0XHRcdFx0aWYgKCFhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oXCJob21lXCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1dXHJcblxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0LnN0YXRlKCdsaXN0VXNlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvbGlzdFVzZXInLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2xpc3RVc2VyLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdGaW5kVXNlckN0cmwnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdHVzZXJQcm9taXNlOiBbJ3VzZXInLCBmdW5jdGlvbih1c2VyKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHVzZXIuZ2V0QWxsVXNlcigpO1xyXG5cdFx0XHRcdFx0fV1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdG9uRW50ZXI6IFsnJHN0YXRlJywgJ2F1dGgnLCBmdW5jdGlvbigkc3RhdGUsIGF1dGgpe1xyXG5cdFx0XHRcdFx0aWYgKCAhYXV0aC5pc0xvZ2dlZEluKCkgfHwgKGF1dGguaXNMb2dnZWRJbigpICYmICFhdXRoLmlzQWRtaW4oKSkgKSB7XHJcblx0XHRcdFx0XHRcdCRzdGF0ZS5nbyhcImhvbWVcIik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fV1cclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdC5zdGF0ZSgnY2hhbmdlUGFzc3dvcmQnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2NoYW5nZVBhc3N3b3JkJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9jaGFuZ2VQYXNzd29yZC5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnQXV0aEN0cmwnLFxyXG5cdFx0XHRcdG9uRW50ZXI6IFsnJHN0YXRlJywgJ2F1dGgnLCBmdW5jdGlvbigkc3RhdGUsIGF1dGgpe1xyXG5cdFx0XHRcdFx0aWYgKCFhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oXCJob21lXCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1dXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCJob21lXCIpO1xyXG5cdH1dKTtcclxuIiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuY29uc3RhbnRzXCIsIFtdKVxyXG5cdC5jb25zdGFudCgnUkVHRVhQUycsIHtcclxuXHRcdFZBTElEX0xJTktfUkVRVUlSRURfUFJPVE9DT0w6IC9eKChodHRwc3xodHRwfGZ0cClcXDpcXC9cXC8pKFt3fFddezN9XFwuKT9bYS16QS1aMC05XFwtXFwuXXszLH1cXC5bYS16QS1aXXsyLH0oXFwuW2EtekEtWl17Mix9KT8oKFxcL1thLXpBLVowLTldKikrKFxcLlthLXpBLVowLTldezIsNH0pKT8vLFxyXG5cdFx0VkFMSURfTElOS19OT1RfUkVRVUlSRURfUFJPVE9DT0w6IC9eKChodHRwc3xodHRwfGZ0cClcXDpcXC9cXC8pPyhbd3xXXXszfVxcLik/W2EtekEtWjAtOVxcLVxcLl17Myx9XFwuW2EtekEtWl17Mix9KFxcLlthLXpBLVpdezIsfSk/KChcXC9bYS16QS1aMC05XSopKyhcXC5bYS16QS1aMC05XXsyLDR9KSk/LyxcclxuXHRcdFZBTElEX1VTRVI6IC9eW2EtekEtWjAtOV9cXC5dezUsMjB9JC8sXHJcblx0XHRWQUxJRF9QQVNTV09SRDogL14uezgsfSQvLFxyXG5cdFx0VkFMSURfRU1BSUw6IC9eW2EtekEtWl0rW1xcLjAtOV9dK0BbYS16MC05XStcXC5bYS16XXsyLDR9JC9cclxuXHR9KTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5maWx0ZXJzXCIsIFtdKVxyXG5cdC5maWx0ZXIoJ2xpbmsnLCBbJ1JFR0VYUFMnLCBmdW5jdGlvbihyZWdleCl7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24obGluayl7XHJcblx0XHRcdHZhciBWQUxJRF9MSU5LID0gcmVnZXguVkFMSURfTElOS19SRVFVSVJFRF9QUk9UT0NPTDtcclxuXHRcdFx0aWYgKFZBTElEX0xJTksudGVzdChsaW5rKSkge1xyXG5cdFx0XHRcdHJldHVybiBsaW5rO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiAnaHR0cHM6Ly8nICsgbGluaztcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XSlcclxuXHQ7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuaG9tZS52aWV3cG9zdHMuY29udHJvbGxlclwiLCBbXSlcclxuXHQuY29udHJvbGxlcihcIlZpZXdQb3N0c0N0cmxcIiwgW1wiJHNjb3BlXCIsIFwiJHdpbmRvd1wiLCBcInBvc3RzXCIsICdhdXRoJywgJ1JFR0VYUFMnLCBcIlB1c2hlclwiLCBmdW5jdGlvbigkc2NvcGUsICR3aW5kb3csIHBvc3RzLCBhdXRoLCByZWdleCwgUHVzaGVyKXtcclxuXHRcdFxyXG5cdFx0JHNjb3BlLmlzTG9nZ2VkSW4gPSBhdXRoLmlzTG9nZ2VkSW47XHJcblx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xyXG5cdFx0JHNjb3BlLmxvZ091dCA9IGF1dGgubG9nT3V0O1xyXG5cdFx0JHNjb3BlLmlzQWRtaW4gPSBhdXRoLmlzQWRtaW47XHJcblx0XHQkc2NvcGUuYWxscG9zdHMgPSBwb3N0cy5wb3N0cztcclxuXHRcdCRzY29wZS5zb3J0T3JkZXIgPSAnLWRhdGUnO1xyXG5cdFx0JHNjb3BlLnNvcnRPcHRpb25zID0gW1xyXG5cdFx0XHR7IG5hbWU6ICdN4bubaSBuaOG6pXQnLCBvcmRlcjogJy1kYXRlJyB9LFxyXG5cdFx0XHR7IG5hbWU6ICdOaGnhu4F1IGxpa2UgbmjhuqV0Jywgb3JkZXI6ICctdXNlcnNMaWtlZC5sZW5ndGgnfSxcclxuXHRcdFx0eyBuYW1lOiAnTmhp4buBdSBiw6xuaCBsdeG6rW4gbmjhuqV0Jywgb3JkZXI6ICctY29tbWVudHMubGVuZ3RoJ31cdFx0XHJcblx0XHRdO1xyXG5cdFx0JHNjb3BlLnBvc3RzUGVyUGFnZSA9IDEwO1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRQYWdlID0gMTtcclxuXHRcdFxyXG5cdFx0JHNjb3BlLmVycm9yID0gJyc7XHJcblx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRMaWtlID0gZmFsc2U7XHJcblx0XHR2YXIgVkFMSURfTElOSyA9IHJlZ2V4LlZBTElEX0xJTktfTk9UX1JFUVVJUkVEX1BST1RPQ09MO1xyXG5cclxuXHRcdC8qUHVzaGVyLnN1YnNjcmliZShcInBvc3RzXCIsIFwiYWRkUG9zdFwiLCBmdW5jdGlvbihwb3N0KXtcclxuXHRcdFx0JHNjb3BlLmFsbHBvc3RzLnB1c2gocG9zdCk7XHJcblx0XHR9KTtcclxuKi9cclxuXHRcdCRzY29wZS5zZXRPcmRlciA9IGZ1bmN0aW9uKG9yZGVyKSB7XHJcblx0XHRcdCRzY29wZS5zb3J0T3JkZXIgPSBvcmRlcjtcclxuXHRcdH07XHJcblx0XHQkc2NvcGUuYWRkUG9zdCA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdGlmICghJHNjb3BlLm5ld3RpdGxlKSB7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gJ0LhuqFuIGNoxrBhIG5o4bqtcCBu4buZaSBkdW5nISc7XHJcblx0XHRcdH0gZWxzZSBpZiAoJHNjb3BlLm5ld2xpbmsgJiYgIVZBTElEX0xJTksudGVzdCgkc2NvcGUubmV3bGluaykpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnTGluayBraMO0bmcgaOG7o3AgbOG7hyEnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vY29uc29sZS5sb2coXCJ2YWxpZCBwb3N0XCIpO1xyXG5cdFx0XHRcdHBvc3RzLmNyZWF0ZSh7XHJcblx0XHRcdFx0XHR0aXRsZTogJHNjb3BlLm5ld3RpdGxlLFxyXG5cdFx0XHRcdFx0bGluazogJHNjb3BlLm5ld2xpbmssXHJcblx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0JHNjb3BlLm5ld3RpdGxlID0gJyc7XHJcblx0XHRcdFx0JHNjb3BlLm5ld2xpbmsgPSAnJztcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnJztcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUubW92ZVRvVG9wID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdCR3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5saWtlX3VubGlrZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpID09PSAtMSkge1xyXG5cdFx0XHRcdFx0cG9zdHMubGlrZShwb3N0KTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNMaWtlZC5wdXNoKHVzZXIpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMrPTI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHBvc3RzLnVubGlrZShwb3N0KTtcclxuXHRcdFx0XHRcdHZhciBpbmRleCA9IHBvc3QudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpO1xyXG5cdFx0XHRcdFx0cG9zdC51c2Vyc0xpa2VkLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHRwb3N0LnBvaW50cy09MjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRpc2xpa2VfdW5kaXNsaWtlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRpZiAoYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHR2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuXHRcdFx0XHRpZiAocG9zdC51c2Vyc0Rpc2xpa2VkLmluZGV4T2YodXNlcikgPT09IC0xKSB7XHJcblx0XHRcdFx0XHRwb3N0cy5kaXNsaWtlKHBvc3QpO1xyXG5cdFx0XHRcdFx0cG9zdC51c2Vyc0Rpc2xpa2VkLnB1c2godXNlcik7XHJcblx0XHRcdFx0XHRwb3N0LnBvaW50cy0tO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwb3N0cy51bmRpc2xpa2UocG9zdCk7XHJcblx0XHRcdFx0XHR2YXIgaW5kZXggPSBwb3N0LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNEaXNsaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMrKztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmxpa2VUb29sdGlwVGV4dCA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiQuG7jyB0aMOtY2hcIjtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiVGjDrWNoXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBcIsSQxINuZyBuaOG6rXAgxJHhu4MgdGjDrWNoIGLDoGkgdmnhur90IVwiO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kaXNsaWtlVG9vbHRpcFRleHQgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIkLhu48ga2jDtG5nIHRow61jaFwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJLaMO0bmcgdGjDrWNoXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBcIsSQxINuZyBuaOG6rXAgxJHhu4Mga2jDtG5nIHRow61jaCBiw6BpIHZp4bq/dCFcIjtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZWRpdCA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0JHNjb3BlLmVkaXRpbmcuY3VycmVudCA9IFtwb3N0LCB0cnVlXTtcclxuXHRcdFx0JHNjb3BlLnRpdGxlID0gJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS50aXRsZTtcclxuXHRcdFx0JHNjb3BlLmxpbmsgPSAkc2NvcGUuZWRpdGluZy5jdXJyZW50WzBdLmxpbms7XHJcblx0XHRcdCRzY29wZS5tb3ZlVG9Ub3AoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRcclxuXHRcdFx0aWYgKCEkc2NvcGUudGl0bGUgJiYgISRzY29wZS5saW5rKSB7XHJcblx0XHRcdFx0aWYgKCR3aW5kb3cuY29uZmlybShcIkPDsyBwaOG6o2kgYuG6oW4gbXXhu5FuIHjDs2EgYsOgaSB2aeG6v3QgbsOgeT9cIikpIHtcclxuXHRcdFx0XHRcdHBvc3RzLmRlbGV0ZSgkc2NvcGUuZWRpdGluZy5jdXJyZW50WzBdKTtcclxuXHRcdFx0XHRcdCRzY29wZS5lZGl0aW5nID0ge307XHJcblx0XHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnJztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoISRzY29wZS50aXRsZSkge1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICdC4bqhbiBjaMawYSBuaOG6rXAgbuG7mWkgZHVuZyEnO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCRzY29wZS5saW5rICYmICFWQUxJRF9MSU5LLnRlc3QoJHNjb3BlLmxpbmspKSB7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gJ0xpbmsga2jDtG5nIGjhu6NwIGzhu4chJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZygkc2NvcGUudGl0bGUpO1xyXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKCRzY29wZS5saW5rKTtcclxuXHRcdFx0XHR2YXIgdXBkYXRlZFBvc3QgPSB7XHJcblx0XHRcdFx0XHRfaWQ6ICRzY29wZS5lZGl0aW5nLmN1cnJlbnRbMF0uX2lkLFxyXG5cdFx0XHRcdFx0dGl0bGU6ICRzY29wZS50aXRsZSxcclxuXHRcdFx0XHRcdGxpbms6ICRzY29wZS5saW5rLFxyXG5cdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKVxyXG5cdFx0XHRcdH07XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2codXBkYXRlZFBvc3QpO1xyXG5cdFx0XHRcdHBvc3RzLnNhdmUodXBkYXRlZFBvc3QpO1xyXG5cdFx0XHRcdCRzY29wZS5lZGl0aW5nID0ge307XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRcclxuXHJcblxyXG5cdFx0JHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0JHNjb3BlLmVkaXRpbmcgPSB7fTtcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRlbGV0ZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKCR3aW5kb3cuY29uZmlybShcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB4w7NhIGtow7RuZz9cIikpIHtcclxuXHRcdFx0XHRwb3N0cy5kZWxldGUocG9zdCk7XHJcblx0XHRcdH1cdFx0XHRcclxuXHRcdH07XHJcblxyXG5cclxuXHJcblx0fV0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLmhvbWUubmF2LmNvbnRyb2xsZXJcIiwgW10pXHJcblx0LmNvbnRyb2xsZXIoJ05hdkN0cmwnLCBbJyRzY29wZScsICdhdXRoJywgZnVuY3Rpb24oJHNjb3BlLCBhdXRoKXtcclxuXHRcdCRzY29wZS5pc0xvZ2dlZEluID0gYXV0aC5pc0xvZ2dlZEluO1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRVc2VyID0gYXV0aC5jdXJyZW50VXNlcjtcclxuXHRcdCRzY29wZS5sb2dPdXQgPSBhdXRoLmxvZ091dDtcclxuXHR9XSk7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsucG9zdC52aWV3Y29tbWVudHMuY29udHJvbGxlclwiLCBbXSlcclxuXHQuY29udHJvbGxlcihcIlZpZXdDb21tZW50c0N0cmxcIiwgW1wiJHNjb3BlXCIsIFwicG9zdHNcIiwgXCJwb3N0XCIsICdhdXRoJywgJyR3aW5kb3cnLCAnUHVzaGVyJywgZnVuY3Rpb24oJHNjb3BlLCBwb3N0cywgcG9zdCwgYXV0aCwgJHdpbmRvdywgUHVzaGVyKXtcclxuXHRcdCRzY29wZS5wb3N0ID0gcG9zdDtcclxuXHRcdCRzY29wZS5lcnJvciA9ICcnO1xyXG5cdFx0JHNjb3BlLmJ1dHRvbiA9IHsgbmFtZTogJ0NvbW1lbnQnIH07XHJcblx0XHQkc2NvcGUuY3VycmVudENvbW1lbnQgPSB7fTtcclxuXHRcdCRzY29wZS5jdXJyZW50VXNlciA9IGF1dGguY3VycmVudFVzZXI7XHJcblx0XHQkc2NvcGUuY3VycmVudFBhZ2UgPSAxO1xyXG5cdFx0JHNjb3BlLmlzTG9nZ2VkSW4gPSBhdXRoLmlzTG9nZ2VkSW47XHJcblxyXG5cdFx0UHVzaGVyLnN1YnNjcmliZShcImNvbW1lbnRzXCIsIFwiYWRkQ29tbWVudFwiLCBmdW5jdGlvbihjb21tZW50KXtcclxuXHRcdFx0JHNjb3BlLnBvc3QuY29tbWVudHMuc3BsaWNlKDAsIDAsIGNvbW1lbnQpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0JHNjb3BlLmFkZENvbW1lbnQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZiAoJHNjb3BlLmJvZHkpIHtcclxuXHRcdFx0XHRwb3N0cy5hZGRDb21tZW50KHBvc3QuX2lkLCB7XHJcblx0XHRcdFx0XHRib2R5OiAkc2NvcGUuYm9keSxcclxuXHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKClcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSBudWxsO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICdC4bqhbiBjaMawYSBuaOG6rXAgbuG7mWkgZHVuZyBiw6xuaCBsdeG6rW4hJztcclxuXHRcdFx0fVxyXG5cdFx0XHQkc2NvcGUuYm9keSA9ICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUubGlrZV91bmxpa2VDb21tZW50ID0gZnVuY3Rpb24ocG9zdCwgY29tbWVudCkge1xyXG5cdFx0XHR2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuXHRcdFx0aWYgKGNvbW1lbnQudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpID09PSAtMSkge1xyXG5cdFx0XHRcdHBvc3RzLmxpa2VDb21tZW50KHBvc3QsIGNvbW1lbnQpO1xyXG5cdFx0XHRcdGNvbW1lbnQudXNlcnNMaWtlZC5wdXNoKHVzZXIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHBvc3RzLnVubGlrZUNvbW1lbnQocG9zdCwgY29tbWVudCk7XHJcblx0XHRcdFx0dmFyIGluZGV4ID0gY29tbWVudC51c2Vyc0xpa2VkLmluZGV4T2YodXNlcik7XHJcblx0XHRcdFx0Y29tbWVudC51c2Vyc0xpa2VkLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRpc2xpa2VfdW5kaXNsaWtlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdGlmIChjb21tZW50LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRwb3N0cy5kaXNsaWtlQ29tbWVudChwb3N0LCBjb21tZW50KTtcclxuXHRcdFx0XHRjb21tZW50LnVzZXJzRGlzbGlrZWQucHVzaCh1c2VyKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwb3N0cy51bmRpc2xpa2VDb21tZW50KHBvc3QsIGNvbW1lbnQpO1xyXG5cdFx0XHRcdHZhciBpbmRleCA9IGNvbW1lbnQudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpO1xyXG5cdFx0XHRcdGNvbW1lbnQudXNlcnNEaXNsaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5saWtlVG9vbHRpcFRleHQgPSBmdW5jdGlvbihjb21tZW50KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChjb21tZW50LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIkLhu48gdGjDrWNoXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIlRow61jaFwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gXCLEkMSDbmcgbmjhuq1wIMSR4buDIHRow61jaCBiw6xuaCBsdeG6rW4hXCI7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRpc2xpa2VUb29sdGlwVGV4dCA9IGZ1bmN0aW9uKGNvbW1lbnQpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKGNvbW1lbnQudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiQuG7jyBraMO0bmcgdGjDrWNoXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIktow7RuZyB0aMOtY2hcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIFwixJDEg25nIG5o4bqtcCDEkeG7gyBraMO0bmcgdGjDrWNoIGLDrG5oIGx14bqtbiFcIjtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZGVsZXRlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0aWYgKCR3aW5kb3cuY29uZmlybShcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB4w7NhIGtow7RuZz9cIikpIHtcclxuXHRcdFx0XHRwb3N0cy5kZWxldGVDb21tZW50KHBvc3QsIGNvbW1lbnQpO1x0XHJcblxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5lZGl0Q29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0JHNjb3BlLmJ1dHRvbi5uYW1lID0gJ1NhdmUnO1xyXG5cdFx0XHQkc2NvcGUuYm9keSA9IGNvbW1lbnQuYm9keTtcclxuXHRcdFx0JHNjb3BlLmN1cnJlbnRDb21tZW50ID0gY29tbWVudDtcclxuXHRcdFx0XHJcblx0XHRcdHZhciBoZWlnaHRTdHIgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQpLnRvU3RyaW5nKCk7XHJcblx0XHRcdHZhciBoZWlnaHQgPSBwYXJzZUludChoZWlnaHRTdHIuc3Vic3RyKDEsIGhlaWdodFN0ci5sZW5ndGggLSAyKSk7XHJcblx0XHRcdCR3aW5kb3cuc2Nyb2xsVG8oMCwgaGVpZ2h0KTtcclxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvbW1lbnRJbnB1dCcpLnNlbGVjdCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpe1xyXG5cdFx0XHRpZiAoJHNjb3BlLmJvZHkpIHtcclxuXHRcdFx0XHRwb3N0cy5zYXZlQ29tbWVudChwb3N0LCB7XHJcblx0XHRcdFx0XHRfaWQ6ICRzY29wZS5jdXJyZW50Q29tbWVudC5faWQsXHJcblx0XHRcdFx0XHRib2R5OiAkc2NvcGUuYm9keSxcclxuXHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKClcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRpZiAoJHdpbmRvdy5jb25maXJtKFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHjDs2Ega2jDtG5nP1wiKSkge1xyXG5cdFx0XHRcdFx0cG9zdHMuZGVsZXRlQ29tbWVudChwb3N0LCAkc2NvcGUuY3VycmVudENvbW1lbnQpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHQkc2NvcGUuYnV0dG9uLm5hbWUgPSAnQ29tbWVudCc7XHJcblx0XHRcdCRzY29wZS5ib2R5ID0gJyc7XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdCRzY29wZS5ib2R5ID0gJyc7XHJcblx0XHRcdCRzY29wZS5idXR0b24ubmFtZSA9ICdDb21tZW50JztcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLm1vdmVUb1RvcCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQkd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdH1dKTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5wb3N0LnNlcnZpY2VcIiwgW10pXHJcblx0LmZhY3RvcnkoXCJwb3N0c1wiLCBbXCIkaHR0cFwiLCBcImF1dGhcIiwgXCJQdXNoZXJcIiwgZnVuY3Rpb24oJGh0dHAsIGF1dGgsIFB1c2hlcil7XHJcblx0XHR2YXIgcG9zdFNlcnZpY2UgPSB7XHJcblx0XHRcdHBvc3RzOiBbXVxyXG5cdFx0fTtcclxuXHJcblx0XHRQdXNoZXIuc3Vic2NyaWJlKFwicG9zdHNcIiwgXCJhZGRQb3N0XCIsIGZ1bmN0aW9uKHBvc3Qpe1xyXG5cdFx0XHRwb3N0U2VydmljZS5wb3N0cy5zcGxpY2UoMCwgMCwgcG9zdCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRQdXNoZXIuc3Vic2NyaWJlKFwicG9zdHNcIiwgXCJkZWxldGVQb3N0XCIsIGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHR2YXIgaW5kZXggPSBwb3N0U2VydmljZS5nZXRBbGxQb3N0SWRzKCkuaW5kZXhPZihkYXRhLnBvc3QpO1xyXG5cdFx0XHRwb3N0U2VydmljZS5wb3N0cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuZ2V0QWxsID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9wb3N0cycpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdFx0YW5ndWxhci5jb3B5KGRhdGEsIHBvc3RTZXJ2aWNlLnBvc3RzKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmdldFBvc3RzQnlVc2VyID0gZnVuY3Rpb24odXNlcm5hbWUpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLmdldCgnL3Bvc3RzL3VzZXIvJyArIHVzZXJuYW1lKS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXtcclxuXHRcdFx0XHRyZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmdldEFsbFBvc3RJZHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIHBvc3RTZXJ2aWNlLnBvc3RzLm1hcChmdW5jdGlvbihpdGVtKXtcclxuXHRcdFx0XHRyZXR1cm4gaXRlbS5faWQ7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5jcmVhdGUgPSBmdW5jdGlvbihwb3N0KXtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy9wb3N0cycsIHBvc3QsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pLyouc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0XHRwb3N0U2VydmljZS5wb3N0cy5zcGxpY2UoMCwgMCwgZGF0YSk7XHJcblx0XHRcdH0pKi87XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmdldCA9IGZ1bmN0aW9uKGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9wb3N0cy8nICsgaWQpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5hZGRDb21tZW50ID0gZnVuY3Rpb24oaWQsIGNvbW1lbnQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy9wb3N0cy8nICsgaWQgKyAnL2NvbW1lbnRzJywgY29tbWVudCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmxpa2UgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQvKi5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdHBvc3QudXNlcnNMaWtlZC5wdXNoKGRhdGEpO1xyXG5cdFx0XHR9KSovXHJcblx0XHRcdDtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UudW5saWtlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy91bmxpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQvKi5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdHZhciBpbmRleCA9IHBvc3QudXNlcnNMaWtlZC5pbmRleE9mKGRhdGEpO1xyXG5cdFx0XHRcdHBvc3QudXNlcnNMaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHR9KSovXHJcblx0XHRcdDtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuZGlzbGlrZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvZGlzbGlrZScsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS51bmRpc2xpa2UgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL3VuZGlzbGlrZScsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5zYXZlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9zYXZlJywgcG9zdCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbihwb3N0KXtcclxuXHRcdFx0XHR2YXIgcG9zdEluZGV4ID0gcG9zdFNlcnZpY2UuZ2V0QWxsUG9zdElkcygpLmluZGV4T2YocG9zdC5faWQpO1xyXG5cdFx0XHRcdHBvc3RTZXJ2aWNlLnBvc3RzW3Bvc3RJbmRleF0gPSBwb3N0O1xyXG5cdFx0XHR9KVxyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5zYXZlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvY29tbWVudHMvJyArIGNvbW1lbnQuX2lkICsgJy9zYXZlJywgY29tbWVudCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbihjb21tZW50KXtcclxuXHRcdFx0XHR2YXIgcG9zdEluZGV4ID0gcG9zdFNlcnZpY2UuZ2V0QWxsUG9zdElkcygpLmluZGV4T2YocG9zdC5faWQpO1xyXG5cdFx0XHRcdHZhciBjb21tZW50SW5kZXggPSBwb3N0LmNvbW1lbnRzLm1hcChmdW5jdGlvbihpdGVtKXtcclxuXHRcdFx0XHRcdHJldHVybiBpdGVtLl9pZDtcclxuXHRcdFx0XHR9KS5pbmRleE9mKGNvbW1lbnQuX2lkKTtcclxuXHRcdFx0XHRwb3N0LmNvbW1lbnRzW2NvbW1lbnRJbmRleF0gPSBjb21tZW50O1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuZGVsZXRlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHQvLyB2YXIgaW5kZXggPSBwb3N0U2VydmljZS5wb3N0cy5pbmRleE9mKHBvc3QpO1xyXG5cdFx0XHQvLyBwb3N0U2VydmljZS5wb3N0cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSgnL3Bvc3RzLycgKyBwb3N0Ll9pZCwgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmRlbGV0ZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LGNvbW1lbnQpIHtcclxuXHRcdFx0dmFyIHBvc3RJbmRleCA9IHBvc3RTZXJ2aWNlLmdldEFsbFBvc3RJZHMoKS5pbmRleE9mKHBvc3QuX2lkKTtcclxuXHRcdFx0dmFyIGNvbW1lbnRJbmRleCA9IHBvc3QuY29tbWVudHMuaW5kZXhPZihjb21tZW50KTtcclxuXHRcdFx0cG9zdC5jb21tZW50cy5zcGxpY2UoY29tbWVudEluZGV4LCAxKTtcclxuXHRcdFx0cG9zdFNlcnZpY2UucG9zdHNbcG9zdEluZGV4XSA9IHBvc3Q7XHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2NvbW1lbnRzLycgKyBjb21tZW50Ll9pZCwgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmxpa2VDb21tZW50ID0gZnVuY3Rpb24ocG9zdCwgY29tbWVudCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9jb21tZW50cy8nICsgY29tbWVudC5faWQgKyAnL2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UudW5saWtlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvY29tbWVudHMvJyArIGNvbW1lbnQuX2lkICsgJy91bmxpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuZGlzbGlrZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2NvbW1lbnRzLycgKyBjb21tZW50Ll9pZCArICcvZGlzbGlrZScsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS51bmRpc2xpa2VDb21tZW50ID0gZnVuY3Rpb24ocG9zdCwgY29tbWVudCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9jb21tZW50cy8nICsgY29tbWVudC5faWQgKyAnL3VuZGlzbGlrZScsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gcG9zdFNlcnZpY2U7XHJcblx0fV0pXHJcblx0OyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLnVzZXIuZmluZC5jb250cm9sbGVyXCIsIFtdKVxyXG5cdC5jb250cm9sbGVyKCdGaW5kVXNlckN0cmwnLCBbJyRzY29wZScsICd1c2VyJywgJyRzdGF0ZScsICckd2luZG93JywgZnVuY3Rpb24oJHNjb3BlLCB1c2VyLCAkc3RhdGUsICR3aW5kb3cpe1xyXG5cdFx0JHNjb3BlLnVzZXJzID0gdXNlci51c2VycztcclxuXHRcdCRzY29wZS5tZXNzYWdlcyA9IHt9O1xyXG5cdFx0JHNjb3BlLmZpbmRVc2VyID0gZnVuY3Rpb24odXNyKSB7XHJcblx0XHRcdHJldHVybiB1c2VyLmZpbmRVc2VyKHVzcikudGhlbihmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdHJldHVybiByZXMuZGF0YS5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gaXRlbS51c2VybmFtZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5nb3RvID0gZnVuY3Rpb24odXNyKSB7XHJcblx0XHRcdGlmICh1c3IpIHtcclxuXHRcdFx0XHQkc3RhdGUuZ28oXCJ1c2VyXCIsIHt1c2VybmFtZTogdXNyfSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gJ0LhuqFuIGNoxrBhIG5o4bqtcCB0w6puIG5nxrDhu51pIGTDuW5nIGPhuqduIHTDrG0hJztcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRlbGV0ZVVzZXIgPSBmdW5jdGlvbih1c3IpIHtcclxuXHRcdFx0aWYgKCR3aW5kb3cuY29uZmlybShcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB4w7NhIG5nxrDhu51pIGTDuW5nIG7DoHkgcmEga2jhu49pIGjhu4cgdGjhu5FuZz9cIikpIHtcclxuXHRcdFx0XHR1c2VyLmRlbGV0ZVVzZXIodXNyKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0fV0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLnVzZXIudmlld3Bvc3RzLmNvbnRyb2xsZXJcIiwgW10pXHJcblx0LmNvbnRyb2xsZXIoJ1ZpZXdVc2VyUG9zdHNDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJyRzdGF0ZScsICdhdXRoJywgJ3Bvc3RzJywgJ3VzZXJQb3N0cycsICckd2luZG93JywgJ1JFR0VYUFMnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBhdXRoLCBwb3N0cywgdXNlclBvc3RzLCAkd2luZG93LCByZWdleCl7XHJcblx0XHQkc2NvcGUuaXNMb2dnZWRJbiA9IGF1dGguaXNMb2dnZWRJbjtcclxuXHRcdCRzY29wZS5jdXJyZW50VXNlciA9IGF1dGguY3VycmVudFVzZXI7XHJcblx0XHQkc2NvcGUubG9nT3V0ID0gYXV0aC5sb2dPdXQ7XHJcblx0XHQkc2NvcGUuYWxscG9zdHMgPSB1c2VyUG9zdHM7XHJcblx0XHQkc2NvcGUudXNlcm5hbWUgPSAkc3RhdGVQYXJhbXMudXNlcm5hbWU7XHJcblx0XHQkc2NvcGUuY3VycmVudFBhZ2UgPSAxO1xyXG5cdFx0JHNjb3BlLnBvc3RzUGVyUGFnZSA9IDEwO1xyXG5cclxuXHRcdCRzY29wZS5lZGl0aW5nID0ge307XHJcblx0XHR2YXIgVkFMSURfTElOSyA9IHJlZ2V4LlZBTElEX0xJTktfTk9UX1JFUVVJUkVEX1BST1RPQ09MO1xyXG5cclxuXHRcdCRzY29wZS5saWtlX3VubGlrZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpID09PSAtMSkge1xyXG5cdFx0XHRcdFx0cG9zdHMubGlrZShwb3N0KTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNMaWtlZC5wdXNoKHVzZXIpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMrPTI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHBvc3RzLnVubGlrZShwb3N0KTtcclxuXHRcdFx0XHRcdHZhciBpbmRleCA9IHBvc3QudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpO1xyXG5cdFx0XHRcdFx0cG9zdC51c2Vyc0xpa2VkLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHRwb3N0LnBvaW50cy09MjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRpc2xpa2VfdW5kaXNsaWtlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRpZiAoYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHR2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuXHRcdFx0XHRpZiAocG9zdC51c2Vyc0Rpc2xpa2VkLmluZGV4T2YodXNlcikgPT09IC0xKSB7XHJcblx0XHRcdFx0XHRwb3N0cy5kaXNsaWtlKHBvc3QpO1xyXG5cdFx0XHRcdFx0cG9zdC51c2Vyc0Rpc2xpa2VkLnB1c2godXNlcik7XHJcblx0XHRcdFx0XHRwb3N0LnBvaW50cy0tO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwb3N0cy51bmRpc2xpa2UocG9zdCk7XHJcblx0XHRcdFx0XHR2YXIgaW5kZXggPSBwb3N0LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNEaXNsaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMrKztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmxpa2VUb29sdGlwVGV4dCA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiQuG7jyB0aMOtY2hcIjtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiVGjDrWNoXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBcIkLhuqFuIGPhuqduIMSRxINuZyBuaOG6rXAhXCI7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRpc2xpa2VUb29sdGlwVGV4dCA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiQuG7jyBraMO0bmcgdGjDrWNoXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIktow7RuZyB0aMOtY2hcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIFwiQuG6oW4gY+G6p24gxJHEg25nIG5o4bqtcCFcIjtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZWRpdCA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0JHNjb3BlLmVkaXRpbmcuY3VycmVudCA9IFtwb3N0LCB0cnVlXTtcclxuXHRcdFx0JHNjb3BlLnRpdGxlID0gJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS50aXRsZTtcclxuXHRcdFx0JHNjb3BlLmxpbmsgPSAkc2NvcGUuZWRpdGluZy5jdXJyZW50WzBdLmxpbms7XHJcblx0XHRcdCR3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICghJHNjb3BlLnRpdGxlICYmICEkc2NvcGUubGluaykge1xyXG5cdFx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSBraMO0bmc/XCIpKSB7XHJcblx0XHRcdFx0XHRwb3N0cy5kZWxldGUoJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXSk7XHJcblx0XHRcdFx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0XHRcdFx0JHNjb3BlLmVycm9yID0gJyc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKCEkc2NvcGUudGl0bGUpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnQuG6oW4gY2jGsGEgbmjhuq1wIG7hu5lpIGR1bmchJztcclxuXHRcdFx0fSBlbHNlIGlmICgkc2NvcGUubGluayAmJiAhVkFMSURfTElOSy50ZXN0KCRzY29wZS5saW5rKSkge1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICdMaW5rIGtow7RuZyBo4bujcCBs4buHISc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIHVwZGF0ZWRQb3N0ID0ge1xyXG5cdFx0XHRcdFx0X2lkOiAkc2NvcGUuZWRpdGluZy5jdXJyZW50WzBdLl9pZCxcclxuXHRcdFx0XHRcdHRpdGxlOiAkc2NvcGUudGl0bGUsXHJcblx0XHRcdFx0XHRsaW5rOiAkc2NvcGUubGluayxcclxuXHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKClcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHBvc3RzLnNhdmUodXBkYXRlZFBvc3QpO1xyXG5cdFx0XHRcdHZhciBpbmRleCA9ICRzY29wZS5hbGxwb3N0cy5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gaXRlbS5faWQ7XHJcblx0XHRcdFx0fSkuaW5kZXhPZigkc2NvcGUuZWRpdGluZy5jdXJyZW50WzBdLl9pZCk7XHJcblx0XHRcdFx0JHNjb3BlLmFsbHBvc3RzW2luZGV4XS50aXRsZSA9IHVwZGF0ZWRQb3N0LnRpdGxlO1xyXG5cdFx0XHRcdCRzY29wZS5hbGxwb3N0c1tpbmRleF0ubGluayA9IHVwZGF0ZWRQb3N0Lmxpbms7XHJcblx0XHRcdFx0JHNjb3BlLmFsbHBvc3RzW2luZGV4XS5kYXRlID0gdXBkYXRlZFBvc3QuZGF0ZTtcclxuXHRcdFx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICcnO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0JHNjb3BlLmVkaXRpbmcgPSB7fTtcclxuXHRcdH07XHJcblxyXG5cclxuXHRcdCRzY29wZS5kZWxldGUgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJDw7MgcGjhuqNpIGLhuqFuIG114buRbiB4w7NhIGLDoGkgdmnhur90IG7DoHk/XCIpKSB7XHJcblx0XHRcdFx0cG9zdHMuZGVsZXRlKHBvc3QpO1xyXG5cdFx0XHRcdHZhciBpbmRleCA9ICRzY29wZS5hbGxwb3N0cy5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gaXRlbS5faWQ7XHJcblx0XHRcdFx0fSkuaW5kZXhPZihwb3N0Ll9pZCk7XHJcblx0XHRcdFx0JHNjb3BlLmFsbHBvc3RzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdH1cdFx0XHRcclxuXHRcdH07XHJcblx0XHRcclxuXHR9XSk7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsudXNlci5zZXJ2aWNlXCIsIFtdKVxyXG5cdC5mYWN0b3J5KCd1c2VyJywgWyckaHR0cCcsICdhdXRoJywgZnVuY3Rpb24oJGh0dHAsIGF1dGgpe1xyXG5cdFx0dmFyIHVzZXJTZXJ2aWNlID0ge1xyXG5cdFx0XHR1c2VyczogW10sXHJcblx0XHR9O1xyXG5cclxuXHRcdHVzZXJTZXJ2aWNlLmZpbmRVc2VyID0gZnVuY3Rpb24odXNyKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICcvdXNlcnMvZmluZFVzZXIvJyArIHVzclxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0dXNlclNlcnZpY2UuZ2V0QWxsVXNlciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0dXJsOiAnL3VzZXJzL2FsbCdcclxuXHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbih1c2Vycyl7XHJcblx0XHRcdFx0YW5ndWxhci5jb3B5KHVzZXJzLCB1c2VyU2VydmljZS51c2Vycyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHR1c2VyU2VydmljZS5kZWxldGVVc2VyID0gZnVuY3Rpb24odXNyKSB7XHJcblx0XHRcdHZhciBpbmRleCA9IHVzZXJTZXJ2aWNlLnVzZXJzLm1hcChmdW5jdGlvbihpdGVtKXtcclxuXHRcdFx0XHRyZXR1cm4gaXRlbS51c2VybmFtZTtcclxuXHRcdFx0fSkuaW5kZXhPZih1c3IudXNlcm5hbWUpO1xyXG5cdFx0XHR1c2VyU2VydmljZS51c2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSgnL3VzZXJzL2RlbGV0ZS8nICsgdXNyLnVzZXJuYW1lLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cclxuXHRcdHJldHVybiB1c2VyU2VydmljZTtcclxuXHR9XSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9