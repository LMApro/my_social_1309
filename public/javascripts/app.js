angular.module("myNetwork",["ui.bootstrap","ui.router","angularUtils.directives.dirPagination","myNetwork.config.stateProvider","myNetwork.config.pusherProvider","myNetwork.constants","myNetwork.filters","myNetwork.auth.service","myNetwork.auth.controller","myNetwork.post.service","myNetwork.post.viewcomments.controller","myNetwork.home.viewposts.controller","myNetwork.home.nav.controller","myNetwork.user.service","myNetwork.user.viewposts.controller","myNetwork.user.find.controller"]),angular.module("myNetwork.auth.controller",[]).controller("AuthCtrl",["$scope","$state","auth","REGEXPS",function(e,t,n,r){e.user={},e.messages={};var s=r.VALID_USER,o=r.VALID_PASSWORD;e.register=function(){e.user.username?s.test(e.user.username)?e.user.password?o.test(e.user.password)?e.user.verifyPass?e.user.password!=e.user.verifyPass?e.messages.error="Mật khẩu chưa khớp!":n.register(e.user).error(function(t){e.messages=t}).then(function(){t.go("home")}):e.messages.error="Bạn chưa nhập lại mật khẩu!":e.messages.error="Mật khẩu cần ít nhất 8 kí tự!":e.messages.error="Bạn chưa nhập mật khẩu (ít nhất 8 kí tự)!":e.messages.error="Tên người dùng từ 5 đến 20 kí tự, không chứa khoảng trắng và kí tự đặc biệt (\\ / ` \" ' # ~)!":e.messages.error="Bạn chưa nhập Tên người dùng!"},e.logIn=function(){e.user.username||e.user.password?n.logIn(e.user).error(function(t){e.messages=t}).then(function(){t.go("home")}):e.messages.error="Bạn chưa nhập tên người dùng hoặc mật khẩu!"},e.changePassword=function(){e.user.username=n.currentUser(),e.user.currentPassword&&e.user.newPassword&&e.user.verifyNewPassword?o.test(e.user.newPassword)?e.user.newPassword!=e.user.verifyNewPassword?e.messages.error="Mật khẩu chưa khớp!":n.changePassword(e.user).error(function(t){e.messages=t}).then(function(){e.messages={},e.user={},e.messages.success="Đã cập nhật mật khẩu!"}):e.messages.error="Mật khẩu cần ít nhất 8 kí tự!":e.messages.error="Bạn chưa nhập tên người dùng hoặc mật khẩu!"}}]),angular.module("myNetwork.auth.service",[]).factory("auth",["$http","$window","$state",function(e,t,n){var r={};return r.saveToken=function(e){t.localStorage["my-social-token"]=e},r.getToken=function(){return t.localStorage["my-social-token"]},r.isLoggedIn=function(){var e=r.getToken();if(e){var n=JSON.parse(t.atob(e.split(".")[1]));return n.exp>Date.now()/1e3}return!1},r.currentUser=function(){if(r.isLoggedIn()){var e=r.getToken(),n=JSON.parse(t.atob(e.split(".")[1]));return n.username}},r.isAdmin=function(){if(r.isLoggedIn()){var e=r.getToken(),n=JSON.parse(t.atob(e.split(".")[1]));return n.isAdmin}},r.register=function(t){return e.post("/users/register",t).success(function(e){r.saveToken(e.token)})},r.logIn=function(t){return e.post("/users/login",t).success(function(e){r.saveToken(e.token)})},r.logOut=function(){t.localStorage.removeItem("my-social-token"),n.go("home")},r.changePassword=function(t){return e.put("/users/changePassword",t).success(function(e){r.saveToken(e.token)})},r}]),angular.module("myNetwork.config.pusherProvider",["doowb.angular-pusher"]).config(["PusherServiceProvider",function(e){e.setToken("864c814b8f54479e5d71").setOptions({})}]),angular.module("myNetwork.config.stateProvider",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("home",{url:"/home",templateUrl:"templates/home.html",controller:"ViewPostsCtrl",resolve:{postPromise:["posts",function(e){return e.getAll()}]}}).state("posts",{url:"/posts/{id}",templateUrl:"templates/posts.html",controller:"ViewCommentsCtrl",resolve:{post:["$stateParams","posts",function(e,t){return t.get(e.id)}]}}).state("login",{url:"/login",templateUrl:"templates/login.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()&&e.go("home")}]}).state("register",{url:"/register",templateUrl:"templates/register.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()&&e.go("home")}]}).state("user",{url:"/users/{username}",templateUrl:"templates/user.html",controller:"ViewUserPostsCtrl",onEnter:["$state","$stateParams",function(e,t){t.username||e.go("home")}],resolve:{userPosts:["posts","$stateParams",function(e,t){return e.getPostsByUser(t.username)}]}}).state("findUser",{url:"/findUser",templateUrl:"templates/findUser.html",controller:"FindUserCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()||e.go("home")}]}).state("listUser",{url:"/listUser",templateUrl:"templates/listUser.html",controller:"FindUserCtrl",resolve:{userPromise:["user",function(e){return e.getAllUser()}]},onEnter:["$state","auth",function(e,t){(!t.isLoggedIn()||t.isLoggedIn()&&!t.isAdmin())&&e.go("home")}]}).state("changePassword",{url:"/changePassword",templateUrl:"templates/changePassword.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()||e.go("home")}]}),t.otherwise("home")}]),angular.module("myNetwork.constants",[]).constant("REGEXPS",{VALID_LINK_REQUIRED_PROTOCOL:/^((https|http|ftp)\:\/\/)([w|W]{3}\.)?[a-zA-Z0-9\-\.]{3,}\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?((\/[a-zA-Z0-9]*)+(\.[a-zA-Z0-9]{2,4}))?/,VALID_LINK_NOT_REQUIRED_PROTOCOL:/^((https|http|ftp)\:\/\/)?([w|W]{3}\.)?[a-zA-Z0-9\-\.]{3,}\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?((\/[a-zA-Z0-9]*)+(\.[a-zA-Z0-9]{2,4}))?/,VALID_USER:/^[a-zA-Z0-9_\.]{5,20}$/,VALID_PASSWORD:/^.{8,}$/,VALID_EMAIL:/^[a-zA-Z]+[\.0-9_]+@[a-z0-9]+\.[a-z]{2,4}$/}),angular.module("myNetwork.filters",[]).filter("link",["REGEXPS",function(e){return function(t){var n=e.VALID_LINK_REQUIRED_PROTOCOL;return n.test(t)?t:"https://"+t}}]),angular.module("myNetwork.home.viewposts.controller",[]).controller("ViewPostsCtrl",["$scope","$window","posts","auth","REGEXPS","Pusher",function(e,t,n,r,s,o){e.isLoggedIn=r.isLoggedIn,e.currentUser=r.currentUser,e.logOut=r.logOut,e.isAdmin=r.isAdmin,e.allposts=n.posts,e.sortOrder="-date",e.sortOptions=[{name:"Mới nhất",order:"-date"},{name:"Nhiều like nhất",order:"-usersLiked.length"},{name:"Nhiều bình luận nhất",order:"-comments.length"}],e.postsPerPage=10,e.currentPage=1,e.error="",e.editing={},e.currentLike=!1;var i=s.VALID_LINK_NOT_REQUIRED_PROTOCOL;e.setOrder=function(t){e.sortOrder=t},e.addPost=function(){e.newtitle?e.newlink&&!i.test(e.newlink)?e.error="Link không hợp lệ!":(n.create({title:e.newtitle,link:e.newlink,date:new Date}),e.newtitle="",e.newlink="",e.error=""):e.error="Bạn chưa nhập nội dung!"},e.moveToTop=function(){t.scrollTo(0,0)},e.like_unlike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersLiked.indexOf(t))n.like(e),e.usersLiked.push(t),e.points+=2;else{n.unlike(e);var s=e.usersLiked.indexOf(t);e.usersLiked.splice(s,1),e.points-=2}}},e.dislike_undislike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersDisliked.indexOf(t))n.dislike(e),e.usersDisliked.push(t),e.points--;else{n.undislike(e);var s=e.usersDisliked.indexOf(t);e.usersDisliked.splice(s,1),e.points++}}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Đăng nhập để thích bài viết!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Đăng nhập để không thích bài viết!"},e.edit=function(t){e.editing.current=[t,!0],e.title=e.editing.current[0].title,e.link=e.editing.current[0].link,e.moveToTop()},e.save=function(){if(e.title||e.link)if(e.title)if(e.link&&!i.test(e.link))e.error="Link không hợp lệ!";else{var r={_id:e.editing.current[0]._id,title:e.title,link:e.link,date:new Date};n.save(r),e.editing={},e.error=""}else e.error="Bạn chưa nhập nội dung!";else t.confirm("Có phải bạn muốn xóa bài viết này?")&&(n["delete"](e.editing.current[0]),e.editing={},e.error="")},e.reset=function(){e.editing={}},e["delete"]=function(e){t.confirm("Bạn có chắc chắn muốn xóa không?")&&n["delete"](e)}}]),angular.module("myNetwork.home.nav.controller",[]).controller("NavCtrl",["$scope","auth",function(e,t){e.isLoggedIn=t.isLoggedIn,e.currentUser=t.currentUser,e.logOut=t.logOut}]),angular.module("myNetwork.post.viewcomments.controller",[]).controller("ViewCommentsCtrl",["$scope","posts","post","auth","$window","Pusher",function(e,t,n,r,s,o){e.post=n,e.error="",e.button={name:"Comment"},e.currentComment={},e.currentUser=r.currentUser,e.currentPage=1,e.isLoggedIn=r.isLoggedIn,e.isAdmin=r.isAdmin,o.subscribe("comments","addComment",function(t){e.post.comments.splice(0,0,t)}),o.subscribe("comments","deleteComment",function(t){var n=e.post.comments.map(function(e){return e._id}).indexOf(t.comment);e.post.comments.splice(n,1)}),e.addComment=function(){e.body?(t.addComment(n._id,{body:e.body,date:new Date}),e.error=null):e.error="Bạn chưa nhập nội dung bình luận!",e.body=""},e.like_unlikeComment=function(e,n){var s=r.currentUser();if(-1===n.usersLiked.indexOf(s))t.likeComment(e,n),n.usersLiked.push(s);else{t.unlikeComment(e,n);var o=n.usersLiked.indexOf(s);n.usersLiked.splice(o,1)}},e.dislike_undislikeComment=function(e,n){var s=r.currentUser();if(-1===n.usersDisliked.indexOf(s))t.dislikeComment(e,n),n.usersDisliked.push(s);else{t.undislikeComment(e,n);var o=n.usersDisliked.indexOf(s);n.usersDisliked.splice(o,1)}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Đăng nhập để thích bình luận!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Đăng nhập để không thích bình luận!"},e.deleteComment=function(e,n){s.confirm("Bạn có chắc chắn muốn xóa không?")&&t.deleteComment(e,n)},e.editComment=function(t,n){e.button.name="Save",e.body=n.body,e.currentComment=n;var r=angular.element(document.body.scrollHeight).toString(),o=parseInt(r.substr(1,r.length-2));s.scrollTo(0,o),document.querySelector("#commentInput").select()},e.save=function(n,r){e.body?t.saveComment(n,{_id:e.currentComment._id,body:e.body,date:new Date}):s.confirm("Bạn có chắc chắn muốn xóa không?")&&t.deleteComment(n,e.currentComment),e.button.name="Comment",e.body=""},e.reset=function(){e.body="",e.button.name="Comment"},e.moveToTop=function(){s.scrollTo(0,0)}}]),angular.module("myNetwork.post.service",[]).factory("posts",["$http","auth","Pusher",function(e,t,n){var r={posts:[]};return n.subscribe("posts","addPost",function(e){r.posts.splice(0,0,e)}),n.subscribe("posts","deletePost",function(e){var t=r.getAllPostIds().indexOf(e.post);r.posts.splice(t,1)}),r.getAll=function(){return e.get("/posts").success(function(e){angular.copy(e,r.posts)})},r.getPostsByUser=function(t){return e.get("/posts/user/"+t).then(function(e){return e.data})},r.getAllPostIds=function(){return r.posts.map(function(e){return e._id})},r.create=function(n){return e.post("/posts",n,{headers:{Authorization:"Bearer "+t.getToken()}})},r.get=function(t){return e.get("/posts/"+t).then(function(e){return e.data})},r.addComment=function(n,r){return e.post("/posts/"+n+"/comments",r,{headers:{Authorization:"Bearer "+t.getToken()}})},r.like=function(n){return e.put("/posts/"+n._id+"/like",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.unlike=function(n){return e.put("/posts/"+n._id+"/unlike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.dislike=function(n){return e.put("/posts/"+n._id+"/dislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.undislike=function(n){return e.put("/posts/"+n._id+"/undislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.save=function(n){return e.put("/posts/"+n._id+"/save",n,{headers:{Authorization:"Bearer "+t.getToken()}}).success(function(e){var t=r.getAllPostIds().indexOf(e._id);r.posts[t]=e})},r.saveComment=function(n,s){return e.put("/posts/"+n._id+"/comments/"+s._id+"/save",s,{headers:{Authorization:"Bearer "+t.getToken()}}).success(function(e){var t=(r.getAllPostIds().indexOf(n._id),n.comments.map(function(e){return e._id}).indexOf(e._id));n.comments[t]=e})},r["delete"]=function(n){return e["delete"]("/posts/"+n._id,null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.deleteComment=function(n,r){return e["delete"]("/posts/"+n._id+"/comments/"+r._id,null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.likeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/like",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.unlikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/unlike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.dislikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/dislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r.undislikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/undislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},r}]),angular.module("myNetwork.user.find.controller",[]).controller("FindUserCtrl",["$scope","user","$state","$window",function(e,t,n,r){e.users=t.users,e.messages={},e.findUser=function(e){return t.findUser(e).then(function(e){return e.data.map(function(e){return e.username})})},e["goto"]=function(t){t?n.go("user",{username:t}):e.messages.error="Bạn chưa nhập tên người dùng cần tìm!"},e.deleteUser=function(e){r.confirm("Bạn có chắc chắn muốn xóa người dùng này ra khỏi hệ thống?")&&t.deleteUser(e)}}]),angular.module("myNetwork.user.viewposts.controller",[]).controller("ViewUserPostsCtrl",["$scope","$stateParams","$state","auth","posts","userPosts","$window","REGEXPS",function(e,t,n,r,s,o,i,u){e.isLoggedIn=r.isLoggedIn,e.currentUser=r.currentUser,e.logOut=r.logOut,e.allposts=o,e.username=t.username,e.currentPage=1,e.postsPerPage=10,e.editing={};var l=u.VALID_LINK_NOT_REQUIRED_PROTOCOL;e.like_unlike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersLiked.indexOf(t))s.like(e),e.usersLiked.push(t),e.points+=2;else{s.unlike(e);var n=e.usersLiked.indexOf(t);e.usersLiked.splice(n,1),e.points-=2}}},e.dislike_undislike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersDisliked.indexOf(t))s.dislike(e),e.usersDisliked.push(t),e.points--;else{s.undislike(e);var n=e.usersDisliked.indexOf(t);e.usersDisliked.splice(n,1),e.points++}}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Bạn cần đăng nhập!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Bạn cần đăng nhập!"},e.edit=function(t){e.editing.current=[t,!0],e.title=e.editing.current[0].title,e.link=e.editing.current[0].link,i.scrollTo(0,0)},e.save=function(){if(e.title||e.link)if(e.title)if(e.link&&!l.test(e.link))e.error="Link không hợp lệ!";else{var t={_id:e.editing.current[0]._id,title:e.title,link:e.link,date:new Date};s.save(t);var n=e.allposts.map(function(e){return e._id}).indexOf(e.editing.current[0]._id);e.allposts[n].title=t.title,e.allposts[n].link=t.link,e.allposts[n].date=t.date,e.editing={},e.error=""}else e.error="Bạn chưa nhập nội dung!";else i.confirm("Bạn có chắc chắn muốn xóa không?")&&(s["delete"](e.editing.current[0]),e.editing={},e.error="")},e.reset=function(){e.editing={}},e["delete"]=function(t){if(i.confirm("Có phải bạn muốn xóa bài viết này?")){s["delete"](t);var n=e.allposts.map(function(e){return e._id}).indexOf(t._id);e.allposts.splice(n,1)}}}]),angular.module("myNetwork.user.service",[]).factory("user",["$http","auth",function(e,t){var n={users:[]};return n.findUser=function(t){return e({method:"GET",url:"/users/findUser/"+t})},n.getAllUser=function(){return e({method:"GET",url:"/users/all"}).success(function(e){angular.copy(e,n.users)})},n.deleteUser=function(r){var s=n.users.map(function(e){return e.username}).indexOf(r.username);return n.users.splice(s,1),e["delete"]("/users/delete/"+r.username,null,{headers:{Authorization:"Bearer "+t.getToken()}})},n}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXJBcHAuanMiLCJhdXRoQ29udHJvbGxlci5qcyIsImF1dGhTZXJ2aWNlLmpzIiwicHVzaGVyUHJvdmlkZXIuanMiLCJzdGF0ZVByb3ZpZGVyLmpzIiwiY29uc3RhbnRzLmpzIiwiZmlsdGVycy5qcyIsIm1haW5Db250cm9sbGVyLmpzIiwibmF2Q29udHJvbGxlci5qcyIsInBvc3RDb250cm9sbGVyLmpzIiwicG9zdFNlcnZpY2UuanMiLCJmaW5kVXNlckNvbnRyb2xsZXIuanMiLCJ1c2VyQ29udHJvbGxlci5qcyIsInVzZXJTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJHN0YXRlIiwiYXV0aCIsInJlZ2V4IiwidXNlciIsIm1lc3NhZ2VzIiwiVVNFUl9SRUdFWCIsIlZBTElEX1VTRVIiLCJQQVNTX1JFR0VYIiwiVkFMSURfUEFTU1dPUkQiLCJyZWdpc3RlciIsInVzZXJuYW1lIiwidGVzdCIsInBhc3N3b3JkIiwidmVyaWZ5UGFzcyIsImVycm9yIiwiZXJyIiwidGhlbiIsImdvIiwibG9nSW4iLCJjaGFuZ2VQYXNzd29yZCIsImN1cnJlbnRVc2VyIiwiY3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJ2ZXJpZnlOZXdQYXNzd29yZCIsInN1Y2Nlc3MiLCJmYWN0b3J5IiwiJGh0dHAiLCIkd2luZG93IiwiYXV0aFNlcnZpY2UiLCJzYXZlVG9rZW4iLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldFRva2VuIiwiaXNMb2dnZWRJbiIsInBheWxvYWQiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwic3BsaXQiLCJleHAiLCJEYXRlIiwibm93IiwiaXNBZG1pbiIsInBvc3QiLCJkYXRhIiwibG9nT3V0IiwicmVtb3ZlSXRlbSIsInB1dCIsImNvbmZpZyIsIlB1c2hlclNlcnZpY2VQcm92aWRlciIsInNldFRva2VuIiwic2V0T3B0aW9ucyIsIiRzdGF0ZVByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwic3RhdGUiLCJ1cmwiLCJ0ZW1wbGF0ZVVybCIsInJlc29sdmUiLCJwb3N0UHJvbWlzZSIsInBvc3RzIiwiZ2V0QWxsIiwiJHN0YXRlUGFyYW1zIiwiZ2V0IiwiaWQiLCJvbkVudGVyIiwidXNlclBvc3RzIiwiZ2V0UG9zdHNCeVVzZXIiLCJ1c2VyUHJvbWlzZSIsImdldEFsbFVzZXIiLCJvdGhlcndpc2UiLCJjb25zdGFudCIsIlZBTElEX0xJTktfUkVRVUlSRURfUFJPVE9DT0wiLCJWQUxJRF9MSU5LX05PVF9SRVFVSVJFRF9QUk9UT0NPTCIsIlZBTElEX0VNQUlMIiwiZmlsdGVyIiwibGluayIsIlZBTElEX0xJTksiLCJQdXNoZXIiLCJhbGxwb3N0cyIsInNvcnRPcmRlciIsInNvcnRPcHRpb25zIiwibmFtZSIsIm9yZGVyIiwicG9zdHNQZXJQYWdlIiwiY3VycmVudFBhZ2UiLCJlZGl0aW5nIiwiY3VycmVudExpa2UiLCJzZXRPcmRlciIsImFkZFBvc3QiLCJuZXd0aXRsZSIsIm5ld2xpbmsiLCJjcmVhdGUiLCJ0aXRsZSIsImRhdGUiLCJtb3ZlVG9Ub3AiLCJzY3JvbGxUbyIsImxpa2VfdW5saWtlIiwidXNlcnNMaWtlZCIsImluZGV4T2YiLCJsaWtlIiwicHVzaCIsInBvaW50cyIsInVubGlrZSIsImluZGV4Iiwic3BsaWNlIiwiZGlzbGlrZV91bmRpc2xpa2UiLCJ1c2Vyc0Rpc2xpa2VkIiwiZGlzbGlrZSIsInVuZGlzbGlrZSIsImxpa2VUb29sdGlwVGV4dCIsImRpc2xpa2VUb29sdGlwVGV4dCIsImVkaXQiLCJjdXJyZW50Iiwic2F2ZSIsInVwZGF0ZWRQb3N0IiwiX2lkIiwiY29uZmlybSIsInJlc2V0IiwiYnV0dG9uIiwiY3VycmVudENvbW1lbnQiLCJzdWJzY3JpYmUiLCJjb21tZW50IiwiY29tbWVudHMiLCJtYXAiLCJpdGVtIiwiYWRkQ29tbWVudCIsImJvZHkiLCJsaWtlX3VubGlrZUNvbW1lbnQiLCJsaWtlQ29tbWVudCIsInVubGlrZUNvbW1lbnQiLCJkaXNsaWtlX3VuZGlzbGlrZUNvbW1lbnQiLCJkaXNsaWtlQ29tbWVudCIsInVuZGlzbGlrZUNvbW1lbnQiLCJkZWxldGVDb21tZW50IiwiZWRpdENvbW1lbnQiLCJoZWlnaHRTdHIiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJzY3JvbGxIZWlnaHQiLCJ0b1N0cmluZyIsImhlaWdodCIsInBhcnNlSW50Iiwic3Vic3RyIiwibGVuZ3RoIiwicXVlcnlTZWxlY3RvciIsInNlbGVjdCIsInNhdmVDb21tZW50IiwicG9zdFNlcnZpY2UiLCJnZXRBbGxQb3N0SWRzIiwiY29weSIsInJlc3BvbnNlIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJyZXMiLCJwb3N0SW5kZXgiLCJjb21tZW50SW5kZXgiLCJ1c2VycyIsImZpbmRVc2VyIiwidXNyIiwiZGVsZXRlVXNlciIsInVzZXJTZXJ2aWNlIiwibWV0aG9kIl0sIm1hcHBpbmdzIjoiQUFBQUEsUUFBQUMsT0FBQSxhQUNBLGVBQ0EsWUFDQSx3Q0FDQSxpQ0FDQSxrQ0FDQSxzQkFDQSxvQkFDQSx5QkFDQSw0QkFDQSx5QkFDQSx5Q0FDQSxzQ0FDQSxnQ0FDQSx5QkFDQSxzQ0FDQSxtQ0NoQkFELFFBQUFDLE9BQUEsZ0NBQ0FDLFdBQUEsWUFBQSxTQUFBLFNBQUEsT0FBQSxVQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FILEVBQUFJLFFBQ0FKLEVBQUFLLFdBQ0EsSUFBQUMsR0FBQUgsRUFBQUksV0FDQUMsRUFBQUwsRUFBQU0sY0FFQVQsR0FBQVUsU0FBQSxXQUNBVixFQUFBSSxLQUFBTyxTQUdBTCxFQUFBTSxLQUFBWixFQUFBSSxLQUFBTyxVQUdBWCxFQUFBSSxLQUFBUyxTQUdBTCxFQUFBSSxLQUFBWixFQUFBSSxLQUFBUyxVQUdBYixFQUFBSSxLQUFBVSxXQUdBZCxFQUFBSSxLQUFBUyxVQUFBYixFQUFBSSxLQUFBVSxXQUNBZCxFQUFBSyxTQUFBVSxNQUFBLHNCQUdBYixFQUNBUSxTQUFBVixFQUFBSSxNQUNBVyxNQUFBLFNBQUFDLEdB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RixZQUlBdEYsRUFBQUEsVUFBQSxTQUFBNEMsR0FDQSxHQUFBaEIsRUFBQXlGLFFBQUEsc0NBQUEsQ0FDQXpELEVBQUFBLFVBQUFoQixFQUNBLElBQUE0RCxHQUFBeEcsRUFBQStFLFNBQUE2QyxJQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQVQsTUFDQWpCLFFBQUF2RCxFQUFBd0UsSUFDQXBILEdBQUErRSxTQUFBMEIsT0FBQUQsRUFBQSxRQ3pIQTNHLFFBQUFDLE9BQUEsNkJBQ0E0QixRQUFBLFFBQUEsUUFBQSxPQUFBLFNBQUFDLEVBQUF6QixHQUNBLEdBQUErSixJQUNBSixTQStCQSxPQTVCQUksR0FBQUgsU0FBQSxTQUFBQyxHQUNBLE1BQUFwSSxJQUNBdUksT0FBQSxNQUNBMUcsSUFBQSxtQkFBQXVHLEtBSUFFLEVBQUE1RixXQUFBLFdBQ0EsTUFBQTFDLElBQ0F1SSxPQUFBLE1BQ0ExRyxJQUFBLGVBQ0EvQixRQUFBLFNBQUFvSSxHQUNBaEssUUFBQXlKLEtBQUFPLEVBQUFJLEVBQUFKLFVBSUFJLEVBQUFELFdBQUEsU0FBQUQsR0FDQSxHQUFBdkQsR0FBQXlELEVBQUFKLE1BQUFqQyxJQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQWxILFdBQ0F3RixRQUFBNEQsRUFBQXBKLFNBR0EsT0FGQXNKLEdBQUFKLE1BQUFwRCxPQUFBRCxFQUFBLEdBRUE3RSxFQUFBQSxVQUFBLGlCQUFBb0ksRUFBQXBKLFNBQUEsTUFDQTZJLFNBQUFDLGNBQUEsVUFBQXZKLEVBQUErQixlQUtBZ0kiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmtcIiwgW1xyXG5cdCd1aS5ib290c3RyYXAnLFxyXG5cdCd1aS5yb3V0ZXInLFxyXG5cdFwiYW5ndWxhclV0aWxzLmRpcmVjdGl2ZXMuZGlyUGFnaW5hdGlvblwiLFxyXG5cdFwibXlOZXR3b3JrLmNvbmZpZy5zdGF0ZVByb3ZpZGVyXCIsXHJcblx0XCJteU5ldHdvcmsuY29uZmlnLnB1c2hlclByb3ZpZGVyXCIsXHJcblx0XCJteU5ldHdvcmsuY29uc3RhbnRzXCIsXHJcblx0XCJteU5ldHdvcmsuZmlsdGVyc1wiLFxyXG5cdFwibXlOZXR3b3JrLmF1dGguc2VydmljZVwiLFxyXG5cdFwibXlOZXR3b3JrLmF1dGguY29udHJvbGxlclwiLFxyXG5cdFwibXlOZXR3b3JrLnBvc3Quc2VydmljZVwiLFxyXG5cdFwibXlOZXR3b3JrLnBvc3Qudmlld2NvbW1lbnRzLmNvbnRyb2xsZXJcIixcclxuXHRcIm15TmV0d29yay5ob21lLnZpZXdwb3N0cy5jb250cm9sbGVyXCIsXHJcblx0XCJteU5ldHdvcmsuaG9tZS5uYXYuY29udHJvbGxlclwiLFxyXG5cdFwibXlOZXR3b3JrLnVzZXIuc2VydmljZVwiLFxyXG5cdFwibXlOZXR3b3JrLnVzZXIudmlld3Bvc3RzLmNvbnRyb2xsZXJcIixcclxuXHRcIm15TmV0d29yay51c2VyLmZpbmQuY29udHJvbGxlclwiXHJcblx0XSk7XHJcblx0XHJcblx0XHJcblxyXG5cdFxyXG5cclxuXHRcclxuXHJcblx0XHJcblxyXG5cdFxyXG5cclxuXHQiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5hdXRoLmNvbnRyb2xsZXJcIiwgW10pXHJcblx0LmNvbnRyb2xsZXIoJ0F1dGhDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJ2F1dGgnLCAnUkVHRVhQUycsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlLCBhdXRoLCByZWdleCl7XHJcblx0XHQkc2NvcGUudXNlciA9IHt9O1xyXG5cdFx0JHNjb3BlLm1lc3NhZ2VzID0ge307XHJcbiAgICAgIHZhciBVU0VSX1JFR0VYID0gcmVnZXguVkFMSURfVVNFUjtcclxuICAgICAgdmFyIFBBU1NfUkVHRVggPSByZWdleC5WQUxJRF9QQVNTV09SRDtcclxuXHJcblx0XHQkc2NvcGUucmVnaXN0ZXIgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICBpZiAoISRzY29wZS51c2VyLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgIFx0JHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gXCJC4bqhbiBjaMawYSBuaOG6rXAgVMOqbiBuZ8aw4budaSBkw7luZyFcIjtcclxuICAgICAgICAgfSBcclxuICAgICAgICAgZWxzZSBpZiAoIVVTRVJfUkVHRVgudGVzdCgkc2NvcGUudXNlci51c2VybmFtZSkpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gXCJUw6puIG5nxrDhu51pIGTDuW5nIHThu6sgNSDEkeG6v24gMjAga8OtIHThu7EsIGtow7RuZyBjaOG7qWEga2hv4bqjbmcgdHLhuq9uZyB2w6Aga8OtIHThu7EgxJHhurdjIGJp4buHdCAoXFxcXCAvIGAgXFxcIiAnICMgfikhXCI7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2UgaWYgKCEkc2NvcGUudXNlci5wYXNzd29yZCkge1xyXG4gICAgICAgICBcdCRzY29wZS5tZXNzYWdlcy5lcnJvciA9IFwiQuG6oW4gY2jGsGEgbmjhuq1wIG3huq10IGto4bqpdSAow610IG5o4bqldCA4IGvDrSB04buxKSFcIjtcclxuICAgICAgICAgfSBcclxuICAgICAgICAgZWxzZSBpZiAoIVBBU1NfUkVHRVgudGVzdCgkc2NvcGUudXNlci5wYXNzd29yZCkpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gXCJN4bqtdCBraOG6qXUgY+G6p24gw610IG5o4bqldCA4IGvDrSB04buxIVwiO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIGlmICghJHNjb3BlLnVzZXIudmVyaWZ5UGFzcykge1xyXG4gICAgICAgICBcdCRzY29wZS5tZXNzYWdlcy5lcnJvciA9IFwiQuG6oW4gY2jGsGEgbmjhuq1wIGzhuqFpIG3huq10IGto4bqpdSFcIjtcclxuICAgICAgICAgfSBcclxuICAgICAgICAgZWxzZSBpZiAoJHNjb3BlLnVzZXIucGFzc3dvcmQgIT0gJHNjb3BlLnVzZXIudmVyaWZ5UGFzcykge1xyXG4gICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSBcIk3huq10IGto4bqpdSBjaMawYSBraOG7m3AhXCI7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhdXRoXHJcbiAgICAgICAgIFx0XHQucmVnaXN0ZXIoJHNjb3BlLnVzZXIpXHJcbiAgICAgICAgIFx0XHQuZXJyb3IoZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgXHRcdFx0JHNjb3BlLm1lc3NhZ2VzID0gZXJyO1xyXG4gICAgICAgICBcdFx0fSlcclxuICAgICAgICAgXHRcdC50aGVuKGZ1bmN0aW9uKCl7XHJcblx0ICAgICAgICAgXHRcdCRzdGF0ZS5nbyhcImhvbWVcIik7XHJcblx0ICAgICAgICAgXHR9KTtcclxuICAgICAgICAgfVxyXG5cclxuXHRcdH07XHJcblx0XHRcclxuXHRcdCRzY29wZS5sb2dJbiA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdGlmICghJHNjb3BlLnVzZXIudXNlcm5hbWUgJiYgISRzY29wZS51c2VyLnBhc3N3b3JkKSB7XHJcblx0XHRcdFx0JHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gXCJC4bqhbiBjaMawYSBuaOG6rXAgdMOqbiBuZ8aw4budaSBkw7luZyBob+G6t2MgbeG6rXQga2jhuql1IVwiO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGF1dGhcclxuXHRcdFx0XHRcdC5sb2dJbigkc2NvcGUudXNlcilcclxuXHRcdFx0XHRcdC5lcnJvcihmdW5jdGlvbihlcnIpe1xyXG5cdFx0XHRcdFx0XHQkc2NvcGUubWVzc2FnZXMgPSBlcnI7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0LnRoZW4oZnVuY3Rpb24oKXtcclxuXHRcdFx0XHRcdFx0JHN0YXRlLmdvKCdob21lJyk7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcbiAgICAgICRzY29wZS5jaGFuZ2VQYXNzd29yZCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICRzY29wZS51c2VyLnVzZXJuYW1lID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG4gICAgICAgICBpZiAoISRzY29wZS51c2VyLmN1cnJlbnRQYXNzd29yZCB8fCAhJHNjb3BlLnVzZXIubmV3UGFzc3dvcmQgfHwgISRzY29wZS51c2VyLnZlcmlmeU5ld1Bhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5lcnJvciA9ICdC4bqhbiBjaMawYSBuaOG6rXAgdMOqbiBuZ8aw4budaSBkw7luZyBob+G6t2MgbeG6rXQga2jhuql1ISc7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgZWxzZSBpZiAoIVBBU1NfUkVHRVgudGVzdCgkc2NvcGUudXNlci5uZXdQYXNzd29yZCkpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gJ03huq10IGto4bqpdSBj4bqnbiDDrXQgbmjhuqV0IDgga8OtIHThu7EhJztcclxuICAgICAgICAgfSBcclxuICAgICAgICAgZWxzZSBpZiAoJHNjb3BlLnVzZXIubmV3UGFzc3dvcmQgIT0gJHNjb3BlLnVzZXIudmVyaWZ5TmV3UGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gJ03huq10IGto4bqpdSBjaMawYSBraOG7m3AhJztcclxuICAgICAgICAgfSBcclxuICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGF1dGhcclxuICAgICAgICAgICAgICAgLmNoYW5nZVBhc3N3b3JkKCRzY29wZS51c2VyKVxyXG4gICAgICAgICAgICAgICAuZXJyb3IoZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzID0gZXJyO1xyXG4gICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzLnN1Y2Nlc3MgPSBcIsSQw6MgY+G6rXAgbmjhuq10IG3huq10IGto4bqpdSFcIjtcclxuICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgXHJcbiAgICAgIH07XHJcblx0fV0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLmF1dGguc2VydmljZVwiLCBbXSlcclxuXHQuZmFjdG9yeSgnYXV0aCcsIFsnJGh0dHAnLCAnJHdpbmRvdycsICckc3RhdGUnLCBmdW5jdGlvbigkaHR0cCwgJHdpbmRvdywgJHN0YXRlKXtcclxuXHRcdHZhciBhdXRoU2VydmljZSA9IHt9O1xyXG5cdFx0XHJcblx0XHRhdXRoU2VydmljZS5zYXZlVG9rZW4gPSBmdW5jdGlvbih0b2tlbil7XHJcblx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlWydteS1zb2NpYWwtdG9rZW4nXSA9IHRva2VuO1xyXG5cdFx0fTtcclxuXHJcblx0XHRhdXRoU2VydmljZS5nZXRUb2tlbiA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHJldHVybiAkd2luZG93LmxvY2FsU3RvcmFnZVsnbXktc29jaWFsLXRva2VuJ107XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRhdXRoU2VydmljZS5pc0xvZ2dlZEluID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0dmFyIHRva2VuID0gYXV0aFNlcnZpY2UuZ2V0VG9rZW4oKTtcclxuXHJcblx0XHRcdGlmICh0b2tlbikge1xyXG5cdFx0XHRcdHZhciBwYXlsb2FkID0gSlNPTi5wYXJzZSgkd2luZG93LmF0b2IodG9rZW4uc3BsaXQoJy4nKVsxXSkpO1xyXG5cdFx0XHRcdHJldHVybiAocGF5bG9hZC5leHAgPiBEYXRlLm5vdygpLzEwMDApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRhdXRoU2VydmljZS5jdXJyZW50VXNlciA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdGlmIChhdXRoU2VydmljZS5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHR2YXIgdG9rZW4gPSBhdXRoU2VydmljZS5nZXRUb2tlbigpO1xyXG5cdFx0XHRcdHZhciBwYXlsb2FkID0gSlNPTi5wYXJzZSgkd2luZG93LmF0b2IodG9rZW4uc3BsaXQoJy4nKVsxXSkpO1xyXG5cdFx0XHRcdHJldHVybiBwYXlsb2FkLnVzZXJuYW1lO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGF1dGhTZXJ2aWNlLmlzQWRtaW4gPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZiAoYXV0aFNlcnZpY2UuaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHRva2VuID0gYXV0aFNlcnZpY2UuZ2V0VG9rZW4oKTtcclxuXHRcdFx0XHR2YXIgcGF5bG9hZCA9IEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKHRva2VuLnNwbGl0KCcuJylbMV0pKTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRyZXR1cm4gcGF5bG9hZC5pc0FkbWluO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdGF1dGhTZXJ2aWNlLnJlZ2lzdGVyID0gZnVuY3Rpb24odXNlcikge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL3VzZXJzL3JlZ2lzdGVyJywgdXNlcikuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0XHRhdXRoU2VydmljZS5zYXZlVG9rZW4oZGF0YS50b2tlbik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0YXV0aFNlcnZpY2UubG9nSW4gPSBmdW5jdGlvbih1c2VyKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvdXNlcnMvbG9naW4nLCB1c2VyKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdGF1dGhTZXJ2aWNlLnNhdmVUb2tlbihkYXRhLnRva2VuKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGF1dGhTZXJ2aWNlLmxvZ091dCA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdCR3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ215LXNvY2lhbC10b2tlbicpO1xyXG5cdFx0XHQkc3RhdGUuZ28oJ2hvbWUnKTtcclxuXHRcdH07XHJcblxyXG5cdFx0YXV0aFNlcnZpY2UuY2hhbmdlUGFzc3dvcmQgPSBmdW5jdGlvbih1c2VyKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy91c2Vycy9jaGFuZ2VQYXNzd29yZCcsIHVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdFx0YXV0aFNlcnZpY2Uuc2F2ZVRva2VuKGRhdGEudG9rZW4pO1xyXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKGRhdGEudG9rZW4pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGF1dGhTZXJ2aWNlO1xyXG5cdH1dKTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5jb25maWcucHVzaGVyUHJvdmlkZXJcIiwgWydkb293Yi5hbmd1bGFyLXB1c2hlciddKVxyXG5cdC5jb25maWcoWydQdXNoZXJTZXJ2aWNlUHJvdmlkZXInLCBmdW5jdGlvbihQdXNoZXJTZXJ2aWNlUHJvdmlkZXIpIHtcclxuXHRcdFB1c2hlclNlcnZpY2VQcm92aWRlclxyXG5cdFx0XHQuc2V0VG9rZW4oJzg2NGM4MTRiOGY1NDQ3OWU1ZDcxJylcclxuXHRcdFx0LnNldE9wdGlvbnMoe30pO1xyXG5cdH1dKTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5jb25maWcuc3RhdGVQcm92aWRlclwiLCBbJ3VpLnJvdXRlciddKVxyXG5cdC5jb25maWcoW1wiJHN0YXRlUHJvdmlkZXJcIiwgXCIkdXJsUm91dGVyUHJvdmlkZXJcIiwgZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcil7XHJcblx0XHQkc3RhdGVQcm92aWRlclxyXG5cdFx0XHQuc3RhdGUoJ2hvbWUnLCB7XHJcblx0XHRcdFx0dXJsOiBcIi9ob21lXCIsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6IFwidGVtcGxhdGVzL2hvbWUuaHRtbFwiLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6IFwiVmlld1Bvc3RzQ3RybFwiLFxyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdHBvc3RQcm9taXNlOiBbJ3Bvc3RzJywgZnVuY3Rpb24ocG9zdHMpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gcG9zdHMuZ2V0QWxsKCk7XHJcblx0XHRcdFx0XHR9XVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdFxyXG5cdFx0XHQuc3RhdGUoJ3Bvc3RzJywge1xyXG5cdFx0XHRcdHVybDogXCIvcG9zdHMve2lkfVwiLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9wb3N0cy5odG1sXCIsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogXCJWaWV3Q29tbWVudHNDdHJsXCIsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0cG9zdDogWyckc3RhdGVQYXJhbXMnLCAncG9zdHMnLCBmdW5jdGlvbigkc3RhdGVQYXJhbXMsIHBvc3RzKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHBvc3RzLmdldCgkc3RhdGVQYXJhbXMuaWQpO1xyXG5cdFx0XHRcdFx0fV1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHQuc3RhdGUoJ2xvZ2luJywge1xyXG5cdFx0XHRcdHVybDogXCIvbG9naW5cIixcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9sb2dpbi5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnQXV0aEN0cmwnLFxyXG5cdFx0XHRcdG9uRW50ZXI6IFsnJHN0YXRlJywgJ2F1dGgnLCBmdW5jdGlvbigkc3RhdGUsIGF1dGgpe1xyXG5cdFx0XHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnaG9tZScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1dXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHQuc3RhdGUoJ3JlZ2lzdGVyJywge1xyXG5cdFx0XHRcdHVybDogJy9yZWdpc3RlcicsIFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3JlZ2lzdGVyLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdBdXRoQ3RybCcsXHJcblx0XHRcdFx0b25FbnRlcjogWyckc3RhdGUnLCAnYXV0aCcsIGZ1bmN0aW9uKCRzdGF0ZSwgYXV0aCl7XHJcblx0XHRcdFx0XHRpZiAoYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHRcdFx0JHN0YXRlLmdvKCdob21lJyk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fV1cclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdC5zdGF0ZSgndXNlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvdXNlcnMve3VzZXJuYW1lfScsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvdXNlci5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnVmlld1VzZXJQb3N0c0N0cmwnLFxyXG5cdFx0XHRcdG9uRW50ZXI6IFtcIiRzdGF0ZVwiLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24oJHN0YXRlLCAkc3RhdGVQYXJhbXMpe1xyXG5cdFx0XHRcdFx0aWYgKCEkc3RhdGVQYXJhbXMudXNlcm5hbWUpIHtcclxuXHRcdFx0XHRcdFx0JHN0YXRlLmdvKFwiaG9tZVwiKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XSxcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHR1c2VyUG9zdHM6IFsncG9zdHMnLCAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24ocG9zdHMsICRzdGF0ZVBhcmFtcyl7XHJcblx0XHRcdFx0XHRcdHJldHVybiBwb3N0cy5nZXRQb3N0c0J5VXNlcigkc3RhdGVQYXJhbXMudXNlcm5hbWUpO1xyXG5cdFx0XHRcdFx0fV1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHQuc3RhdGUoJ2ZpbmRVc2VyJywge1xyXG5cdFx0XHRcdHVybDogJy9maW5kVXNlcicsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvZmluZFVzZXIuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0ZpbmRVc2VyQ3RybCcsXHJcblx0XHRcdFx0b25FbnRlcjogWyckc3RhdGUnLCAnYXV0aCcsIGZ1bmN0aW9uKCRzdGF0ZSwgYXV0aCl7XHJcblx0XHRcdFx0XHRpZiAoIWF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0XHRcdCRzdGF0ZS5nbyhcImhvbWVcIik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fV1cclxuXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHQuc3RhdGUoJ2xpc3RVc2VyJywge1xyXG5cdFx0XHRcdHVybDogJy9saXN0VXNlcicsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvbGlzdFVzZXIuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0ZpbmRVc2VyQ3RybCcsXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0dXNlclByb21pc2U6IFsndXNlcicsIGZ1bmN0aW9uKHVzZXIpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdXNlci5nZXRBbGxVc2VyKCk7XHJcblx0XHRcdFx0XHR9XVxyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0b25FbnRlcjogWyckc3RhdGUnLCAnYXV0aCcsIGZ1bmN0aW9uKCRzdGF0ZSwgYXV0aCl7XHJcblx0XHRcdFx0XHRpZiAoICFhdXRoLmlzTG9nZ2VkSW4oKSB8fCAoYXV0aC5pc0xvZ2dlZEluKCkgJiYgIWF1dGguaXNBZG1pbigpKSApIHtcclxuXHRcdFx0XHRcdFx0JHN0YXRlLmdvKFwiaG9tZVwiKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0LnN0YXRlKCdjaGFuZ2VQYXNzd29yZCcsIHtcclxuXHRcdFx0XHR1cmw6ICcvY2hhbmdlUGFzc3dvcmQnLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2NoYW5nZVBhc3N3b3JkLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdBdXRoQ3RybCcsXHJcblx0XHRcdFx0b25FbnRlcjogWyckc3RhdGUnLCAnYXV0aCcsIGZ1bmN0aW9uKCRzdGF0ZSwgYXV0aCl7XHJcblx0XHRcdFx0XHRpZiAoIWF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0XHRcdCRzdGF0ZS5nbyhcImhvbWVcIik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fV1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0JHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZShcImhvbWVcIik7XHJcblx0fV0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5jb25zdGFudHNcIiwgW10pXHJcblx0LmNvbnN0YW50KCdSRUdFWFBTJywge1xyXG5cdFx0VkFMSURfTElOS19SRVFVSVJFRF9QUk9UT0NPTDogL14oKGh0dHBzfGh0dHB8ZnRwKVxcOlxcL1xcLykoW3d8V117M31cXC4pP1thLXpBLVowLTlcXC1cXC5dezMsfVxcLlthLXpBLVpdezIsfShcXC5bYS16QS1aXXsyLH0pPygoXFwvW2EtekEtWjAtOV0qKSsoXFwuW2EtekEtWjAtOV17Miw0fSkpPy8sXHJcblx0XHRWQUxJRF9MSU5LX05PVF9SRVFVSVJFRF9QUk9UT0NPTDogL14oKGh0dHBzfGh0dHB8ZnRwKVxcOlxcL1xcLyk/KFt3fFddezN9XFwuKT9bYS16QS1aMC05XFwtXFwuXXszLH1cXC5bYS16QS1aXXsyLH0oXFwuW2EtekEtWl17Mix9KT8oKFxcL1thLXpBLVowLTldKikrKFxcLlthLXpBLVowLTldezIsNH0pKT8vLFxyXG5cdFx0VkFMSURfVVNFUjogL15bYS16QS1aMC05X1xcLl17NSwyMH0kLyxcclxuXHRcdFZBTElEX1BBU1NXT1JEOiAvXi57OCx9JC8sXHJcblx0XHRWQUxJRF9FTUFJTDogL15bYS16QS1aXStbXFwuMC05X10rQFthLXowLTldK1xcLlthLXpdezIsNH0kL1xyXG5cdH0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLmZpbHRlcnNcIiwgW10pXHJcblx0LmZpbHRlcignbGluaycsIFsnUkVHRVhQUycsIGZ1bmN0aW9uKHJlZ2V4KXtcclxuXHRcdHJldHVybiBmdW5jdGlvbihsaW5rKXtcclxuXHRcdFx0dmFyIFZBTElEX0xJTksgPSByZWdleC5WQUxJRF9MSU5LX1JFUVVJUkVEX1BST1RPQ09MO1xyXG5cdFx0XHRpZiAoVkFMSURfTElOSy50ZXN0KGxpbmspKSB7XHJcblx0XHRcdFx0cmV0dXJuIGxpbms7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuICdodHRwczovLycgKyBsaW5rO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1dKVxyXG5cdDsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5ob21lLnZpZXdwb3N0cy5jb250cm9sbGVyXCIsIFtdKVxyXG5cdC5jb250cm9sbGVyKFwiVmlld1Bvc3RzQ3RybFwiLCBbXCIkc2NvcGVcIiwgXCIkd2luZG93XCIsIFwicG9zdHNcIiwgJ2F1dGgnLCAnUkVHRVhQUycsIFwiUHVzaGVyXCIsIGZ1bmN0aW9uKCRzY29wZSwgJHdpbmRvdywgcG9zdHMsIGF1dGgsIHJlZ2V4LCBQdXNoZXIpe1xyXG5cdFx0XHJcblx0XHQkc2NvcGUuaXNMb2dnZWRJbiA9IGF1dGguaXNMb2dnZWRJbjtcclxuXHRcdCRzY29wZS5jdXJyZW50VXNlciA9IGF1dGguY3VycmVudFVzZXI7XHJcblx0XHQkc2NvcGUubG9nT3V0ID0gYXV0aC5sb2dPdXQ7XHJcblx0XHQkc2NvcGUuaXNBZG1pbiA9IGF1dGguaXNBZG1pbjtcclxuXHRcdCRzY29wZS5hbGxwb3N0cyA9IHBvc3RzLnBvc3RzO1xyXG5cdFx0JHNjb3BlLnNvcnRPcmRlciA9ICctZGF0ZSc7XHJcblx0XHQkc2NvcGUuc29ydE9wdGlvbnMgPSBbXHJcblx0XHRcdHsgbmFtZTogJ03hu5tpIG5o4bqldCcsIG9yZGVyOiAnLWRhdGUnIH0sXHJcblx0XHRcdHsgbmFtZTogJ05oaeG7gXUgbGlrZSBuaOG6pXQnLCBvcmRlcjogJy11c2Vyc0xpa2VkLmxlbmd0aCd9LFxyXG5cdFx0XHR7IG5hbWU6ICdOaGnhu4F1IGLDrG5oIGx14bqtbiBuaOG6pXQnLCBvcmRlcjogJy1jb21tZW50cy5sZW5ndGgnfVx0XHRcclxuXHRcdF07XHJcblx0XHQkc2NvcGUucG9zdHNQZXJQYWdlID0gMTA7XHJcblx0XHQkc2NvcGUuY3VycmVudFBhZ2UgPSAxO1xyXG5cdFx0XHJcblx0XHQkc2NvcGUuZXJyb3IgPSAnJztcclxuXHRcdCRzY29wZS5lZGl0aW5nID0ge307XHJcblx0XHQkc2NvcGUuY3VycmVudExpa2UgPSBmYWxzZTtcclxuXHRcdHZhciBWQUxJRF9MSU5LID0gcmVnZXguVkFMSURfTElOS19OT1RfUkVRVUlSRURfUFJPVE9DT0w7XHJcblxyXG5cdFx0LypQdXNoZXIuc3Vic2NyaWJlKFwicG9zdHNcIiwgXCJhZGRQb3N0XCIsIGZ1bmN0aW9uKHBvc3Qpe1xyXG5cdFx0XHQkc2NvcGUuYWxscG9zdHMucHVzaChwb3N0KTtcclxuXHRcdH0pO1xyXG4qL1xyXG5cdFx0JHNjb3BlLnNldE9yZGVyID0gZnVuY3Rpb24ob3JkZXIpIHtcclxuXHRcdFx0JHNjb3BlLnNvcnRPcmRlciA9IG9yZGVyO1xyXG5cdFx0fTtcclxuXHRcdCRzY29wZS5hZGRQb3N0ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYgKCEkc2NvcGUubmV3dGl0bGUpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnQuG6oW4gY2jGsGEgbmjhuq1wIG7hu5lpIGR1bmchJztcclxuXHRcdFx0fSBlbHNlIGlmICgkc2NvcGUubmV3bGluayAmJiAhVkFMSURfTElOSy50ZXN0KCRzY29wZS5uZXdsaW5rKSkge1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICdMaW5rIGtow7RuZyBo4bujcCBs4buHISc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly9jb25zb2xlLmxvZyhcInZhbGlkIHBvc3RcIik7XHJcblx0XHRcdFx0cG9zdHMuY3JlYXRlKHtcclxuXHRcdFx0XHRcdHRpdGxlOiAkc2NvcGUubmV3dGl0bGUsXHJcblx0XHRcdFx0XHRsaW5rOiAkc2NvcGUubmV3bGluayxcclxuXHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKClcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQkc2NvcGUubmV3dGl0bGUgPSAnJztcclxuXHRcdFx0XHQkc2NvcGUubmV3bGluayA9ICcnO1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICcnO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5tb3ZlVG9Ub3AgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0JHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmxpa2VfdW5saWtlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRpZiAoYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHR2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuXHRcdFx0XHRpZiAocG9zdC51c2Vyc0xpa2VkLmluZGV4T2YodXNlcikgPT09IC0xKSB7XHJcblx0XHRcdFx0XHRwb3N0cy5saWtlKHBvc3QpO1xyXG5cdFx0XHRcdFx0cG9zdC51c2Vyc0xpa2VkLnB1c2godXNlcik7XHJcblx0XHRcdFx0XHRwb3N0LnBvaW50cys9MjtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cG9zdHMudW5saWtlKHBvc3QpO1xyXG5cdFx0XHRcdFx0dmFyIGluZGV4ID0gcG9zdC51c2Vyc0xpa2VkLmluZGV4T2YodXNlcik7XHJcblx0XHRcdFx0XHRwb3N0LnVzZXJzTGlrZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdHBvc3QucG9pbnRzLT0yO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZGlzbGlrZV91bmRpc2xpa2UgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRcdHBvc3RzLmRpc2xpa2UocG9zdCk7XHJcblx0XHRcdFx0XHRwb3N0LnVzZXJzRGlzbGlrZWQucHVzaCh1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QucG9pbnRzLS07XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHBvc3RzLnVuZGlzbGlrZShwb3N0KTtcclxuXHRcdFx0XHRcdHZhciBpbmRleCA9IHBvc3QudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpO1xyXG5cdFx0XHRcdFx0cG9zdC51c2Vyc0Rpc2xpa2VkLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHRwb3N0LnBvaW50cysrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUubGlrZVRvb2x0aXBUZXh0ID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRpZiAoYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHR2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuXHRcdFx0XHRpZiAocG9zdC51c2Vyc0xpa2VkLmluZGV4T2YodXNlcikgIT09IC0xKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJC4buPIHRow61jaFwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJUaMOtY2hcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIFwixJDEg25nIG5o4bqtcCDEkeG7gyB0aMOtY2ggYsOgaSB2aeG6v3QhXCI7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRpc2xpa2VUb29sdGlwVGV4dCA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiQuG7jyBraMO0bmcgdGjDrWNoXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIktow7RuZyB0aMOtY2hcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIFwixJDEg25nIG5o4bqtcCDEkeG7gyBraMO0bmcgdGjDrWNoIGLDoGkgdmnhur90IVwiO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5lZGl0ID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHQkc2NvcGUuZWRpdGluZy5jdXJyZW50ID0gW3Bvc3QsIHRydWVdO1xyXG5cdFx0XHQkc2NvcGUudGl0bGUgPSAkc2NvcGUuZWRpdGluZy5jdXJyZW50WzBdLnRpdGxlO1xyXG5cdFx0XHQkc2NvcGUubGluayA9ICRzY29wZS5lZGl0aW5nLmN1cnJlbnRbMF0ubGluaztcclxuXHRcdFx0JHNjb3BlLm1vdmVUb1RvcCgpO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdFxyXG5cdFx0XHRpZiAoISRzY29wZS50aXRsZSAmJiAhJHNjb3BlLmxpbmspIHtcclxuXHRcdFx0XHRpZiAoJHdpbmRvdy5jb25maXJtKFwiQ8OzIHBo4bqjaSBi4bqhbiBtdeG7kW4geMOzYSBiw6BpIHZp4bq/dCBuw6B5P1wiKSkge1xyXG5cdFx0XHRcdFx0cG9zdHMuZGVsZXRlKCRzY29wZS5lZGl0aW5nLmN1cnJlbnRbMF0pO1xyXG5cdFx0XHRcdFx0JHNjb3BlLmVkaXRpbmcgPSB7fTtcclxuXHRcdFx0XHRcdCRzY29wZS5lcnJvciA9ICcnO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmICghJHNjb3BlLnRpdGxlKSB7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gJ0LhuqFuIGNoxrBhIG5o4bqtcCBu4buZaSBkdW5nISc7XHJcblx0XHRcdH0gZWxzZSBpZiAoJHNjb3BlLmxpbmsgJiYgIVZBTElEX0xJTksudGVzdCgkc2NvcGUubGluaykpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnTGluayBraMO0bmcgaOG7o3AgbOG7hyEnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKCRzY29wZS50aXRsZSk7XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJHNjb3BlLmxpbmspO1xyXG5cdFx0XHRcdHZhciB1cGRhdGVkUG9zdCA9IHtcclxuXHRcdFx0XHRcdF9pZDogJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS5faWQsXHJcblx0XHRcdFx0XHR0aXRsZTogJHNjb3BlLnRpdGxlLFxyXG5cdFx0XHRcdFx0bGluazogJHNjb3BlLmxpbmssXHJcblx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyh1cGRhdGVkUG9zdCk7XHJcblx0XHRcdFx0cG9zdHMuc2F2ZSh1cGRhdGVkUG9zdCk7XHJcblx0XHRcdFx0JHNjb3BlLmVkaXRpbmcgPSB7fTtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnJztcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdFxyXG5cclxuXHJcblx0XHQkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRpZiAoJHdpbmRvdy5jb25maXJtKFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHjDs2Ega2jDtG5nP1wiKSkge1xyXG5cdFx0XHRcdHBvc3RzLmRlbGV0ZShwb3N0KTtcclxuXHRcdFx0fVx0XHRcdFxyXG5cdFx0fTtcclxuXHJcblxyXG5cclxuXHR9XSk7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuaG9tZS5uYXYuY29udHJvbGxlclwiLCBbXSlcclxuXHQuY29udHJvbGxlcignTmF2Q3RybCcsIFsnJHNjb3BlJywgJ2F1dGgnLCBmdW5jdGlvbigkc2NvcGUsIGF1dGgpe1xyXG5cdFx0JHNjb3BlLmlzTG9nZ2VkSW4gPSBhdXRoLmlzTG9nZ2VkSW47XHJcblx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xyXG5cdFx0JHNjb3BlLmxvZ091dCA9IGF1dGgubG9nT3V0O1xyXG5cdH1dKTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5wb3N0LnZpZXdjb21tZW50cy5jb250cm9sbGVyXCIsIFtdKVxyXG5cdC5jb250cm9sbGVyKFwiVmlld0NvbW1lbnRzQ3RybFwiLCBbXCIkc2NvcGVcIiwgXCJwb3N0c1wiLCBcInBvc3RcIiwgJ2F1dGgnLCAnJHdpbmRvdycsICdQdXNoZXInLCBmdW5jdGlvbigkc2NvcGUsIHBvc3RzLCBwb3N0LCBhdXRoLCAkd2luZG93LCBQdXNoZXIpe1xyXG5cdFx0JHNjb3BlLnBvc3QgPSBwb3N0O1xyXG5cdFx0JHNjb3BlLmVycm9yID0gJyc7XHJcblx0XHQkc2NvcGUuYnV0dG9uID0geyBuYW1lOiAnQ29tbWVudCcgfTtcclxuXHRcdCRzY29wZS5jdXJyZW50Q29tbWVudCA9IHt9O1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRVc2VyID0gYXV0aC5jdXJyZW50VXNlcjtcclxuXHRcdCRzY29wZS5jdXJyZW50UGFnZSA9IDE7XHJcblx0XHQkc2NvcGUuaXNMb2dnZWRJbiA9IGF1dGguaXNMb2dnZWRJbjtcclxuXHRcdCRzY29wZS5pc0FkbWluID0gYXV0aC5pc0FkbWluO1xyXG5cclxuXHRcdFB1c2hlci5zdWJzY3JpYmUoXCJjb21tZW50c1wiLCBcImFkZENvbW1lbnRcIiwgZnVuY3Rpb24oY29tbWVudCl7XHJcblx0XHRcdCRzY29wZS5wb3N0LmNvbW1lbnRzLnNwbGljZSgwLCAwLCBjb21tZW50KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdFB1c2hlci5zdWJzY3JpYmUoXCJjb21tZW50c1wiLCBcImRlbGV0ZUNvbW1lbnRcIiwgZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdHZhciBpbmRleCA9ICRzY29wZS5wb3N0LmNvbW1lbnRzLm1hcChmdW5jdGlvbihpdGVtKXtcclxuXHRcdFx0XHRyZXR1cm4gaXRlbS5faWQ7XHJcblx0XHRcdH0pLmluZGV4T2YoZGF0YS5jb21tZW50KTtcclxuXHRcdFx0JHNjb3BlLnBvc3QuY29tbWVudHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdCRzY29wZS5hZGRDb21tZW50ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYgKCRzY29wZS5ib2R5KSB7XHJcblx0XHRcdFx0cG9zdHMuYWRkQ29tbWVudChwb3N0Ll9pZCwge1xyXG5cdFx0XHRcdFx0Ym9keTogJHNjb3BlLmJvZHksXHJcblx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gbnVsbDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnQuG6oW4gY2jGsGEgbmjhuq1wIG7hu5lpIGR1bmcgYsOsbmggbHXhuq1uISc7XHJcblx0XHRcdH1cclxuXHRcdFx0JHNjb3BlLmJvZHkgPSAnJztcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmxpa2VfdW5saWtlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdGlmIChjb21tZW50LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRwb3N0cy5saWtlQ29tbWVudChwb3N0LCBjb21tZW50KTtcclxuXHRcdFx0XHRjb21tZW50LnVzZXJzTGlrZWQucHVzaCh1c2VyKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwb3N0cy51bmxpa2VDb21tZW50KHBvc3QsIGNvbW1lbnQpO1xyXG5cdFx0XHRcdHZhciBpbmRleCA9IGNvbW1lbnQudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpO1xyXG5cdFx0XHRcdGNvbW1lbnQudXNlcnNMaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kaXNsaWtlX3VuZGlzbGlrZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRpZiAoY29tbWVudC51c2Vyc0Rpc2xpa2VkLmluZGV4T2YodXNlcikgPT09IC0xKSB7XHJcblx0XHRcdFx0cG9zdHMuZGlzbGlrZUNvbW1lbnQocG9zdCwgY29tbWVudCk7XHJcblx0XHRcdFx0Y29tbWVudC51c2Vyc0Rpc2xpa2VkLnB1c2godXNlcik7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cG9zdHMudW5kaXNsaWtlQ29tbWVudChwb3N0LCBjb21tZW50KTtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSBjb21tZW50LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKTtcclxuXHRcdFx0XHRjb21tZW50LnVzZXJzRGlzbGlrZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUubGlrZVRvb2x0aXBUZXh0ID0gZnVuY3Rpb24oY29tbWVudCkge1xyXG5cdFx0XHRpZiAoYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHR2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuXHRcdFx0XHRpZiAoY29tbWVudC51c2Vyc0xpa2VkLmluZGV4T2YodXNlcikgIT09IC0xKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJC4buPIHRow61jaFwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJUaMOtY2hcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIFwixJDEg25nIG5o4bqtcCDEkeG7gyB0aMOtY2ggYsOsbmggbHXhuq1uIVwiO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kaXNsaWtlVG9vbHRpcFRleHQgPSBmdW5jdGlvbihjb21tZW50KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChjb21tZW50LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIkLhu48ga2jDtG5nIHRow61jaFwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJLaMO0bmcgdGjDrWNoXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBcIsSQxINuZyBuaOG6rXAgxJHhu4Mga2jDtG5nIHRow61jaCBiw6xuaCBsdeG6rW4hXCI7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRlbGV0ZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSBraMO0bmc/XCIpKSB7XHJcblx0XHRcdFx0cG9zdHMuZGVsZXRlQ29tbWVudChwb3N0LCBjb21tZW50KTtcdFxyXG5cclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZWRpdENvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdCRzY29wZS5idXR0b24ubmFtZSA9ICdTYXZlJztcclxuXHRcdFx0JHNjb3BlLmJvZHkgPSBjb21tZW50LmJvZHk7XHJcblx0XHRcdCRzY29wZS5jdXJyZW50Q29tbWVudCA9IGNvbW1lbnQ7XHJcblx0XHRcdFxyXG5cdFx0XHR2YXIgaGVpZ2h0U3RyID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0KS50b1N0cmluZygpO1xyXG5cdFx0XHR2YXIgaGVpZ2h0ID0gcGFyc2VJbnQoaGVpZ2h0U3RyLnN1YnN0cigxLCBoZWlnaHRTdHIubGVuZ3RoIC0gMikpO1xyXG5cdFx0XHQkd2luZG93LnNjcm9sbFRvKDAsIGhlaWdodCk7XHJcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjb21tZW50SW5wdXQnKS5zZWxlY3QoKTtcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLnNhdmUgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KXtcclxuXHRcdFx0aWYgKCRzY29wZS5ib2R5KSB7XHJcblx0XHRcdFx0cG9zdHMuc2F2ZUNvbW1lbnQocG9zdCwge1xyXG5cdFx0XHRcdFx0X2lkOiAkc2NvcGUuY3VycmVudENvbW1lbnQuX2lkLFxyXG5cdFx0XHRcdFx0Ym9keTogJHNjb3BlLmJvZHksXHJcblx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKCR3aW5kb3cuY29uZmlybShcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB4w7NhIGtow7RuZz9cIikpIHtcclxuXHRcdFx0XHRcdHBvc3RzLmRlbGV0ZUNvbW1lbnQocG9zdCwgJHNjb3BlLmN1cnJlbnRDb21tZW50KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0JHNjb3BlLmJ1dHRvbi5uYW1lID0gJ0NvbW1lbnQnO1xyXG5cdFx0XHQkc2NvcGUuYm9keSA9ICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQkc2NvcGUuYm9keSA9ICcnO1xyXG5cdFx0XHQkc2NvcGUuYnV0dG9uLm5hbWUgPSAnQ29tbWVudCc7XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5tb3ZlVG9Ub3AgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0JHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuXHRcdH07XHJcblx0XHRcclxuXHR9XSk7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsucG9zdC5zZXJ2aWNlXCIsIFtdKVxyXG5cdC5mYWN0b3J5KFwicG9zdHNcIiwgW1wiJGh0dHBcIiwgXCJhdXRoXCIsIFwiUHVzaGVyXCIsIGZ1bmN0aW9uKCRodHRwLCBhdXRoLCBQdXNoZXIpe1xyXG5cdFx0dmFyIHBvc3RTZXJ2aWNlID0ge1xyXG5cdFx0XHRwb3N0czogW11cclxuXHRcdH07XHJcblxyXG5cdFx0UHVzaGVyLnN1YnNjcmliZShcInBvc3RzXCIsIFwiYWRkUG9zdFwiLCBmdW5jdGlvbihwb3N0KXtcclxuXHRcdFx0cG9zdFNlcnZpY2UucG9zdHMuc3BsaWNlKDAsIDAsIHBvc3QpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0UHVzaGVyLnN1YnNjcmliZShcInBvc3RzXCIsIFwiZGVsZXRlUG9zdFwiLCBmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0dmFyIGluZGV4ID0gcG9zdFNlcnZpY2UuZ2V0QWxsUG9zdElkcygpLmluZGV4T2YoZGF0YS5wb3N0KTtcclxuXHRcdFx0cG9zdFNlcnZpY2UucG9zdHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmdldEFsbCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvcG9zdHMnKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdGFuZ3VsYXIuY29weShkYXRhLCBwb3N0U2VydmljZS5wb3N0cyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5nZXRQb3N0c0J5VXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9wb3N0cy91c2VyLycgKyB1c2VybmFtZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5nZXRBbGxQb3N0SWRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiBwb3N0U2VydmljZS5wb3N0cy5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0cmV0dXJuIGl0ZW0uX2lkO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuY3JlYXRlID0gZnVuY3Rpb24ocG9zdCl7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvcG9zdHMnLCBwb3N0LCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KS8qLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdFx0cG9zdFNlcnZpY2UucG9zdHMuc3BsaWNlKDAsIDAsIGRhdGEpO1xyXG5cdFx0XHR9KSovO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5nZXQgPSBmdW5jdGlvbihpZCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvcG9zdHMvJyArIGlkKS50aGVuKGZ1bmN0aW9uKHJlcyl7XHJcblx0XHRcdFx0cmV0dXJuIHJlcy5kYXRhO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuYWRkQ29tbWVudCA9IGZ1bmN0aW9uKGlkLCBjb21tZW50KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvcG9zdHMvJyArIGlkICsgJy9jb21tZW50cycsIGNvbW1lbnQsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5saWtlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9saWtlJywgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSlcclxuXHRcdFx0Lyouc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0XHRwb3N0LnVzZXJzTGlrZWQucHVzaChkYXRhKTtcclxuXHRcdFx0fSkqL1xyXG5cdFx0XHQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLnVubGlrZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvdW5saWtlJywgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSlcclxuXHRcdFx0Lyouc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSBwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZihkYXRhKTtcclxuXHRcdFx0XHRwb3N0LnVzZXJzTGlrZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0fSkqL1xyXG5cdFx0XHQ7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmRpc2xpa2UgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2Rpc2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UudW5kaXNsaWtlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy91bmRpc2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2Uuc2F2ZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvc2F2ZScsIHBvc3QsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24ocG9zdCl7XHJcblx0XHRcdFx0dmFyIHBvc3RJbmRleCA9IHBvc3RTZXJ2aWNlLmdldEFsbFBvc3RJZHMoKS5pbmRleE9mKHBvc3QuX2lkKTtcclxuXHRcdFx0XHRwb3N0U2VydmljZS5wb3N0c1twb3N0SW5kZXhdID0gcG9zdDtcclxuXHRcdFx0fSlcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2Uuc2F2ZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2NvbW1lbnRzLycgKyBjb21tZW50Ll9pZCArICcvc2F2ZScsIGNvbW1lbnQsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24oY29tbWVudCl7XHJcblx0XHRcdFx0dmFyIHBvc3RJbmRleCA9IHBvc3RTZXJ2aWNlLmdldEFsbFBvc3RJZHMoKS5pbmRleE9mKHBvc3QuX2lkKTtcclxuXHRcdFx0XHR2YXIgY29tbWVudEluZGV4ID0gcG9zdC5jb21tZW50cy5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gaXRlbS5faWQ7XHJcblx0XHRcdFx0fSkuaW5kZXhPZihjb21tZW50Ll9pZCk7XHJcblx0XHRcdFx0cG9zdC5jb21tZW50c1tjb21tZW50SW5kZXhdID0gY29tbWVudDtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmRlbGV0ZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0Ly8gdmFyIGluZGV4ID0gcG9zdFNlcnZpY2UucG9zdHMuaW5kZXhPZihwb3N0KTtcclxuXHRcdFx0Ly8gcG9zdFNlcnZpY2UucG9zdHMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUoJy9wb3N0cy8nICsgcG9zdC5faWQsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5kZWxldGVDb21tZW50ID0gZnVuY3Rpb24ocG9zdCxjb21tZW50KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2NvbW1lbnRzLycgKyBjb21tZW50Ll9pZCwgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmxpa2VDb21tZW50ID0gZnVuY3Rpb24ocG9zdCwgY29tbWVudCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9jb21tZW50cy8nICsgY29tbWVudC5faWQgKyAnL2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UudW5saWtlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvY29tbWVudHMvJyArIGNvbW1lbnQuX2lkICsgJy91bmxpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuZGlzbGlrZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2NvbW1lbnRzLycgKyBjb21tZW50Ll9pZCArICcvZGlzbGlrZScsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS51bmRpc2xpa2VDb21tZW50ID0gZnVuY3Rpb24ocG9zdCwgY29tbWVudCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9jb21tZW50cy8nICsgY29tbWVudC5faWQgKyAnL3VuZGlzbGlrZScsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gcG9zdFNlcnZpY2U7XHJcblx0fV0pXHJcblx0OyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLnVzZXIuZmluZC5jb250cm9sbGVyXCIsIFtdKVxyXG5cdC5jb250cm9sbGVyKCdGaW5kVXNlckN0cmwnLCBbJyRzY29wZScsICd1c2VyJywgJyRzdGF0ZScsICckd2luZG93JywgZnVuY3Rpb24oJHNjb3BlLCB1c2VyLCAkc3RhdGUsICR3aW5kb3cpe1xyXG5cdFx0JHNjb3BlLnVzZXJzID0gdXNlci51c2VycztcclxuXHRcdCRzY29wZS5tZXNzYWdlcyA9IHt9O1xyXG5cdFx0JHNjb3BlLmZpbmRVc2VyID0gZnVuY3Rpb24odXNyKSB7XHJcblx0XHRcdHJldHVybiB1c2VyLmZpbmRVc2VyKHVzcikudGhlbihmdW5jdGlvbihyZXMpe1xyXG5cdFx0XHRcdHJldHVybiByZXMuZGF0YS5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gaXRlbS51c2VybmFtZTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5nb3RvID0gZnVuY3Rpb24odXNyKSB7XHJcblx0XHRcdGlmICh1c3IpIHtcclxuXHRcdFx0XHQkc3RhdGUuZ28oXCJ1c2VyXCIsIHt1c2VybmFtZTogdXNyfSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0JHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gJ0LhuqFuIGNoxrBhIG5o4bqtcCB0w6puIG5nxrDhu51pIGTDuW5nIGPhuqduIHTDrG0hJztcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRlbGV0ZVVzZXIgPSBmdW5jdGlvbih1c3IpIHtcclxuXHRcdFx0aWYgKCR3aW5kb3cuY29uZmlybShcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB4w7NhIG5nxrDhu51pIGTDuW5nIG7DoHkgcmEga2jhu49pIGjhu4cgdGjhu5FuZz9cIikpIHtcclxuXHRcdFx0XHR1c2VyLmRlbGV0ZVVzZXIodXNyKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0fV0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLnVzZXIudmlld3Bvc3RzLmNvbnRyb2xsZXJcIiwgW10pXHJcblx0LmNvbnRyb2xsZXIoJ1ZpZXdVc2VyUG9zdHNDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlUGFyYW1zJywgJyRzdGF0ZScsICdhdXRoJywgJ3Bvc3RzJywgJ3VzZXJQb3N0cycsICckd2luZG93JywgJ1JFR0VYUFMnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZVBhcmFtcywgJHN0YXRlLCBhdXRoLCBwb3N0cywgdXNlclBvc3RzLCAkd2luZG93LCByZWdleCl7XHJcblx0XHQkc2NvcGUuaXNMb2dnZWRJbiA9IGF1dGguaXNMb2dnZWRJbjtcclxuXHRcdCRzY29wZS5jdXJyZW50VXNlciA9IGF1dGguY3VycmVudFVzZXI7XHJcblx0XHQkc2NvcGUubG9nT3V0ID0gYXV0aC5sb2dPdXQ7XHJcblx0XHQkc2NvcGUuYWxscG9zdHMgPSB1c2VyUG9zdHM7XHJcblx0XHQkc2NvcGUudXNlcm5hbWUgPSAkc3RhdGVQYXJhbXMudXNlcm5hbWU7XHJcblx0XHQkc2NvcGUuY3VycmVudFBhZ2UgPSAxO1xyXG5cdFx0JHNjb3BlLnBvc3RzUGVyUGFnZSA9IDEwO1xyXG5cclxuXHRcdCRzY29wZS5lZGl0aW5nID0ge307XHJcblx0XHR2YXIgVkFMSURfTElOSyA9IHJlZ2V4LlZBTElEX0xJTktfTk9UX1JFUVVJUkVEX1BST1RPQ09MO1xyXG5cclxuXHRcdCRzY29wZS5saWtlX3VubGlrZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpID09PSAtMSkge1xyXG5cdFx0XHRcdFx0cG9zdHMubGlrZShwb3N0KTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNMaWtlZC5wdXNoKHVzZXIpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMrPTI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHBvc3RzLnVubGlrZShwb3N0KTtcclxuXHRcdFx0XHRcdHZhciBpbmRleCA9IHBvc3QudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpO1xyXG5cdFx0XHRcdFx0cG9zdC51c2Vyc0xpa2VkLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdFx0XHRwb3N0LnBvaW50cy09MjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRpc2xpa2VfdW5kaXNsaWtlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRpZiAoYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHR2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuXHRcdFx0XHRpZiAocG9zdC51c2Vyc0Rpc2xpa2VkLmluZGV4T2YodXNlcikgPT09IC0xKSB7XHJcblx0XHRcdFx0XHRwb3N0cy5kaXNsaWtlKHBvc3QpO1xyXG5cdFx0XHRcdFx0cG9zdC51c2Vyc0Rpc2xpa2VkLnB1c2godXNlcik7XHJcblx0XHRcdFx0XHRwb3N0LnBvaW50cy0tO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwb3N0cy51bmRpc2xpa2UocG9zdCk7XHJcblx0XHRcdFx0XHR2YXIgaW5kZXggPSBwb3N0LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNEaXNsaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMrKztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmxpa2VUb29sdGlwVGV4dCA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiQuG7jyB0aMOtY2hcIjtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiVGjDrWNoXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBcIkLhuqFuIGPhuqduIMSRxINuZyBuaOG6rXAhXCI7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRpc2xpa2VUb29sdGlwVGV4dCA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiQuG7jyBraMO0bmcgdGjDrWNoXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIktow7RuZyB0aMOtY2hcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIFwiQuG6oW4gY+G6p24gxJHEg25nIG5o4bqtcCFcIjtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZWRpdCA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0JHNjb3BlLmVkaXRpbmcuY3VycmVudCA9IFtwb3N0LCB0cnVlXTtcclxuXHRcdFx0JHNjb3BlLnRpdGxlID0gJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS50aXRsZTtcclxuXHRcdFx0JHNjb3BlLmxpbmsgPSAkc2NvcGUuZWRpdGluZy5jdXJyZW50WzBdLmxpbms7XHJcblx0XHRcdCR3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdGlmICghJHNjb3BlLnRpdGxlICYmICEkc2NvcGUubGluaykge1xyXG5cdFx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSBraMO0bmc/XCIpKSB7XHJcblx0XHRcdFx0XHRwb3N0cy5kZWxldGUoJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXSk7XHJcblx0XHRcdFx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0XHRcdFx0JHNjb3BlLmVycm9yID0gJyc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKCEkc2NvcGUudGl0bGUpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnQuG6oW4gY2jGsGEgbmjhuq1wIG7hu5lpIGR1bmchJztcclxuXHRcdFx0fSBlbHNlIGlmICgkc2NvcGUubGluayAmJiAhVkFMSURfTElOSy50ZXN0KCRzY29wZS5saW5rKSkge1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICdMaW5rIGtow7RuZyBo4bujcCBs4buHISc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFyIHVwZGF0ZWRQb3N0ID0ge1xyXG5cdFx0XHRcdFx0X2lkOiAkc2NvcGUuZWRpdGluZy5jdXJyZW50WzBdLl9pZCxcclxuXHRcdFx0XHRcdHRpdGxlOiAkc2NvcGUudGl0bGUsXHJcblx0XHRcdFx0XHRsaW5rOiAkc2NvcGUubGluayxcclxuXHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKClcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdHBvc3RzLnNhdmUodXBkYXRlZFBvc3QpO1xyXG5cdFx0XHRcdHZhciBpbmRleCA9ICRzY29wZS5hbGxwb3N0cy5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gaXRlbS5faWQ7XHJcblx0XHRcdFx0fSkuaW5kZXhPZigkc2NvcGUuZWRpdGluZy5jdXJyZW50WzBdLl9pZCk7XHJcblx0XHRcdFx0JHNjb3BlLmFsbHBvc3RzW2luZGV4XS50aXRsZSA9IHVwZGF0ZWRQb3N0LnRpdGxlO1xyXG5cdFx0XHRcdCRzY29wZS5hbGxwb3N0c1tpbmRleF0ubGluayA9IHVwZGF0ZWRQb3N0Lmxpbms7XHJcblx0XHRcdFx0JHNjb3BlLmFsbHBvc3RzW2luZGV4XS5kYXRlID0gdXBkYXRlZFBvc3QuZGF0ZTtcclxuXHRcdFx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICcnO1xyXG5cdFx0XHR9XHJcblx0XHRcdFxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUucmVzZXQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0JHNjb3BlLmVkaXRpbmcgPSB7fTtcclxuXHRcdH07XHJcblxyXG5cclxuXHRcdCRzY29wZS5kZWxldGUgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJDw7MgcGjhuqNpIGLhuqFuIG114buRbiB4w7NhIGLDoGkgdmnhur90IG7DoHk/XCIpKSB7XHJcblx0XHRcdFx0cG9zdHMuZGVsZXRlKHBvc3QpO1xyXG5cdFx0XHRcdHZhciBpbmRleCA9ICRzY29wZS5hbGxwb3N0cy5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0XHRyZXR1cm4gaXRlbS5faWQ7XHJcblx0XHRcdFx0fSkuaW5kZXhPZihwb3N0Ll9pZCk7XHJcblx0XHRcdFx0JHNjb3BlLmFsbHBvc3RzLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdH1cdFx0XHRcclxuXHRcdH07XHJcblx0XHRcclxuXHR9XSk7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsudXNlci5zZXJ2aWNlXCIsIFtdKVxyXG5cdC5mYWN0b3J5KCd1c2VyJywgWyckaHR0cCcsICdhdXRoJywgZnVuY3Rpb24oJGh0dHAsIGF1dGgpe1xyXG5cdFx0dmFyIHVzZXJTZXJ2aWNlID0ge1xyXG5cdFx0XHR1c2VyczogW10sXHJcblx0XHR9O1xyXG5cclxuXHRcdHVzZXJTZXJ2aWNlLmZpbmRVc2VyID0gZnVuY3Rpb24odXNyKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cCh7XHJcblx0XHRcdFx0bWV0aG9kOiAnR0VUJyxcclxuXHRcdFx0XHR1cmw6ICcvdXNlcnMvZmluZFVzZXIvJyArIHVzclxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0dXNlclNlcnZpY2UuZ2V0QWxsVXNlciA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0dXJsOiAnL3VzZXJzL2FsbCdcclxuXHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbih1c2Vycyl7XHJcblx0XHRcdFx0YW5ndWxhci5jb3B5KHVzZXJzLCB1c2VyU2VydmljZS51c2Vycyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHR1c2VyU2VydmljZS5kZWxldGVVc2VyID0gZnVuY3Rpb24odXNyKSB7XHJcblx0XHRcdHZhciBpbmRleCA9IHVzZXJTZXJ2aWNlLnVzZXJzLm1hcChmdW5jdGlvbihpdGVtKXtcclxuXHRcdFx0XHRyZXR1cm4gaXRlbS51c2VybmFtZTtcclxuXHRcdFx0fSkuaW5kZXhPZih1c3IudXNlcm5hbWUpO1xyXG5cdFx0XHR1c2VyU2VydmljZS51c2Vycy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSgnL3VzZXJzL2RlbGV0ZS8nICsgdXNyLnVzZXJuYW1lLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cclxuXHRcdHJldHVybiB1c2VyU2VydmljZTtcclxuXHR9XSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9