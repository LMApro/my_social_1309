angular.module("myNetwork",["ui.bootstrap","ui.router","angularUtils.directives.dirPagination","myNetwork.config.stateProvider","myNetwork.constants","myNetwork.filters","myNetwork.auth.service","myNetwork.auth.controller","myNetwork.post.service","myNetwork.post.viewcomments.controller","myNetwork.home.viewposts.controller","myNetwork.home.nav.controller","myNetwork.user.service","myNetwork.user.viewposts.controller","myNetwork.user.find.controller"]),angular.module("myNetwork.auth.controller",[]).controller("AuthCtrl",["$scope","$state","auth","REGEXPS",function(e,t,n,r){e.user={},e.messages={};var s=r.VALID_USER,o=r.VALID_PASSWORD;e.register=function(){e.user.username?s.test(e.user.username)?e.user.password?o.test(e.user.password)?e.user.verifyPass?e.user.password!=e.user.verifyPass?e.messages.error="Mật khẩu chưa khớp!":n.register(e.user).error(function(t){e.messages=t}).then(function(){t.go("home")}):e.messages.error="Bạn chưa nhập lại mật khẩu!":e.messages.error="Mật khẩu cần ít nhất 8 kí tự!":e.messages.error="Bạn chưa nhập mật khẩu (ít nhất 8 kí tự)!":e.messages.error="Tên người dùng từ 5 đến 20 kí tự, không chứa khoảng trắng và kí tự đặc biệt (\\ / ` \" ' # ~)!":e.messages.error="Bạn chưa nhập Tên người dùng!"},e.logIn=function(){e.user.username||e.user.password?n.logIn(e.user).error(function(t){e.messages=t}).then(function(){t.go("home")}):e.messages.error="Bạn chưa nhập tên người dùng hoặc mật khẩu!"},e.changePassword=function(){e.user.username=n.currentUser(),e.user.currentPassword&&e.user.newPassword&&e.user.verifyNewPassword?o.test(e.user.newPassword)?e.user.newPassword!=e.user.verifyNewPassword?e.messages.error="Mật khẩu chưa khớp!":n.changePassword(e.user).error(function(t){e.messages=t}).then(function(){e.messages={},e.user={},e.messages.success="Đã cập nhật mật khẩu!"}):e.messages.error="Mật khẩu cần ít nhất 8 kí tự!":e.messages.error="Bạn chưa nhập tên người dùng hoặc mật khẩu!"}}]),angular.module("myNetwork.auth.service",[]).factory("auth",["$http","$window","$state",function(e,t,n){var r={};return r.saveToken=function(e){t.localStorage["my-social-token"]=e},r.getToken=function(){return t.localStorage["my-social-token"]},r.isLoggedIn=function(){var e=r.getToken();if(e){var n=JSON.parse(t.atob(e.split(".")[1]));return n.exp>Date.now()/1e3}return!1},r.currentUser=function(){if(r.isLoggedIn()){var e=r.getToken(),n=JSON.parse(t.atob(e.split(".")[1]));return n.username}},r.isAdmin=function(){if(r.isLoggedIn()){var e=r.getToken(),n=JSON.parse(t.atob(e.split(".")[1]));return n.isAdmin}},r.register=function(t){return e.post("/users/register",t).success(function(e){r.saveToken(e.token)})},r.logIn=function(t){return e.post("/users/login",t).success(function(e){r.saveToken(e.token)})},r.logOut=function(){t.localStorage.removeItem("my-social-token"),n.go("home")},r.changePassword=function(t){return e.put("/users/changePassword",t).success(function(e){r.saveToken(e.token)})},r}]),angular.module("myNetwork.config.stateProvider",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("home",{url:"/home",templateUrl:"templates/home.html",controller:"ViewPostsCtrl",resolve:{postPromise:["posts",function(e){return e.getAll()}]}}).state("posts",{url:"/posts/{id}",templateUrl:"templates/posts.html",controller:"ViewCommentsCtrl",resolve:{post:["$stateParams","posts",function(e,t){return t.get(e.id)}]}}).state("login",{url:"/login",templateUrl:"templates/login.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()&&e.go("home")}]}).state("register",{url:"/register",templateUrl:"templates/register.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()&&e.go("home")}]}).state("user",{url:"/users/{username}",templateUrl:"templates/user.html",controller:"ViewUserPostsCtrl",onEnter:["$state","$stateParams",function(e,t){t.username||e.go("home")}],resolve:{userPosts:["posts","$stateParams",function(e,t){return e.getPostsByUser(t.username)}]}}).state("findUser",{url:"/findUser",templateUrl:"templates/findUser.html",controller:"FindUserCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()||e.go("home")}]}).state("listUser",{url:"/listUser",templateUrl:"templates/listUser.html",controller:"FindUserCtrl",resolve:{userPromise:["user",function(e){return e.getAllUser()}]},onEnter:["$state","auth",function(e,t){(!t.isLoggedIn()||t.isLoggedIn()&&!t.isAdmin())&&e.go("home")}]}).state("changePassword",{url:"/changePassword",templateUrl:"templates/changePassword.html",controller:"AuthCtrl",onEnter:["$state","auth",function(e,t){t.isLoggedIn()||e.go("home")}]}),t.otherwise("home")}]),angular.module("myNetwork.constants",[]).constant("REGEXPS",{VALID_LINK_REQUIRED_PROTOCOL:/^((https|http|ftp)\:\/\/)([w|W]{3}\.)?[a-zA-Z0-9\-\.]{3,}\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?((\/[a-zA-Z0-9]*)+(\.[a-zA-Z0-9]{2,4}))?/,VALID_LINK_NOT_REQUIRED_PROTOCOL:/^((https|http|ftp)\:\/\/)?([w|W]{3}\.)?[a-zA-Z0-9\-\.]{3,}\.[a-zA-Z]{2,}(\.[a-zA-Z]{2,})?((\/[a-zA-Z0-9]*)+(\.[a-zA-Z0-9]{2,4}))?/,VALID_USER:/^[a-zA-Z0-9_\.]{5,20}$/,VALID_PASSWORD:/^.{8,}$/,VALID_EMAIL:/^[a-zA-Z]+[\.0-9_]+@[a-z0-9]+\.[a-z]{2,4}$/}),angular.module("myNetwork.filters",[]).filter("link",["REGEXPS",function(e){return function(t){var n=e.VALID_LINK_REQUIRED_PROTOCOL;return n.test(t)?t:"https://"+t}}]),angular.module("myNetwork.home.viewposts.controller",[]).controller("ViewPostsCtrl",["$scope","$window","posts","auth","REGEXPS",function(e,t,n,r,s){e.isLoggedIn=r.isLoggedIn,e.currentUser=r.currentUser,e.logOut=r.logOut,e.isAdmin=r.isAdmin,e.allposts=n.posts,e.sortOrder="-date",e.sortOptions=[{name:"Mới nhất",order:"-date"},{name:"Nhiều like nhất",order:"-usersLiked.length"},{name:"Nhiều bình luận nhất",order:"-comments.length"}],e.postsPerPage=10,e.currentPage=1,e.error="",e.editing={},e.currentLike=!1;var o=s.VALID_LINK_NOT_REQUIRED_PROTOCOL;e.setOrder=function(t){e.sortOrder=t},e.addPost=function(){e.newtitle?e.newlink&&!o.test(e.newlink)?e.error="Link không hợp lệ!":(n.create({title:e.newtitle,link:e.newlink,date:new Date}),e.newtitle="",e.newlink="",e.error=""):e.error="Bạn chưa nhập nội dung!"},e.moveToTop=function(){t.scrollTo(0,0)},e.like_unlike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersLiked.indexOf(t))n.like(e),e.usersLiked.push(t),e.points+=2;else{n.unlike(e);var s=e.usersLiked.indexOf(t);e.usersLiked.splice(s,1),e.points-=2}}},e.dislike_undislike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersDisliked.indexOf(t))n.dislike(e),e.usersDisliked.push(t),e.points--;else{n.undislike(e);var s=e.usersDisliked.indexOf(t);e.usersDisliked.splice(s,1),e.points++}}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Đăng nhập để thích bài viết!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Đăng nhập để không thích bài viết!"},e.edit=function(t){e.editing.current=[t,!0],e.title=e.editing.current[0].title,e.link=e.editing.current[0].link,e.moveToTop()},e.save=function(){if(e.title||e.link)if(e.title)if(e.link&&!o.test(e.link))e.error="Link không hợp lệ!";else{var r={_id:e.editing.current[0]._id,title:e.title,link:e.link,date:new Date};n.save(r),e.editing={},e.error=""}else e.error="Bạn chưa nhập nội dung!";else t.confirm("Có phải bạn muốn xóa bài viết này?")&&(n["delete"](e.editing.current[0]),e.editing={},e.error="")},e.reset=function(){e.editing={}},e["delete"]=function(e){t.confirm("Bạn có chắc chắn muốn xóa không?")&&n["delete"](e)}}]),angular.module("myNetwork.home.nav.controller",[]).controller("NavCtrl",["$scope","auth",function(e,t){e.isLoggedIn=t.isLoggedIn,e.currentUser=t.currentUser,e.logOut=t.logOut}]),angular.module("myNetwork.post.viewcomments.controller",[]).controller("ViewCommentsCtrl",["$scope","posts","post","auth","$window",function(e,t,n,r,s){e.post=n,e.error="",e.button={name:"Comment"},e.currentComment={},e.currentUser=r.currentUser,e.currentPage=1,e.isLoggedIn=r.isLoggedIn,e.addComment=function(){e.body?(t.addComment(n._id,{body:e.body,date:new Date}).success(function(t){e.post.comments.splice(0,0,t)}),e.error=null):e.error="Bạn chưa nhập nội dung bình luận!",e.body=""},e.like_unlikeComment=function(e,n){var s=r.currentUser();if(-1===n.usersLiked.indexOf(s))t.likeComment(e,n),n.usersLiked.push(s);else{t.unlikeComment(e,n);var o=n.usersLiked.indexOf(s);n.usersLiked.splice(o,1)}},e.dislike_undislikeComment=function(e,n){var s=r.currentUser();if(-1===n.usersDisliked.indexOf(s))t.dislikeComment(e,n),n.usersDisliked.push(s);else{t.undislikeComment(e,n);var o=n.usersDisliked.indexOf(s);n.usersDisliked.splice(o,1)}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Đăng nhập để thích bình luận!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Đăng nhập để không thích bình luận!"},e.deleteComment=function(e,n){s.confirm("Bạn có chắc chắn muốn xóa không?")&&t.deleteComment(e,n)},e.editComment=function(t,n){e.button.name="Save",e.body=n.body,e.currentComment=n;var r=angular.element(document.body.scrollHeight).toString(),o=parseInt(r.substr(1,r.length-2));s.scrollTo(0,o),document.querySelector("#commentInput").select()},e.save=function(n,r){e.body?t.saveComment(n,{_id:e.currentComment._id,body:e.body,date:new Date}):s.confirm("Bạn có chắc chắn muốn xóa không?")&&t.deleteComment(n,e.currentComment),e.button.name="Comment",e.body=""},e.reset=function(){e.body="",e.button.name="Comment"},e.moveToTop=function(){s.scrollTo(0,0)}}]),angular.module("myNetwork.post.service",[]).factory("posts",["$http","auth",function(e,t){var n={posts:[]};return n.getAll=function(){return e.get("/posts").success(function(e){angular.copy(e,n.posts)})},n.getPostsByUser=function(t){return e.get("/posts/user/"+t).then(function(e){return e.data})},n.getAllPostIds=function(){return n.posts.map(function(e){return e._id})},n.create=function(r){return e.post("/posts",r,{headers:{Authorization:"Bearer "+t.getToken()}}).success(function(e){n.posts.splice(0,0,e)})},n.get=function(t){return e.get("/posts/"+t).then(function(e){return e.data})},n.addComment=function(n,r){return e.post("/posts/"+n+"/comments",r,{headers:{Authorization:"Bearer "+t.getToken()}})},n.like=function(n){return e.put("/posts/"+n._id+"/like",null,{headers:{Authorization:"Bearer "+t.getToken()}})},n.unlike=function(n){return e.put("/posts/"+n._id+"/unlike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},n.dislike=function(n){return e.put("/posts/"+n._id+"/dislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},n.undislike=function(n){return e.put("/posts/"+n._id+"/undislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},n.save=function(r){return e.put("/posts/"+r._id+"/save",r,{headers:{Authorization:"Bearer "+t.getToken()}}).success(function(e){var t=n.getAllPostIds().indexOf(e._id);n.posts[t]=e})},n.saveComment=function(r,s){return e.put("/posts/"+r._id+"/comments/"+s._id+"/save",s,{headers:{Authorization:"Bearer "+t.getToken()}}).success(function(e){var t=(n.getAllPostIds().indexOf(r._id),r.comments.map(function(e){return e._id}).indexOf(e._id));r.comments[t]=e})},n["delete"]=function(r){var s=n.posts.indexOf(r);return n.posts.splice(s,1),e["delete"]("/posts/"+r._id,null,{headers:{Authorization:"Bearer "+t.getToken()}})},n.deleteComment=function(r,s){var o=n.getAllPostIds().indexOf(r._id),i=r.comments.indexOf(s);return r.comments.splice(i,1),n.posts[o]=r,e["delete"]("/posts/"+r._id+"/comments/"+s._id,null,{headers:{Authorization:"Bearer "+t.getToken()}})},n.likeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/like",null,{headers:{Authorization:"Bearer "+t.getToken()}})},n.unlikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/unlike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},n.dislikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/dislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},n.undislikeComment=function(n,r){return e.put("/posts/"+n._id+"/comments/"+r._id+"/undislike",null,{headers:{Authorization:"Bearer "+t.getToken()}})},n}]),angular.module("myNetwork.user.find.controller",[]).controller("FindUserCtrl",["$scope","user","$state","$window",function(e,t,n,r){e.users=t.users,e.messages={},e.findUser=function(e){return t.findUser(e).then(function(e){return e.data.map(function(e){return e.username})})},e["goto"]=function(t){t?n.go("user",{username:t}):e.messages.error="Bạn chưa nhập tên người dùng cần tìm!"},e.deleteUser=function(e){r.confirm("Bạn có chắc chắn muốn xóa người dùng này ra khỏi hệ thống?")&&t.deleteUser(e)}}]),angular.module("myNetwork.user.viewposts.controller",[]).controller("ViewUserPostsCtrl",["$scope","$stateParams","$state","auth","posts","userPosts","$window","REGEXPS",function(e,t,n,r,s,o,i,u){e.isLoggedIn=r.isLoggedIn,e.currentUser=r.currentUser,e.logOut=r.logOut,e.allposts=o,e.username=t.username,e.currentPage=1,e.postsPerPage=10,e.editing={};var l=u.VALID_LINK_NOT_REQUIRED_PROTOCOL;e.like_unlike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersLiked.indexOf(t))s.like(e),e.usersLiked.push(t),e.points+=2;else{s.unlike(e);var n=e.usersLiked.indexOf(t);e.usersLiked.splice(n,1),e.points-=2}}},e.dislike_undislike=function(e){if(r.isLoggedIn()){var t=r.currentUser();if(-1===e.usersDisliked.indexOf(t))s.dislike(e),e.usersDisliked.push(t),e.points--;else{s.undislike(e);var n=e.usersDisliked.indexOf(t);e.usersDisliked.splice(n,1),e.points++}}},e.likeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersLiked.indexOf(t)?"Bỏ thích":"Thích"}return"Bạn cần đăng nhập!"},e.dislikeTooltipText=function(e){if(r.isLoggedIn()){var t=r.currentUser();return-1!==e.usersDisliked.indexOf(t)?"Bỏ không thích":"Không thích"}return"Bạn cần đăng nhập!"},e.edit=function(t){e.editing.current=[t,!0],e.title=e.editing.current[0].title,e.link=e.editing.current[0].link,i.scrollTo(0,0)},e.save=function(){if(e.title||e.link)if(e.title)if(e.link&&!l.test(e.link))e.error="Link không hợp lệ!";else{var t={_id:e.editing.current[0]._id,title:e.title,link:e.link,date:new Date};s.save(t);var n=e.allposts.map(function(e){return e._id}).indexOf(e.editing.current[0]._id);e.allposts[n].title=t.title,e.allposts[n].link=t.link,e.allposts[n].date=t.date,e.editing={},e.error=""}else e.error="Bạn chưa nhập nội dung!";else i.confirm("Bạn có chắc chắn muốn xóa không?")&&(s["delete"](e.editing.current[0]),e.editing={},e.error="")},e.reset=function(){e.editing={}},e["delete"]=function(t){if(i.confirm("Có phải bạn muốn xóa bài viết này?")){s["delete"](t);var n=e.allposts.map(function(e){return e._id}).indexOf(t._id);e.allposts.splice(n,1)}}}]),angular.module("myNetwork.user.service",[]).factory("user",["$http","auth",function(e,t){var n={users:[]};return n.findUser=function(t){return e({method:"GET",url:"/users/findUser/"+t})},n.getAllUser=function(){return e({method:"GET",url:"/users/all"}).success(function(e){angular.copy(e,n.users)})},n.deleteUser=function(r){var s=n.users.map(function(e){return e.username}).indexOf(r.username);return n.users.splice(s,1),e["delete"]("/users/delete/"+r.username,null,{headers:{Authorization:"Bearer "+t.getToken()}})},n}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXJBcHAuanMiLCJhdXRoQ29udHJvbGxlci5qcyIsImF1dGhTZXJ2aWNlLmpzIiwic3RhdGVQcm92aWRlci5qcyIsImNvbnN0YW50cy5qcyIsImZpbHRlcnMuanMiLCJtYWluQ29udHJvbGxlci5qcyIsIm5hdkNvbnRyb2xsZXIuanMiLCJwb3N0Q29udHJvbGxlci5qcyIsInBvc3RTZXJ2aWNlLmpzIiwiZmluZFVzZXJDb250cm9sbGVyLmpzIiwidXNlckNvbnRyb2xsZXIuanMiLCJ1c2VyU2VydmljZS5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRzdGF0ZSIsImF1dGgiLCJyZWdleCIsInVzZXIiLCJtZXNzYWdlcyIsIlVTRVJfUkVHRVgiLCJWQUxJRF9VU0VSIiwiUEFTU19SRUdFWCIsIlZBTElEX1BBU1NXT1JEIiwicmVnaXN0ZXIiLCJ1c2VybmFtZSIsInRlc3QiLCJwYXNzd29yZCIsInZlcmlmeVBhc3MiLCJlcnJvciIsImVyciIsInRoZW4iLCJnbyIsImxvZ0luIiwiY2hhbmdlUGFzc3dvcmQiLCJjdXJyZW50VXNlciIsImN1cnJlbnRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwidmVyaWZ5TmV3UGFzc3dvcmQiLCJzdWNjZXNzIiwiZmFjdG9yeSIsIiRodHRwIiwiJHdpbmRvdyIsImF1dGhTZXJ2aWNlIiwic2F2ZVRva2VuIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRUb2tlbiIsImlzTG9nZ2VkSW4iLCJwYXlsb2FkIiwiSlNPTiIsInBhcnNlIiwiYXRvYiIsInNwbGl0IiwiZXhwIiwiRGF0ZSIsIm5vdyIsImlzQWRtaW4iLCJwb3N0IiwiZGF0YSIsImxvZ091dCIsInJlbW92ZUl0ZW0iLCJwdXQiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiR1cmxSb3V0ZXJQcm92aWRlciIsInN0YXRlIiwidXJsIiwidGVtcGxhdGVVcmwiLCJyZXNvbHZlIiwicG9zdFByb21pc2UiLCJwb3N0cyIsImdldEFsbCIsIiRzdGF0ZVBhcmFtcyIsImdldCIsImlkIiwib25FbnRlciIsInVzZXJQb3N0cyIsImdldFBvc3RzQnlVc2VyIiwidXNlclByb21pc2UiLCJnZXRBbGxVc2VyIiwib3RoZXJ3aXNlIiwiY29uc3RhbnQiLCJWQUxJRF9MSU5LX1JFUVVJUkVEX1BST1RPQ09MIiwiVkFMSURfTElOS19OT1RfUkVRVUlSRURfUFJPVE9DT0wiLCJWQUxJRF9FTUFJTCIsImZpbHRlciIsImxpbmsiLCJWQUxJRF9MSU5LIiwiYWxscG9zdHMiLCJzb3J0T3JkZXIiLCJzb3J0T3B0aW9ucyIsIm5hbWUiLCJvcmRlciIsInBvc3RzUGVyUGFnZSIsImN1cnJlbnRQYWdlIiwiZWRpdGluZyIsImN1cnJlbnRMaWtlIiwic2V0T3JkZXIiLCJhZGRQb3N0IiwibmV3dGl0bGUiLCJuZXdsaW5rIiwiY3JlYXRlIiwidGl0bGUiLCJkYXRlIiwibW92ZVRvVG9wIiwic2Nyb2xsVG8iLCJsaWtlX3VubGlrZSIsInVzZXJzTGlrZWQiLCJpbmRleE9mIiwibGlrZSIsInB1c2giLCJwb2ludHMiLCJ1bmxpa2UiLCJpbmRleCIsInNwbGljZSIsImRpc2xpa2VfdW5kaXNsaWtlIiwidXNlcnNEaXNsaWtlZCIsImRpc2xpa2UiLCJ1bmRpc2xpa2UiLCJsaWtlVG9vbHRpcFRleHQiLCJkaXNsaWtlVG9vbHRpcFRleHQiLCJlZGl0IiwiY3VycmVudCIsInNhdmUiLCJ1cGRhdGVkUG9zdCIsIl9pZCIsImNvbmZpcm0iLCJyZXNldCIsImJ1dHRvbiIsImN1cnJlbnRDb21tZW50IiwiYWRkQ29tbWVudCIsImJvZHkiLCJjb21tZW50IiwiY29tbWVudHMiLCJsaWtlX3VubGlrZUNvbW1lbnQiLCJsaWtlQ29tbWVudCIsInVubGlrZUNvbW1lbnQiLCJkaXNsaWtlX3VuZGlzbGlrZUNvbW1lbnQiLCJkaXNsaWtlQ29tbWVudCIsInVuZGlzbGlrZUNvbW1lbnQiLCJkZWxldGVDb21tZW50IiwiZWRpdENvbW1lbnQiLCJoZWlnaHRTdHIiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJzY3JvbGxIZWlnaHQiLCJ0b1N0cmluZyIsImhlaWdodCIsInBhcnNlSW50Iiwic3Vic3RyIiwibGVuZ3RoIiwicXVlcnlTZWxlY3RvciIsInNlbGVjdCIsInNhdmVDb21tZW50IiwicG9zdFNlcnZpY2UiLCJjb3B5IiwicmVzcG9uc2UiLCJnZXRBbGxQb3N0SWRzIiwibWFwIiwiaXRlbSIsImhlYWRlcnMiLCJBdXRob3JpemF0aW9uIiwicmVzIiwicG9zdEluZGV4IiwiY29tbWVudEluZGV4IiwidXNlcnMiLCJmaW5kVXNlciIsInVzciIsImRlbGV0ZVVzZXIiLCJ1c2VyU2VydmljZSIsIm1ldGhvZCJdLCJtYXBwaW5ncyI6IkFBQUFBLFFBQUFDLE9BQUEsYUFDQSxlQUNBLFlBQ0Esd0NBQ0EsaUNBQ0Esc0JBQ0Esb0JBQ0EseUJBQ0EsNEJBQ0EseUJBQ0EseUNBQ0Esc0NBQ0EsZ0NBQ0EseUJBQ0Esc0NBQ0EsbUNDZkFELFFBQUFDLE9BQUEsZ0NBQ0FDLFdBQUEsWUFBQSxTQUFBLFNBQUEsT0FBQSxVQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FILEVBQUFJLFFBQ0FKLEVBQUFLLFdBQ0EsSUFBQUMsR0FBQUgsRUFBQUksV0FDQUMsRUFBQUwsRUFBQU0sY0FFQVQsR0FBQVUsU0FBQSxXQUNBVixFQUFBSSxLQUFBTyxTQUdBTCxFQUFBTSxLQUFBWixFQUFBSSxLQUFBTyxVQUdBWCxFQUFBSSxLQUFBUyxTQUdBTCxFQUFBSSxLQUFBWixFQUFBSSxLQUFBUyxVQUdBYixFQUFBSSxLQUFBVSxXQUdBZCxFQUFBSSxLQUFBUyxVQUFBYixFQUFBSSxLQUFBVSxXQUNBZCxFQUFBSyxTQUFBVSxNQUFBLHNCQUdBYixFQUNBUSxTQUFBVixFQUFBSSxNQUNBVyxNQUFBLFNBQUFDLEdBQ0FoQixFQUFBSyxTQUFBVyxJQUVBQyxLQUFBLFdBQ0FoQixFQUFBaUIsR0FBQSxVQVpBbEIsRUFBQUssU0FBQVUsTUFBQSw4QkFIQWYsRUFBQUssU0FBQVUsTUFBQSxn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RyxJQUFBLG1CQUFBcUcsS0FJQUUsRUFBQTFGLFdBQUEsV0FDQSxNQUFBdkMsSUFDQWtJLE9BQUEsTUFDQXhHLElBQUEsZUFDQTVCLFFBQUEsU0FBQStILEdBQ0EzSixRQUFBaUosS0FBQVUsRUFBQUksRUFBQUosVUFJQUksRUFBQUQsV0FBQSxTQUFBRCxHQUNBLEdBQUF0RCxHQUFBd0QsRUFBQUosTUFBQVAsSUFBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUF2SSxXQUNBb0YsUUFBQTJELEVBQUEvSSxTQUdBLE9BRkFpSixHQUFBSixNQUFBbkQsT0FBQUQsRUFBQSxHQUVBekUsRUFBQUEsVUFBQSxpQkFBQStILEVBQUEvSSxTQUFBLE1BQ0F3SSxTQUFBQyxjQUFBLFVBQUFsSixFQUFBK0IsZUFLQTJIIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrXCIsIFtcclxuXHQndWkuYm9vdHN0cmFwJyxcclxuXHQndWkucm91dGVyJyxcclxuXHRcImFuZ3VsYXJVdGlscy5kaXJlY3RpdmVzLmRpclBhZ2luYXRpb25cIixcclxuXHRcIm15TmV0d29yay5jb25maWcuc3RhdGVQcm92aWRlclwiLFxyXG5cdFwibXlOZXR3b3JrLmNvbnN0YW50c1wiLFxyXG5cdFwibXlOZXR3b3JrLmZpbHRlcnNcIixcclxuXHRcIm15TmV0d29yay5hdXRoLnNlcnZpY2VcIixcclxuXHRcIm15TmV0d29yay5hdXRoLmNvbnRyb2xsZXJcIixcclxuXHRcIm15TmV0d29yay5wb3N0LnNlcnZpY2VcIixcclxuXHRcIm15TmV0d29yay5wb3N0LnZpZXdjb21tZW50cy5jb250cm9sbGVyXCIsXHJcblx0XCJteU5ldHdvcmsuaG9tZS52aWV3cG9zdHMuY29udHJvbGxlclwiLFxyXG5cdFwibXlOZXR3b3JrLmhvbWUubmF2LmNvbnRyb2xsZXJcIixcclxuXHRcIm15TmV0d29yay51c2VyLnNlcnZpY2VcIixcclxuXHRcIm15TmV0d29yay51c2VyLnZpZXdwb3N0cy5jb250cm9sbGVyXCIsXHJcblx0XCJteU5ldHdvcmsudXNlci5maW5kLmNvbnRyb2xsZXJcIlxyXG5cdF0pO1xyXG5cdFxyXG5cdFxyXG5cclxuXHRcclxuXHJcblx0XHJcblxyXG5cdFxyXG5cclxuXHRcclxuXHJcblx0IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuYXV0aC5jb250cm9sbGVyXCIsIFtdKVxyXG5cdC5jb250cm9sbGVyKCdBdXRoQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsICdhdXRoJywgJ1JFR0VYUFMnLCBmdW5jdGlvbigkc2NvcGUsICRzdGF0ZSwgYXV0aCwgcmVnZXgpe1xyXG5cdFx0JHNjb3BlLnVzZXIgPSB7fTtcclxuXHRcdCRzY29wZS5tZXNzYWdlcyA9IHt9O1xyXG4gICAgICB2YXIgVVNFUl9SRUdFWCA9IHJlZ2V4LlZBTElEX1VTRVI7XHJcbiAgICAgIHZhciBQQVNTX1JFR0VYID0gcmVnZXguVkFMSURfUEFTU1dPUkQ7XHJcblxyXG5cdFx0JHNjb3BlLnJlZ2lzdGVyID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgaWYgKCEkc2NvcGUudXNlci51c2VybmFtZSkge1xyXG4gICAgICAgICBcdCRzY29wZS5tZXNzYWdlcy5lcnJvciA9IFwiQuG6oW4gY2jGsGEgbmjhuq1wIFTDqm4gbmfGsOG7nWkgZMO5bmchXCI7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2UgaWYgKCFVU0VSX1JFR0VYLnRlc3QoJHNjb3BlLnVzZXIudXNlcm5hbWUpKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5lcnJvciA9IFwiVMOqbiBuZ8aw4budaSBkw7luZyB04burIDUgxJHhur9uIDIwIGvDrSB04buxLCBraMO0bmcgY2jhu6lhIGtob+G6o25nIHRy4bqvbmcgdsOgIGvDrSB04buxIMSR4bq3YyBiaeG7h3QgKFxcXFwgLyBgIFxcXCIgJyAjIH4pIVwiO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIGlmICghJHNjb3BlLnVzZXIucGFzc3dvcmQpIHtcclxuICAgICAgICAgXHQkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSBcIkLhuqFuIGNoxrBhIG5o4bqtcCBt4bqtdCBraOG6qXUgKMOtdCBuaOG6pXQgOCBrw60gdOG7sSkhXCI7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2UgaWYgKCFQQVNTX1JFR0VYLnRlc3QoJHNjb3BlLnVzZXIucGFzc3dvcmQpKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5lcnJvciA9IFwiTeG6rXQga2jhuql1IGPhuqduIMOtdCBuaOG6pXQgOCBrw60gdOG7sSFcIjtcclxuICAgICAgICAgfSBcclxuICAgICAgICAgZWxzZSBpZiAoISRzY29wZS51c2VyLnZlcmlmeVBhc3MpIHtcclxuICAgICAgICAgXHQkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSBcIkLhuqFuIGNoxrBhIG5o4bqtcCBs4bqhaSBt4bqtdCBraOG6qXUhXCI7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2UgaWYgKCRzY29wZS51c2VyLnBhc3N3b3JkICE9ICRzY29wZS51c2VyLnZlcmlmeVBhc3MpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzLmVycm9yID0gXCJN4bqtdCBraOG6qXUgY2jGsGEga2jhu5twIVwiO1xyXG4gICAgICAgICB9IFxyXG4gICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgYXV0aFxyXG4gICAgICAgICBcdFx0LnJlZ2lzdGVyKCRzY29wZS51c2VyKVxyXG4gICAgICAgICBcdFx0LmVycm9yKGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgIFx0XHRcdCRzY29wZS5tZXNzYWdlcyA9IGVycjtcclxuICAgICAgICAgXHRcdH0pXHJcbiAgICAgICAgIFx0XHQudGhlbihmdW5jdGlvbigpe1xyXG5cdCAgICAgICAgIFx0XHQkc3RhdGUuZ28oXCJob21lXCIpO1xyXG5cdCAgICAgICAgIFx0fSk7XHJcbiAgICAgICAgIH1cclxuXHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHQkc2NvcGUubG9nSW4gPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZiAoISRzY29wZS51c2VyLnVzZXJuYW1lICYmICEkc2NvcGUudXNlci5wYXNzd29yZCkge1xyXG5cdFx0XHRcdCRzY29wZS5tZXNzYWdlcy5lcnJvciA9IFwiQuG6oW4gY2jGsGEgbmjhuq1wIHTDqm4gbmfGsOG7nWkgZMO5bmcgaG/hurdjIG3huq10IGto4bqpdSFcIjtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhdXRoXHJcblx0XHRcdFx0XHQubG9nSW4oJHNjb3BlLnVzZXIpXHJcblx0XHRcdFx0XHQuZXJyb3IoZnVuY3Rpb24oZXJyKXtcclxuXHRcdFx0XHRcdFx0JHNjb3BlLm1lc3NhZ2VzID0gZXJyO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC50aGVuKGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnaG9tZScpO1xyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG4gICAgICAkc2NvcGUuY2hhbmdlUGFzc3dvcmQgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAkc2NvcGUudXNlci51c2VybmFtZSA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuICAgICAgICAgaWYgKCEkc2NvcGUudXNlci5jdXJyZW50UGFzc3dvcmQgfHwgISRzY29wZS51c2VyLm5ld1Bhc3N3b3JkIHx8ICEkc2NvcGUudXNlci52ZXJpZnlOZXdQYXNzd29yZCkge1xyXG4gICAgICAgICAgICAkc2NvcGUubWVzc2FnZXMuZXJyb3IgPSAnQuG6oW4gY2jGsGEgbmjhuq1wIHTDqm4gbmfGsOG7nWkgZMO5bmcgaG/hurdjIG3huq10IGto4bqpdSEnO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIGVsc2UgaWYgKCFQQVNTX1JFR0VYLnRlc3QoJHNjb3BlLnVzZXIubmV3UGFzc3dvcmQpKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5lcnJvciA9ICdN4bqtdCBraOG6qXUgY+G6p24gw610IG5o4bqldCA4IGvDrSB04buxISc7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2UgaWYgKCRzY29wZS51c2VyLm5ld1Bhc3N3b3JkICE9ICRzY29wZS51c2VyLnZlcmlmeU5ld1Bhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5lcnJvciA9ICdN4bqtdCBraOG6qXUgY2jGsGEga2jhu5twISc7XHJcbiAgICAgICAgIH0gXHJcbiAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhdXRoXHJcbiAgICAgICAgICAgICAgIC5jaGFuZ2VQYXNzd29yZCgkc2NvcGUudXNlcilcclxuICAgICAgICAgICAgICAgLmVycm9yKGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcyA9IGVycjtcclxuICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2VzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS51c2VyID0ge307XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlcy5zdWNjZXNzID0gXCLEkMOjIGPhuq1wIG5o4bqtdCBt4bqtdCBraOG6qXUhXCI7XHJcbiAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIFxyXG4gICAgICB9O1xyXG5cdH1dKTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5hdXRoLnNlcnZpY2VcIiwgW10pXHJcblx0LmZhY3RvcnkoJ2F1dGgnLCBbJyRodHRwJywgJyR3aW5kb3cnLCAnJHN0YXRlJywgZnVuY3Rpb24oJGh0dHAsICR3aW5kb3csICRzdGF0ZSl7XHJcblx0XHR2YXIgYXV0aFNlcnZpY2UgPSB7fTtcclxuXHRcdFxyXG5cdFx0YXV0aFNlcnZpY2Uuc2F2ZVRva2VuID0gZnVuY3Rpb24odG9rZW4pe1xyXG5cdFx0XHQkd2luZG93LmxvY2FsU3RvcmFnZVsnbXktc29jaWFsLXRva2VuJ10gPSB0b2tlbjtcclxuXHRcdH07XHJcblxyXG5cdFx0YXV0aFNlcnZpY2UuZ2V0VG9rZW4gPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRyZXR1cm4gJHdpbmRvdy5sb2NhbFN0b3JhZ2VbJ215LXNvY2lhbC10b2tlbiddO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0YXV0aFNlcnZpY2UuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciB0b2tlbiA9IGF1dGhTZXJ2aWNlLmdldFRva2VuKCk7XHJcblxyXG5cdFx0XHRpZiAodG9rZW4pIHtcclxuXHRcdFx0XHR2YXIgcGF5bG9hZCA9IEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKHRva2VuLnNwbGl0KCcuJylbMV0pKTtcclxuXHRcdFx0XHRyZXR1cm4gKHBheWxvYWQuZXhwID4gRGF0ZS5ub3coKS8xMDAwKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0YXV0aFNlcnZpY2UuY3VycmVudFVzZXIgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZiAoYXV0aFNlcnZpY2UuaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHRva2VuID0gYXV0aFNlcnZpY2UuZ2V0VG9rZW4oKTtcclxuXHRcdFx0XHR2YXIgcGF5bG9hZCA9IEpTT04ucGFyc2UoJHdpbmRvdy5hdG9iKHRva2VuLnNwbGl0KCcuJylbMV0pKTtcclxuXHRcdFx0XHRyZXR1cm4gcGF5bG9hZC51c2VybmFtZTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRhdXRoU2VydmljZS5pc0FkbWluID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYgKGF1dGhTZXJ2aWNlLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB0b2tlbiA9IGF1dGhTZXJ2aWNlLmdldFRva2VuKCk7XHJcblx0XHRcdFx0dmFyIHBheWxvYWQgPSBKU09OLnBhcnNlKCR3aW5kb3cuYXRvYih0b2tlbi5zcGxpdCgnLicpWzFdKSk7XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0cmV0dXJuIHBheWxvYWQuaXNBZG1pbjtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRhdXRoU2VydmljZS5yZWdpc3RlciA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy91c2Vycy9yZWdpc3RlcicsIHVzZXIpLnN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSl7XHJcblx0XHRcdFx0YXV0aFNlcnZpY2Uuc2F2ZVRva2VuKGRhdGEudG9rZW4pO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblx0XHRcclxuXHRcdGF1dGhTZXJ2aWNlLmxvZ0luID0gZnVuY3Rpb24odXNlcikge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucG9zdCgnL3VzZXJzL2xvZ2luJywgdXNlcikuc3VjY2VzcyhmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0XHRhdXRoU2VydmljZS5zYXZlVG9rZW4oZGF0YS50b2tlbik7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRhdXRoU2VydmljZS5sb2dPdXQgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHQkd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdteS1zb2NpYWwtdG9rZW4nKTtcclxuXHRcdFx0JHN0YXRlLmdvKCdob21lJyk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGF1dGhTZXJ2aWNlLmNoYW5nZVBhc3N3b3JkID0gZnVuY3Rpb24odXNlcikge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvdXNlcnMvY2hhbmdlUGFzc3dvcmQnLCB1c2VyKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdGF1dGhTZXJ2aWNlLnNhdmVUb2tlbihkYXRhLnRva2VuKTtcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZyhkYXRhLnRva2VuKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHJldHVybiBhdXRoU2VydmljZTtcclxuXHR9XSk7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuY29uZmlnLnN0YXRlUHJvdmlkZXJcIiwgWyd1aS5yb3V0ZXInXSlcclxuXHQuY29uZmlnKFtcIiRzdGF0ZVByb3ZpZGVyXCIsIFwiJHVybFJvdXRlclByb3ZpZGVyXCIsIGZ1bmN0aW9uKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpe1xyXG5cdFx0JHN0YXRlUHJvdmlkZXJcclxuXHRcdFx0LnN0YXRlKCdob21lJywge1xyXG5cdFx0XHRcdHVybDogXCIvaG9tZVwiLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiBcInRlbXBsYXRlcy9ob21lLmh0bWxcIixcclxuXHRcdFx0XHRjb250cm9sbGVyOiBcIlZpZXdQb3N0c0N0cmxcIixcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRyZXNvbHZlOiB7XHJcblx0XHRcdFx0XHRwb3N0UHJvbWlzZTogWydwb3N0cycsIGZ1bmN0aW9uKHBvc3RzKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHBvc3RzLmdldEFsbCgpO1xyXG5cdFx0XHRcdFx0fV1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHRcclxuXHRcdFx0LnN0YXRlKCdwb3N0cycsIHtcclxuXHRcdFx0XHR1cmw6IFwiL3Bvc3RzL3tpZH1cIixcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogXCJ0ZW1wbGF0ZXMvcG9zdHMuaHRtbFwiLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6IFwiVmlld0NvbW1lbnRzQ3RybFwiLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdHBvc3Q6IFsnJHN0YXRlUGFyYW1zJywgJ3Bvc3RzJywgZnVuY3Rpb24oJHN0YXRlUGFyYW1zLCBwb3N0cyl7XHJcblx0XHRcdFx0XHRcdHJldHVybiBwb3N0cy5nZXQoJHN0YXRlUGFyYW1zLmlkKTtcclxuXHRcdFx0XHRcdH1dXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0LnN0YXRlKCdsb2dpbicsIHtcclxuXHRcdFx0XHR1cmw6IFwiL2xvZ2luXCIsXHJcblx0XHRcdFx0dGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZXMvbG9naW4uaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ0F1dGhDdHJsJyxcclxuXHRcdFx0XHRvbkVudGVyOiBbJyRzdGF0ZScsICdhdXRoJywgZnVuY3Rpb24oJHN0YXRlLCBhdXRoKXtcclxuXHRcdFx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oJ2hvbWUnKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0LnN0YXRlKCdyZWdpc3RlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvcmVnaXN0ZXInLCBcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9yZWdpc3Rlci5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnQXV0aEN0cmwnLFxyXG5cdFx0XHRcdG9uRW50ZXI6IFsnJHN0YXRlJywgJ2F1dGgnLCBmdW5jdGlvbigkc3RhdGUsIGF1dGgpe1xyXG5cdFx0XHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0XHRcdCRzdGF0ZS5nbygnaG9tZScpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1dXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHQuc3RhdGUoJ3VzZXInLCB7XHJcblx0XHRcdFx0dXJsOiAnL3VzZXJzL3t1c2VybmFtZX0nLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL3VzZXIuaHRtbCcsXHJcblx0XHRcdFx0Y29udHJvbGxlcjogJ1ZpZXdVc2VyUG9zdHNDdHJsJyxcclxuXHRcdFx0XHRvbkVudGVyOiBbXCIkc3RhdGVcIiwgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uKCRzdGF0ZSwgJHN0YXRlUGFyYW1zKXtcclxuXHRcdFx0XHRcdGlmICghJHN0YXRlUGFyYW1zLnVzZXJuYW1lKSB7XHJcblx0XHRcdFx0XHRcdCRzdGF0ZS5nbyhcImhvbWVcIik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fV0sXHJcblx0XHRcdFx0cmVzb2x2ZToge1xyXG5cdFx0XHRcdFx0dXNlclBvc3RzOiBbJ3Bvc3RzJywgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uKHBvc3RzLCAkc3RhdGVQYXJhbXMpe1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gcG9zdHMuZ2V0UG9zdHNCeVVzZXIoJHN0YXRlUGFyYW1zLnVzZXJuYW1lKTtcclxuXHRcdFx0XHRcdH1dXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0LnN0YXRlKCdmaW5kVXNlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvZmluZFVzZXInLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2ZpbmRVc2VyLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdGaW5kVXNlckN0cmwnLFxyXG5cdFx0XHRcdG9uRW50ZXI6IFsnJHN0YXRlJywgJ2F1dGgnLCBmdW5jdGlvbigkc3RhdGUsIGF1dGgpe1xyXG5cdFx0XHRcdFx0aWYgKCFhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oXCJob21lXCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1dXHJcblxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0LnN0YXRlKCdsaXN0VXNlcicsIHtcclxuXHRcdFx0XHR1cmw6ICcvbGlzdFVzZXInLFxyXG5cdFx0XHRcdHRlbXBsYXRlVXJsOiAndGVtcGxhdGVzL2xpc3RVc2VyLmh0bWwnLFxyXG5cdFx0XHRcdGNvbnRyb2xsZXI6ICdGaW5kVXNlckN0cmwnLFxyXG5cdFx0XHRcdHJlc29sdmU6IHtcclxuXHRcdFx0XHRcdHVzZXJQcm9taXNlOiBbJ3VzZXInLCBmdW5jdGlvbih1c2VyKXtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHVzZXIuZ2V0QWxsVXNlcigpO1xyXG5cdFx0XHRcdFx0fV1cclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdG9uRW50ZXI6IFsnJHN0YXRlJywgJ2F1dGgnLCBmdW5jdGlvbigkc3RhdGUsIGF1dGgpe1xyXG5cdFx0XHRcdFx0aWYgKCAhYXV0aC5pc0xvZ2dlZEluKCkgfHwgKGF1dGguaXNMb2dnZWRJbigpICYmICFhdXRoLmlzQWRtaW4oKSkgKSB7XHJcblx0XHRcdFx0XHRcdCRzdGF0ZS5nbyhcImhvbWVcIik7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fV1cclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdC5zdGF0ZSgnY2hhbmdlUGFzc3dvcmQnLCB7XHJcblx0XHRcdFx0dXJsOiAnL2NoYW5nZVBhc3N3b3JkJyxcclxuXHRcdFx0XHR0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlcy9jaGFuZ2VQYXNzd29yZC5odG1sJyxcclxuXHRcdFx0XHRjb250cm9sbGVyOiAnQXV0aEN0cmwnLFxyXG5cdFx0XHRcdG9uRW50ZXI6IFsnJHN0YXRlJywgJ2F1dGgnLCBmdW5jdGlvbigkc3RhdGUsIGF1dGgpe1xyXG5cdFx0XHRcdFx0aWYgKCFhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdFx0XHQkc3RhdGUuZ28oXCJob21lXCIpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1dXHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCJob21lXCIpO1xyXG5cdH1dKTtcclxuIiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuY29uc3RhbnRzXCIsIFtdKVxyXG5cdC5jb25zdGFudCgnUkVHRVhQUycsIHtcclxuXHRcdFZBTElEX0xJTktfUkVRVUlSRURfUFJPVE9DT0w6IC9eKChodHRwc3xodHRwfGZ0cClcXDpcXC9cXC8pKFt3fFddezN9XFwuKT9bYS16QS1aMC05XFwtXFwuXXszLH1cXC5bYS16QS1aXXsyLH0oXFwuW2EtekEtWl17Mix9KT8oKFxcL1thLXpBLVowLTldKikrKFxcLlthLXpBLVowLTldezIsNH0pKT8vLFxyXG5cdFx0VkFMSURfTElOS19OT1RfUkVRVUlSRURfUFJPVE9DT0w6IC9eKChodHRwc3xodHRwfGZ0cClcXDpcXC9cXC8pPyhbd3xXXXszfVxcLik/W2EtekEtWjAtOVxcLVxcLl17Myx9XFwuW2EtekEtWl17Mix9KFxcLlthLXpBLVpdezIsfSk/KChcXC9bYS16QS1aMC05XSopKyhcXC5bYS16QS1aMC05XXsyLDR9KSk/LyxcclxuXHRcdFZBTElEX1VTRVI6IC9eW2EtekEtWjAtOV9cXC5dezUsMjB9JC8sXHJcblx0XHRWQUxJRF9QQVNTV09SRDogL14uezgsfSQvLFxyXG5cdFx0VkFMSURfRU1BSUw6IC9eW2EtekEtWl0rW1xcLjAtOV9dK0BbYS16MC05XStcXC5bYS16XXsyLDR9JC9cclxuXHR9KTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5maWx0ZXJzXCIsIFtdKVxyXG5cdC5maWx0ZXIoJ2xpbmsnLCBbJ1JFR0VYUFMnLCBmdW5jdGlvbihyZWdleCl7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24obGluayl7XHJcblx0XHRcdHZhciBWQUxJRF9MSU5LID0gcmVnZXguVkFMSURfTElOS19SRVFVSVJFRF9QUk9UT0NPTDtcclxuXHRcdFx0aWYgKFZBTElEX0xJTksudGVzdChsaW5rKSkge1xyXG5cdFx0XHRcdHJldHVybiBsaW5rO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiAnaHR0cHM6Ly8nICsgbGluaztcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XSlcclxuXHQ7IiwiYW5ndWxhci5tb2R1bGUoXCJteU5ldHdvcmsuaG9tZS52aWV3cG9zdHMuY29udHJvbGxlclwiLCBbXSlcclxuXHQuY29udHJvbGxlcihcIlZpZXdQb3N0c0N0cmxcIiwgW1wiJHNjb3BlXCIsIFwiJHdpbmRvd1wiLCBcInBvc3RzXCIsICdhdXRoJywgJ1JFR0VYUFMnLCBmdW5jdGlvbigkc2NvcGUsICR3aW5kb3csIHBvc3RzLCBhdXRoLCByZWdleCl7XHJcblx0XHRcclxuXHRcdCRzY29wZS5pc0xvZ2dlZEluID0gYXV0aC5pc0xvZ2dlZEluO1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRVc2VyID0gYXV0aC5jdXJyZW50VXNlcjtcclxuXHRcdCRzY29wZS5sb2dPdXQgPSBhdXRoLmxvZ091dDtcclxuXHRcdCRzY29wZS5pc0FkbWluID0gYXV0aC5pc0FkbWluO1xyXG5cdFx0JHNjb3BlLmFsbHBvc3RzID0gcG9zdHMucG9zdHM7XHJcblx0XHQkc2NvcGUuc29ydE9yZGVyID0gJy1kYXRlJztcclxuXHRcdCRzY29wZS5zb3J0T3B0aW9ucyA9IFtcclxuXHRcdFx0eyBuYW1lOiAnTeG7m2kgbmjhuqV0Jywgb3JkZXI6ICctZGF0ZScgfSxcclxuXHRcdFx0eyBuYW1lOiAnTmhp4buBdSBsaWtlIG5o4bqldCcsIG9yZGVyOiAnLXVzZXJzTGlrZWQubGVuZ3RoJ30sXHJcblx0XHRcdHsgbmFtZTogJ05oaeG7gXUgYsOsbmggbHXhuq1uIG5o4bqldCcsIG9yZGVyOiAnLWNvbW1lbnRzLmxlbmd0aCd9XHRcdFxyXG5cdFx0XTtcclxuXHRcdCRzY29wZS5wb3N0c1BlclBhZ2UgPSAxMDtcclxuXHRcdCRzY29wZS5jdXJyZW50UGFnZSA9IDE7XHJcblx0XHRcclxuXHRcdCRzY29wZS5lcnJvciA9ICcnO1xyXG5cdFx0JHNjb3BlLmVkaXRpbmcgPSB7fTtcclxuXHRcdCRzY29wZS5jdXJyZW50TGlrZSA9IGZhbHNlO1xyXG5cdFx0dmFyIFZBTElEX0xJTksgPSByZWdleC5WQUxJRF9MSU5LX05PVF9SRVFVSVJFRF9QUk9UT0NPTDtcclxuXHJcblx0XHQkc2NvcGUuc2V0T3JkZXIgPSBmdW5jdGlvbihvcmRlcikge1xyXG5cdFx0XHQkc2NvcGUuc29ydE9yZGVyID0gb3JkZXI7XHJcblx0XHR9O1xyXG5cdFx0JHNjb3BlLmFkZFBvc3QgPSBmdW5jdGlvbigpe1xyXG5cdFx0XHRpZiAoISRzY29wZS5uZXd0aXRsZSkge1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICdC4bqhbiBjaMawYSBuaOG6rXAgbuG7mWkgZHVuZyEnO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCRzY29wZS5uZXdsaW5rICYmICFWQUxJRF9MSU5LLnRlc3QoJHNjb3BlLm5ld2xpbmspKSB7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gJ0xpbmsga2jDtG5nIGjhu6NwIGzhu4chJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKFwidmFsaWQgcG9zdFwiKTtcclxuXHRcdFx0XHRwb3N0cy5jcmVhdGUoe1xyXG5cdFx0XHRcdFx0dGl0bGU6ICRzY29wZS5uZXd0aXRsZSxcclxuXHRcdFx0XHRcdGxpbms6ICRzY29wZS5uZXdsaW5rLFxyXG5cdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdCRzY29wZS5uZXd0aXRsZSA9ICcnO1xyXG5cdFx0XHRcdCRzY29wZS5uZXdsaW5rID0gJyc7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLm1vdmVUb1RvcCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHQkd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUubGlrZV91bmxpa2UgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRcdHBvc3RzLmxpa2UocG9zdCk7XHJcblx0XHRcdFx0XHRwb3N0LnVzZXJzTGlrZWQucHVzaCh1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QucG9pbnRzKz0yO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwb3N0cy51bmxpa2UocG9zdCk7XHJcblx0XHRcdFx0XHR2YXIgaW5kZXggPSBwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNMaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMtPTI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kaXNsaWtlX3VuZGlzbGlrZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpID09PSAtMSkge1xyXG5cdFx0XHRcdFx0cG9zdHMuZGlzbGlrZShwb3N0KTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNEaXNsaWtlZC5wdXNoKHVzZXIpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMtLTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cG9zdHMudW5kaXNsaWtlKHBvc3QpO1xyXG5cdFx0XHRcdFx0dmFyIGluZGV4ID0gcG9zdC51c2Vyc0Rpc2xpa2VkLmluZGV4T2YodXNlcik7XHJcblx0XHRcdFx0XHRwb3N0LnVzZXJzRGlzbGlrZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdHBvc3QucG9pbnRzKys7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5saWtlVG9vbHRpcFRleHQgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIkLhu48gdGjDrWNoXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIlRow61jaFwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gXCLEkMSDbmcgbmjhuq1wIMSR4buDIHRow61jaCBiw6BpIHZp4bq/dCFcIjtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZGlzbGlrZVRvb2x0aXBUZXh0ID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRpZiAoYXV0aC5pc0xvZ2dlZEluKCkpIHtcclxuXHRcdFx0XHR2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuXHRcdFx0XHRpZiAocG9zdC51c2Vyc0Rpc2xpa2VkLmluZGV4T2YodXNlcikgIT09IC0xKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJC4buPIGtow7RuZyB0aMOtY2hcIjtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiS2jDtG5nIHRow61jaFwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gXCLEkMSDbmcgbmjhuq1wIMSR4buDIGtow7RuZyB0aMOtY2ggYsOgaSB2aeG6v3QhXCI7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmVkaXQgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdCRzY29wZS5lZGl0aW5nLmN1cnJlbnQgPSBbcG9zdCwgdHJ1ZV07XHJcblx0XHRcdCRzY29wZS50aXRsZSA9ICRzY29wZS5lZGl0aW5nLmN1cnJlbnRbMF0udGl0bGU7XHJcblx0XHRcdCRzY29wZS5saW5rID0gJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS5saW5rO1xyXG5cdFx0XHQkc2NvcGUubW92ZVRvVG9wKCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0XHJcblx0XHRcdGlmICghJHNjb3BlLnRpdGxlICYmICEkc2NvcGUubGluaykge1xyXG5cdFx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJDw7MgcGjhuqNpIGLhuqFuIG114buRbiB4w7NhIGLDoGkgdmnhur90IG7DoHk/XCIpKSB7XHJcblx0XHRcdFx0XHRwb3N0cy5kZWxldGUoJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXSk7XHJcblx0XHRcdFx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0XHRcdFx0JHNjb3BlLmVycm9yID0gJyc7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKCEkc2NvcGUudGl0bGUpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnQuG6oW4gY2jGsGEgbmjhuq1wIG7hu5lpIGR1bmchJztcclxuXHRcdFx0fSBlbHNlIGlmICgkc2NvcGUubGluayAmJiAhVkFMSURfTElOSy50ZXN0KCRzY29wZS5saW5rKSkge1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICdMaW5rIGtow7RuZyBo4bujcCBs4buHISc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Ly8gY29uc29sZS5sb2coJHNjb3BlLnRpdGxlKTtcclxuXHRcdFx0XHQvLyBjb25zb2xlLmxvZygkc2NvcGUubGluayk7XHJcblx0XHRcdFx0dmFyIHVwZGF0ZWRQb3N0ID0ge1xyXG5cdFx0XHRcdFx0X2lkOiAkc2NvcGUuZWRpdGluZy5jdXJyZW50WzBdLl9pZCxcclxuXHRcdFx0XHRcdHRpdGxlOiAkc2NvcGUudGl0bGUsXHJcblx0XHRcdFx0XHRsaW5rOiAkc2NvcGUubGluayxcclxuXHRcdFx0XHRcdGRhdGU6IG5ldyBEYXRlKClcclxuXHRcdFx0XHR9O1xyXG5cdFx0XHRcdC8vIGNvbnNvbGUubG9nKHVwZGF0ZWRQb3N0KTtcclxuXHRcdFx0XHRwb3N0cy5zYXZlKHVwZGF0ZWRQb3N0KTtcclxuXHRcdFx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICcnO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0XHJcblxyXG5cclxuXHRcdCRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCl7XHJcblx0XHRcdCRzY29wZS5lZGl0aW5nID0ge307XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kZWxldGUgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSBraMO0bmc/XCIpKSB7XHJcblx0XHRcdFx0cG9zdHMuZGVsZXRlKHBvc3QpO1xyXG5cdFx0XHR9XHRcdFx0XHJcblx0XHR9O1xyXG5cclxuXHJcblxyXG5cdH1dKTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay5ob21lLm5hdi5jb250cm9sbGVyXCIsIFtdKVxyXG5cdC5jb250cm9sbGVyKCdOYXZDdHJsJywgWyckc2NvcGUnLCAnYXV0aCcsIGZ1bmN0aW9uKCRzY29wZSwgYXV0aCl7XHJcblx0XHQkc2NvcGUuaXNMb2dnZWRJbiA9IGF1dGguaXNMb2dnZWRJbjtcclxuXHRcdCRzY29wZS5jdXJyZW50VXNlciA9IGF1dGguY3VycmVudFVzZXI7XHJcblx0XHQkc2NvcGUubG9nT3V0ID0gYXV0aC5sb2dPdXQ7XHJcblx0fV0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLnBvc3Qudmlld2NvbW1lbnRzLmNvbnRyb2xsZXJcIiwgW10pXHJcblx0LmNvbnRyb2xsZXIoXCJWaWV3Q29tbWVudHNDdHJsXCIsIFtcIiRzY29wZVwiLCBcInBvc3RzXCIsIFwicG9zdFwiLCAnYXV0aCcsICckd2luZG93JywgZnVuY3Rpb24oJHNjb3BlLCBwb3N0cywgcG9zdCwgYXV0aCwgJHdpbmRvdyl7XHJcblx0XHQkc2NvcGUucG9zdCA9IHBvc3Q7XHJcblx0XHQkc2NvcGUuZXJyb3IgPSAnJztcclxuXHRcdCRzY29wZS5idXR0b24gPSB7IG5hbWU6ICdDb21tZW50JyB9O1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRDb21tZW50ID0ge307XHJcblx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRQYWdlID0gMTtcclxuXHJcblx0XHQkc2NvcGUuaXNMb2dnZWRJbiA9IGF1dGguaXNMb2dnZWRJbjtcclxuXHRcdCRzY29wZS5hZGRDb21tZW50ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0aWYgKCRzY29wZS5ib2R5KSB7XHJcblx0XHRcdFx0cG9zdHMuYWRkQ29tbWVudChwb3N0Ll9pZCwge1xyXG5cdFx0XHRcdFx0Ym9keTogJHNjb3BlLmJvZHksXHJcblx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbihjb21tZW50KXtcclxuXHRcdFx0XHRcdCRzY29wZS5wb3N0LmNvbW1lbnRzLnNwbGljZSgwLCAwLCBjb21tZW50KTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSBudWxsO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCRzY29wZS5lcnJvciA9ICdC4bqhbiBjaMawYSBuaOG6rXAgbuG7mWkgZHVuZyBiw6xuaCBsdeG6rW4hJztcclxuXHRcdFx0fVxyXG5cdFx0XHQkc2NvcGUuYm9keSA9ICcnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUubGlrZV91bmxpa2VDb21tZW50ID0gZnVuY3Rpb24ocG9zdCwgY29tbWVudCkge1xyXG5cdFx0XHR2YXIgdXNlciA9IGF1dGguY3VycmVudFVzZXIoKTtcclxuXHRcdFx0aWYgKGNvbW1lbnQudXNlcnNMaWtlZC5pbmRleE9mKHVzZXIpID09PSAtMSkge1xyXG5cdFx0XHRcdHBvc3RzLmxpa2VDb21tZW50KHBvc3QsIGNvbW1lbnQpO1xyXG5cdFx0XHRcdGNvbW1lbnQudXNlcnNMaWtlZC5wdXNoKHVzZXIpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHBvc3RzLnVubGlrZUNvbW1lbnQocG9zdCwgY29tbWVudCk7XHJcblx0XHRcdFx0dmFyIGluZGV4ID0gY29tbWVudC51c2Vyc0xpa2VkLmluZGV4T2YodXNlcik7XHJcblx0XHRcdFx0Y29tbWVudC51c2Vyc0xpa2VkLnNwbGljZShpbmRleCwgMSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRpc2xpa2VfdW5kaXNsaWtlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdGlmIChjb21tZW50LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRwb3N0cy5kaXNsaWtlQ29tbWVudChwb3N0LCBjb21tZW50KTtcclxuXHRcdFx0XHRjb21tZW50LnVzZXJzRGlzbGlrZWQucHVzaCh1c2VyKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRwb3N0cy51bmRpc2xpa2VDb21tZW50KHBvc3QsIGNvbW1lbnQpO1xyXG5cdFx0XHRcdHZhciBpbmRleCA9IGNvbW1lbnQudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpO1xyXG5cdFx0XHRcdGNvbW1lbnQudXNlcnNEaXNsaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5saWtlVG9vbHRpcFRleHQgPSBmdW5jdGlvbihjb21tZW50KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChjb21tZW50LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIkLhu48gdGjDrWNoXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIlRow61jaFwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gXCLEkMSDbmcgbmjhuq1wIMSR4buDIHRow61jaCBiw6xuaCBsdeG6rW4hXCI7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmRpc2xpa2VUb29sdGlwVGV4dCA9IGZ1bmN0aW9uKGNvbW1lbnQpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKGNvbW1lbnQudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpICE9PSAtMSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFwiQuG7jyBraMO0bmcgdGjDrWNoXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIktow7RuZyB0aMOtY2hcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIFwixJDEg25nIG5o4bqtcCDEkeG7gyBraMO0bmcgdGjDrWNoIGLDrG5oIGx14bqtbiFcIjtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZGVsZXRlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0aWYgKCR3aW5kb3cuY29uZmlybShcIkLhuqFuIGPDsyBjaOG6r2MgY2jhuq9uIG114buRbiB4w7NhIGtow7RuZz9cIikpIHtcclxuXHRcdFx0XHRwb3N0cy5kZWxldGVDb21tZW50KHBvc3QsIGNvbW1lbnQpO1x0XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmVkaXRDb21tZW50ID0gZnVuY3Rpb24ocG9zdCwgY29tbWVudCkge1xyXG5cdFx0XHQkc2NvcGUuYnV0dG9uLm5hbWUgPSAnU2F2ZSc7XHJcblx0XHRcdCRzY29wZS5ib2R5ID0gY29tbWVudC5ib2R5O1xyXG5cdFx0XHQkc2NvcGUuY3VycmVudENvbW1lbnQgPSBjb21tZW50O1xyXG5cdFx0XHRcclxuXHRcdFx0dmFyIGhlaWdodFN0ciA9IGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCkudG9TdHJpbmcoKTtcclxuXHRcdFx0dmFyIGhlaWdodCA9IHBhcnNlSW50KGhlaWdodFN0ci5zdWJzdHIoMSwgaGVpZ2h0U3RyLmxlbmd0aCAtIDIpKTtcclxuXHRcdFx0JHdpbmRvdy5zY3JvbGxUbygwLCBoZWlnaHQpO1xyXG5cdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29tbWVudElucHV0Jykuc2VsZWN0KCk7XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5zYXZlID0gZnVuY3Rpb24ocG9zdCwgY29tbWVudCl7XHJcblx0XHRcdGlmICgkc2NvcGUuYm9keSkge1xyXG5cdFx0XHRcdHBvc3RzLnNhdmVDb21tZW50KHBvc3QsIHtcclxuXHRcdFx0XHRcdF9pZDogJHNjb3BlLmN1cnJlbnRDb21tZW50Ll9pZCxcclxuXHRcdFx0XHRcdGJvZHk6ICRzY29wZS5ib2R5LFxyXG5cdFx0XHRcdFx0ZGF0ZTogbmV3IERhdGUoKVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSBraMO0bmc/XCIpKSB7XHJcblx0XHRcdFx0XHRwb3N0cy5kZWxldGVDb21tZW50KHBvc3QsICRzY29wZS5jdXJyZW50Q29tbWVudCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdCRzY29wZS5idXR0b24ubmFtZSA9ICdDb21tZW50JztcclxuXHRcdFx0JHNjb3BlLmJvZHkgPSAnJztcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24oKXtcclxuXHRcdFx0JHNjb3BlLmJvZHkgPSAnJztcclxuXHRcdFx0JHNjb3BlLmJ1dHRvbi5uYW1lID0gJ0NvbW1lbnQnO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUubW92ZVRvVG9wID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdCR3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0fV0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLnBvc3Quc2VydmljZVwiLCBbXSlcclxuXHQuZmFjdG9yeShcInBvc3RzXCIsIFtcIiRodHRwXCIsIFwiYXV0aFwiLCBmdW5jdGlvbigkaHR0cCwgYXV0aCl7XHJcblx0XHR2YXIgcG9zdFNlcnZpY2UgPSB7XHJcblx0XHRcdHBvc3RzOiBbXVxyXG5cdFx0fTtcclxuXHRcdHBvc3RTZXJ2aWNlLmdldEFsbCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZ2V0KCcvcG9zdHMnKS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdGFuZ3VsYXIuY29weShkYXRhLCBwb3N0U2VydmljZS5wb3N0cyk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5nZXRQb3N0c0J5VXNlciA9IGZ1bmN0aW9uKHVzZXJuYW1lKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9wb3N0cy91c2VyLycgKyB1c2VybmFtZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7XHJcblx0XHRcdFx0cmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5nZXRBbGxQb3N0SWRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiBwb3N0U2VydmljZS5wb3N0cy5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0cmV0dXJuIGl0ZW0uX2lkO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuY3JlYXRlID0gZnVuY3Rpb24ocG9zdCl7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wb3N0KCcvcG9zdHMnLCBwb3N0LCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KS5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdHBvc3RTZXJ2aWNlLnBvc3RzLnNwbGljZSgwLCAwLCBkYXRhKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmdldCA9IGZ1bmN0aW9uKGlkKSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5nZXQoJy9wb3N0cy8nICsgaWQpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGE7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5hZGRDb21tZW50ID0gZnVuY3Rpb24oaWQsIGNvbW1lbnQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnBvc3QoJy9wb3N0cy8nICsgaWQgKyAnL2NvbW1lbnRzJywgY29tbWVudCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmxpa2UgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQvKi5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdHBvc3QudXNlcnNMaWtlZC5wdXNoKGRhdGEpO1xyXG5cdFx0XHR9KSovXHJcblx0XHRcdDtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UudW5saWtlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy91bmxpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KVxyXG5cdFx0XHQvKi5zdWNjZXNzKGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdHZhciBpbmRleCA9IHBvc3QudXNlcnNMaWtlZC5pbmRleE9mKGRhdGEpO1xyXG5cdFx0XHRcdHBvc3QudXNlcnNMaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHR9KSovXHJcblx0XHRcdDtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuZGlzbGlrZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvZGlzbGlrZScsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS51bmRpc2xpa2UgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL3VuZGlzbGlrZScsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5zYXZlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9zYXZlJywgcG9zdCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbihwb3N0KXtcclxuXHRcdFx0XHR2YXIgcG9zdEluZGV4ID0gcG9zdFNlcnZpY2UuZ2V0QWxsUG9zdElkcygpLmluZGV4T2YocG9zdC5faWQpO1xyXG5cdFx0XHRcdHBvc3RTZXJ2aWNlLnBvc3RzW3Bvc3RJbmRleF0gPSBwb3N0O1xyXG5cdFx0XHR9KVxyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5zYXZlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvY29tbWVudHMvJyArIGNvbW1lbnQuX2lkICsgJy9zYXZlJywgY29tbWVudCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSkuc3VjY2VzcyhmdW5jdGlvbihjb21tZW50KXtcclxuXHRcdFx0XHR2YXIgcG9zdEluZGV4ID0gcG9zdFNlcnZpY2UuZ2V0QWxsUG9zdElkcygpLmluZGV4T2YocG9zdC5faWQpO1xyXG5cdFx0XHRcdHZhciBjb21tZW50SW5kZXggPSBwb3N0LmNvbW1lbnRzLm1hcChmdW5jdGlvbihpdGVtKXtcclxuXHRcdFx0XHRcdHJldHVybiBpdGVtLl9pZDtcclxuXHRcdFx0XHR9KS5pbmRleE9mKGNvbW1lbnQuX2lkKTtcclxuXHRcdFx0XHRwb3N0LmNvbW1lbnRzW2NvbW1lbnRJbmRleF0gPSBjb21tZW50O1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UuZGVsZXRlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHR2YXIgaW5kZXggPSBwb3N0U2VydmljZS5wb3N0cy5pbmRleE9mKHBvc3QpO1xyXG5cdFx0XHRwb3N0U2VydmljZS5wb3N0cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cclxuXHRcdFx0cmV0dXJuICRodHRwLmRlbGV0ZSgnL3Bvc3RzLycgKyBwb3N0Ll9pZCwgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmRlbGV0ZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LGNvbW1lbnQpIHtcclxuXHRcdFx0dmFyIHBvc3RJbmRleCA9IHBvc3RTZXJ2aWNlLmdldEFsbFBvc3RJZHMoKS5pbmRleE9mKHBvc3QuX2lkKTtcclxuXHRcdFx0dmFyIGNvbW1lbnRJbmRleCA9IHBvc3QuY29tbWVudHMuaW5kZXhPZihjb21tZW50KTtcclxuXHRcdFx0cG9zdC5jb21tZW50cy5zcGxpY2UoY29tbWVudEluZGV4LCAxKTtcclxuXHRcdFx0cG9zdFNlcnZpY2UucG9zdHNbcG9zdEluZGV4XSA9IHBvc3Q7XHJcblxyXG5cdFx0XHRyZXR1cm4gJGh0dHAuZGVsZXRlKCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9jb21tZW50cy8nICsgY29tbWVudC5faWQsIG51bGwsIHtcclxuXHRcdFx0XHRoZWFkZXJzOiB7QXV0aG9yaXphdGlvbjogXCJCZWFyZXIgXCIgKyBhdXRoLmdldFRva2VuKCl9XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHRwb3N0U2VydmljZS5saWtlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvY29tbWVudHMvJyArIGNvbW1lbnQuX2lkICsgJy9saWtlJywgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLnVubGlrZUNvbW1lbnQgPSBmdW5jdGlvbihwb3N0LCBjb21tZW50KSB7XHJcblx0XHRcdHJldHVybiAkaHR0cC5wdXQoJy9wb3N0cy8nICsgcG9zdC5faWQgKyAnL2NvbW1lbnRzLycgKyBjb21tZW50Ll9pZCArICcvdW5saWtlJywgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHBvc3RTZXJ2aWNlLmRpc2xpa2VDb21tZW50ID0gZnVuY3Rpb24ocG9zdCwgY29tbWVudCkge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAucHV0KCcvcG9zdHMvJyArIHBvc3QuX2lkICsgJy9jb21tZW50cy8nICsgY29tbWVudC5faWQgKyAnL2Rpc2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cG9zdFNlcnZpY2UudW5kaXNsaWtlQ29tbWVudCA9IGZ1bmN0aW9uKHBvc3QsIGNvbW1lbnQpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwLnB1dCgnL3Bvc3RzLycgKyBwb3N0Ll9pZCArICcvY29tbWVudHMvJyArIGNvbW1lbnQuX2lkICsgJy91bmRpc2xpa2UnLCBudWxsLCB7XHJcblx0XHRcdFx0aGVhZGVyczoge0F1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiICsgYXV0aC5nZXRUb2tlbigpfVxyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIHBvc3RTZXJ2aWNlO1xyXG5cdH1dKVxyXG5cdDsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay51c2VyLmZpbmQuY29udHJvbGxlclwiLCBbXSlcclxuXHQuY29udHJvbGxlcignRmluZFVzZXJDdHJsJywgWyckc2NvcGUnLCAndXNlcicsICckc3RhdGUnLCAnJHdpbmRvdycsIGZ1bmN0aW9uKCRzY29wZSwgdXNlciwgJHN0YXRlLCAkd2luZG93KXtcclxuXHRcdCRzY29wZS51c2VycyA9IHVzZXIudXNlcnM7XHJcblx0XHQkc2NvcGUubWVzc2FnZXMgPSB7fTtcclxuXHRcdCRzY29wZS5maW5kVXNlciA9IGZ1bmN0aW9uKHVzcikge1xyXG5cdFx0XHRyZXR1cm4gdXNlci5maW5kVXNlcih1c3IpLnRoZW4oZnVuY3Rpb24ocmVzKXtcclxuXHRcdFx0XHRyZXR1cm4gcmVzLmRhdGEubWFwKGZ1bmN0aW9uKGl0ZW0pe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW0udXNlcm5hbWU7XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuZ290byA9IGZ1bmN0aW9uKHVzcikge1xyXG5cdFx0XHRpZiAodXNyKSB7XHJcblx0XHRcdFx0JHN0YXRlLmdvKFwidXNlclwiLCB7dXNlcm5hbWU6IHVzcn0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdCRzY29wZS5tZXNzYWdlcy5lcnJvciA9ICdC4bqhbiBjaMawYSBuaOG6rXAgdMOqbiBuZ8aw4budaSBkw7luZyBj4bqnbiB0w6xtISc7XHJcblx0XHRcdH1cclxuXHRcdFx0XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kZWxldGVVc2VyID0gZnVuY3Rpb24odXNyKSB7XHJcblx0XHRcdGlmICgkd2luZG93LmNvbmZpcm0oXCJC4bqhbiBjw7MgY2jhuq9jIGNo4bqvbiBtdeG7kW4geMOzYSBuZ8aw4budaSBkw7luZyBuw6B5IHJhIGto4buPaSBo4buHIHRo4buRbmc/XCIpKSB7XHJcblx0XHRcdFx0dXNlci5kZWxldGVVc2VyKHVzcik7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdH1dKTsiLCJhbmd1bGFyLm1vZHVsZShcIm15TmV0d29yay51c2VyLnZpZXdwb3N0cy5jb250cm9sbGVyXCIsIFtdKVxyXG5cdC5jb250cm9sbGVyKCdWaWV3VXNlclBvc3RzQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICckc3RhdGUnLCAnYXV0aCcsICdwb3N0cycsICd1c2VyUG9zdHMnLCAnJHdpbmRvdycsICdSRUdFWFBTJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGVQYXJhbXMsICRzdGF0ZSwgYXV0aCwgcG9zdHMsIHVzZXJQb3N0cywgJHdpbmRvdywgcmVnZXgpe1xyXG5cdFx0JHNjb3BlLmlzTG9nZ2VkSW4gPSBhdXRoLmlzTG9nZ2VkSW47XHJcblx0XHQkc2NvcGUuY3VycmVudFVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyO1xyXG5cdFx0JHNjb3BlLmxvZ091dCA9IGF1dGgubG9nT3V0O1xyXG5cdFx0JHNjb3BlLmFsbHBvc3RzID0gdXNlclBvc3RzO1xyXG5cdFx0JHNjb3BlLnVzZXJuYW1lID0gJHN0YXRlUGFyYW1zLnVzZXJuYW1lO1xyXG5cdFx0JHNjb3BlLmN1cnJlbnRQYWdlID0gMTtcclxuXHRcdCRzY29wZS5wb3N0c1BlclBhZ2UgPSAxMDtcclxuXHJcblx0XHQkc2NvcGUuZWRpdGluZyA9IHt9O1xyXG5cdFx0dmFyIFZBTElEX0xJTksgPSByZWdleC5WQUxJRF9MSU5LX05PVF9SRVFVSVJFRF9QUk9UT0NPTDtcclxuXHJcblx0XHQkc2NvcGUubGlrZV91bmxpa2UgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSA9PT0gLTEpIHtcclxuXHRcdFx0XHRcdHBvc3RzLmxpa2UocG9zdCk7XHJcblx0XHRcdFx0XHRwb3N0LnVzZXJzTGlrZWQucHVzaCh1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QucG9pbnRzKz0yO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRwb3N0cy51bmxpa2UocG9zdCk7XHJcblx0XHRcdFx0XHR2YXIgaW5kZXggPSBwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNMaWtlZC5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMtPTI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kaXNsaWtlX3VuZGlzbGlrZSA9IGZ1bmN0aW9uKHBvc3QpIHtcclxuXHRcdFx0aWYgKGF1dGguaXNMb2dnZWRJbigpKSB7XHJcblx0XHRcdFx0dmFyIHVzZXIgPSBhdXRoLmN1cnJlbnRVc2VyKCk7XHJcblx0XHRcdFx0aWYgKHBvc3QudXNlcnNEaXNsaWtlZC5pbmRleE9mKHVzZXIpID09PSAtMSkge1xyXG5cdFx0XHRcdFx0cG9zdHMuZGlzbGlrZShwb3N0KTtcclxuXHRcdFx0XHRcdHBvc3QudXNlcnNEaXNsaWtlZC5wdXNoKHVzZXIpO1xyXG5cdFx0XHRcdFx0cG9zdC5wb2ludHMtLTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cG9zdHMudW5kaXNsaWtlKHBvc3QpO1xyXG5cdFx0XHRcdFx0dmFyIGluZGV4ID0gcG9zdC51c2Vyc0Rpc2xpa2VkLmluZGV4T2YodXNlcik7XHJcblx0XHRcdFx0XHRwb3N0LnVzZXJzRGlzbGlrZWQuc3BsaWNlKGluZGV4LCAxKTtcclxuXHRcdFx0XHRcdHBvc3QucG9pbnRzKys7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5saWtlVG9vbHRpcFRleHQgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzTGlrZWQuaW5kZXhPZih1c2VyKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIkLhu48gdGjDrWNoXCI7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIlRow61jaFwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRyZXR1cm4gXCJC4bqhbiBj4bqnbiDEkcSDbmcgbmjhuq1wIVwiO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdCRzY29wZS5kaXNsaWtlVG9vbHRpcFRleHQgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdGlmIChhdXRoLmlzTG9nZ2VkSW4oKSkge1xyXG5cdFx0XHRcdHZhciB1c2VyID0gYXV0aC5jdXJyZW50VXNlcigpO1xyXG5cdFx0XHRcdGlmIChwb3N0LnVzZXJzRGlzbGlrZWQuaW5kZXhPZih1c2VyKSAhPT0gLTEpIHtcclxuXHRcdFx0XHRcdHJldHVybiBcIkLhu48ga2jDtG5nIHRow61jaFwiO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gXCJLaMO0bmcgdGjDrWNoXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBcIkLhuqFuIGPhuqduIMSRxINuZyBuaOG6rXAhXCI7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLmVkaXQgPSBmdW5jdGlvbihwb3N0KSB7XHJcblx0XHRcdCRzY29wZS5lZGl0aW5nLmN1cnJlbnQgPSBbcG9zdCwgdHJ1ZV07XHJcblx0XHRcdCRzY29wZS50aXRsZSA9ICRzY29wZS5lZGl0aW5nLmN1cnJlbnRbMF0udGl0bGU7XHJcblx0XHRcdCRzY29wZS5saW5rID0gJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS5saW5rO1xyXG5cdFx0XHQkd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG5cdFx0fTtcclxuXHJcblx0XHQkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoISRzY29wZS50aXRsZSAmJiAhJHNjb3BlLmxpbmspIHtcclxuXHRcdFx0XHRpZiAoJHdpbmRvdy5jb25maXJtKFwiQuG6oW4gY8OzIGNo4bqvYyBjaOG6r24gbXXhu5FuIHjDs2Ega2jDtG5nP1wiKSkge1xyXG5cdFx0XHRcdFx0cG9zdHMuZGVsZXRlKCRzY29wZS5lZGl0aW5nLmN1cnJlbnRbMF0pO1xyXG5cdFx0XHRcdFx0JHNjb3BlLmVkaXRpbmcgPSB7fTtcclxuXHRcdFx0XHRcdCRzY29wZS5lcnJvciA9ICcnO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmICghJHNjb3BlLnRpdGxlKSB7XHJcblx0XHRcdFx0JHNjb3BlLmVycm9yID0gJ0LhuqFuIGNoxrBhIG5o4bqtcCBu4buZaSBkdW5nISc7XHJcblx0XHRcdH0gZWxzZSBpZiAoJHNjb3BlLmxpbmsgJiYgIVZBTElEX0xJTksudGVzdCgkc2NvcGUubGluaykpIHtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnTGluayBraMO0bmcgaOG7o3AgbOG7hyEnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciB1cGRhdGVkUG9zdCA9IHtcclxuXHRcdFx0XHRcdF9pZDogJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS5faWQsXHJcblx0XHRcdFx0XHR0aXRsZTogJHNjb3BlLnRpdGxlLFxyXG5cdFx0XHRcdFx0bGluazogJHNjb3BlLmxpbmssXHJcblx0XHRcdFx0XHRkYXRlOiBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0fTtcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRwb3N0cy5zYXZlKHVwZGF0ZWRQb3N0KTtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSAkc2NvcGUuYWxscG9zdHMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW0uX2lkO1xyXG5cdFx0XHRcdH0pLmluZGV4T2YoJHNjb3BlLmVkaXRpbmcuY3VycmVudFswXS5faWQpO1xyXG5cdFx0XHRcdCRzY29wZS5hbGxwb3N0c1tpbmRleF0udGl0bGUgPSB1cGRhdGVkUG9zdC50aXRsZTtcclxuXHRcdFx0XHQkc2NvcGUuYWxscG9zdHNbaW5kZXhdLmxpbmsgPSB1cGRhdGVkUG9zdC5saW5rO1xyXG5cdFx0XHRcdCRzY29wZS5hbGxwb3N0c1tpbmRleF0uZGF0ZSA9IHVwZGF0ZWRQb3N0LmRhdGU7XHJcblx0XHRcdFx0JHNjb3BlLmVkaXRpbmcgPSB7fTtcclxuXHRcdFx0XHQkc2NvcGUuZXJyb3IgPSAnJztcclxuXHRcdFx0fVxyXG5cdFx0XHRcclxuXHRcdH07XHJcblxyXG5cdFx0JHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdCRzY29wZS5lZGl0aW5nID0ge307XHJcblx0XHR9O1xyXG5cclxuXHJcblx0XHQkc2NvcGUuZGVsZXRlID0gZnVuY3Rpb24ocG9zdCkge1xyXG5cdFx0XHRpZiAoJHdpbmRvdy5jb25maXJtKFwiQ8OzIHBo4bqjaSBi4bqhbiBtdeG7kW4geMOzYSBiw6BpIHZp4bq/dCBuw6B5P1wiKSkge1xyXG5cdFx0XHRcdHBvc3RzLmRlbGV0ZShwb3N0KTtcclxuXHRcdFx0XHR2YXIgaW5kZXggPSAkc2NvcGUuYWxscG9zdHMubWFwKGZ1bmN0aW9uKGl0ZW0pe1xyXG5cdFx0XHRcdFx0cmV0dXJuIGl0ZW0uX2lkO1xyXG5cdFx0XHRcdH0pLmluZGV4T2YocG9zdC5faWQpO1xyXG5cdFx0XHRcdCRzY29wZS5hbGxwb3N0cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG5cdFx0XHR9XHRcdFx0XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0fV0pOyIsImFuZ3VsYXIubW9kdWxlKFwibXlOZXR3b3JrLnVzZXIuc2VydmljZVwiLCBbXSlcclxuXHQuZmFjdG9yeSgndXNlcicsIFsnJGh0dHAnLCAnYXV0aCcsIGZ1bmN0aW9uKCRodHRwLCBhdXRoKXtcclxuXHRcdHZhciB1c2VyU2VydmljZSA9IHtcclxuXHRcdFx0dXNlcnM6IFtdLFxyXG5cdFx0fTtcclxuXHJcblx0XHR1c2VyU2VydmljZS5maW5kVXNlciA9IGZ1bmN0aW9uKHVzcikge1xyXG5cdFx0XHRyZXR1cm4gJGh0dHAoe1xyXG5cdFx0XHRcdG1ldGhvZDogJ0dFVCcsXHJcblx0XHRcdFx0dXJsOiAnL3VzZXJzL2ZpbmRVc2VyLycgKyB1c3JcclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHVzZXJTZXJ2aWNlLmdldEFsbFVzZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuICRodHRwKHtcclxuXHRcdFx0XHRtZXRob2Q6ICdHRVQnLFxyXG5cdFx0XHRcdHVybDogJy91c2Vycy9hbGwnXHJcblx0XHRcdH0pLnN1Y2Nlc3MoZnVuY3Rpb24odXNlcnMpe1xyXG5cdFx0XHRcdGFuZ3VsYXIuY29weSh1c2VycywgdXNlclNlcnZpY2UudXNlcnMpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH07XHJcblxyXG5cdFx0dXNlclNlcnZpY2UuZGVsZXRlVXNlciA9IGZ1bmN0aW9uKHVzcikge1xyXG5cdFx0XHR2YXIgaW5kZXggPSB1c2VyU2VydmljZS51c2Vycy5tYXAoZnVuY3Rpb24oaXRlbSl7XHJcblx0XHRcdFx0cmV0dXJuIGl0ZW0udXNlcm5hbWU7XHJcblx0XHRcdH0pLmluZGV4T2YodXNyLnVzZXJuYW1lKTtcclxuXHRcdFx0dXNlclNlcnZpY2UudXNlcnMuc3BsaWNlKGluZGV4LCAxKTtcclxuXHJcblx0XHRcdHJldHVybiAkaHR0cC5kZWxldGUoJy91c2Vycy9kZWxldGUvJyArIHVzci51c2VybmFtZSwgbnVsbCwge1xyXG5cdFx0XHRcdGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBcIkJlYXJlciBcIiArIGF1dGguZ2V0VG9rZW4oKX1cclxuXHRcdFx0fSk7XHJcblx0XHR9O1xyXG5cclxuXHJcblx0XHRyZXR1cm4gdXNlclNlcnZpY2U7XHJcblx0fV0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==